(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],t):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()})(this,function(){return function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(a,n,function(t){return e[t]}.bind(null,n));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";var a=r(1),n=r(146),o=r(162),s=r(163),i=r(151),l=r(164),d=r(156),c=r(153);{var u=r(4);if(u()){var p=r(165).PDFNodeStream;n.setPDFNetworkStreamFactory(function(e){return new p(e)})}else if("undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream){var m=r(168).PDFFetchStream;n.setPDFNetworkStreamFactory(function(e){return new m(e)})}else{var g=r(169).PDFNetworkStream;n.setPDFNetworkStreamFactory(function(e){return new g(e)})}}t.build=n.build,t.version=n.version,t.getDocument=n.getDocument,t.LoopbackPort=n.LoopbackPort,t.PDFDataRangeTransport=n.PDFDataRangeTransport,t.PDFWorker=n.PDFWorker,t.renderTextLayer=o.renderTextLayer,t.AnnotationLayer=s.AnnotationLayer,t.createPromiseCapability=a.createPromiseCapability,t.PasswordResponses=a.PasswordResponses,t.InvalidPDFException=a.InvalidPDFException,t.MissingPDFException=a.MissingPDFException,t.SVGGraphics=l.SVGGraphics,t.NativeImageDecoding=a.NativeImageDecoding,t.CMapCompressionType=a.CMapCompressionType,t.PermissionFlag=a.PermissionFlag,t.UnexpectedResponseException=a.UnexpectedResponseException,t.OPS=a.OPS,t.VerbosityLevel=a.VerbosityLevel,t.UNSUPPORTED_FEATURES=a.UNSUPPORTED_FEATURES,t.createValidAbsoluteUrl=a.createValidAbsoluteUrl,t.createObjectURL=a.createObjectURL,t.removeNullCharacters=a.removeNullCharacters,t.shadow=a.shadow,t.Util=a.Util,t.ReadableStream=a.ReadableStream,t.URL=a.URL,t.RenderingCancelledException=i.RenderingCancelledException,t.getFilenameFromUrl=i.getFilenameFromUrl,t.LinkTarget=i.LinkTarget,t.addLinkAttributes=i.addLinkAttributes,t.loadScript=i.loadScript,t.GlobalWorkerOptions=d.GlobalWorkerOptions,t.apiCompatibilityParams=c.apiCompatibilityParams},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(){return f}function o(e){f>=h.INFOS&&console.log("Info: "+e)}function s(e){f>=h.WARNINGS&&console.log("Warning: "+e)}function i(e){throw new Error(e)}function l(e,t){e||i(t)}function d(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1;}}function c(e){l(null!==e&&"object"===a(e)&&e.length!==void 0,"Invalid argument for bytesToString");var t=e.length,r=8192;if(t<r)return String.fromCharCode.apply(null,e);for(var n=[],o=0;o<t;o+=r){var s=Math.min(o+r,t),d=e.subarray(o,s);n.push(String.fromCharCode.apply(null,d))}return n.join("")}function u(e){l("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),a=0;a<t;++a)r[a]=255&e.charCodeAt(a);return r}function p(e){return void 0===e.length?(l(void 0!==e.byteLength),e.byteLength):e.length}function m(e){return"object"===a(e)&&null!==e&&e.byteLength!==void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.toRomanNumerals=function(e){var t=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];l(Number.isInteger(e)&&0<e,"The number should be a positive integer.");for(var r=[],a;1e3<=e;)e-=1e3,r.push("M");a=0|e/100,e%=100,r.push(w[a]),a=0|e/10,e%=10,r.push(w[10+a]),r.push(w[20+e]);var n=r.join("");return t?n.toLowerCase():n},t.arrayByteLength=p,t.arraysToBytes=function(e){if(1===e.length&&e[0]instanceof Uint8Array)return e[0];var t=0,r=e.length,a,n,o;for(a=0;a<r;a++)n=e[a],o=p(n),t+=o;var s=0,l=new Uint8Array(t);for(a=0;a<r;a++)n=e[a],n instanceof Uint8Array||("string"==typeof n?n=u(n):n=new Uint8Array(n)),o=n.byteLength,l.set(n,s),s+=o;return l},t.assert=l,t.bytesToString=c,t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise(function(r,a){e.resolve=function(e){t=!0,r(e)},e.reject=function(e){t=!0,a(e)}}),e},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getInheritableProperty=function(e){for(var t=e.dict,r=e.key,a=e.getArray,n=e.stopWhenFound,o=0,i;t;){var l=void 0!==a&&a?t.getArray(r):t.get(r);if(l!==void 0){if(void 0===n||n)return l;i||(i=[]),i.push(l)}if(++o>100){s("getInheritableProperty: maximum loop count exceeded for \"".concat(r,"\""));break}t=t.get("Parent")}return i},t.getLookupTableFactory=function(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}},t.getVerbosityLevel=n,t.info=o,t.isArrayBuffer=m,t.isBool=function(e){return"boolean"==typeof e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isNum=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSpace=function(e){return 32===e||9===e||13===e||10===e},t.isSameOrigin=function(e,t){try{var r=new _.URL(e);if(!r.origin||"null"===r.origin)return!1}catch(t){return!1}var a=new _.URL(t,r);return r.origin===a.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var r=t?new _.URL(e,t):new _.URL(e);if(d(r))return r}catch(e){}return null},t.isLittleEndian=function(){var e=new Uint8Array(4);e[0]=1;var t=new Uint32Array(e.buffer,0,1);return 1===t[0]},t.isEvalSupported=function(){try{return new Function(""),!0}catch(t){return!1}},t.log2=function(e){return 0>=e?0:Math.ceil(Math.log2(e))},t.readInt8=function(e,t){return e[t]<<24>>24},t.readUint16=function(e,t){return e[t]<<8|e[t+1]},t.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},t.removeNullCharacters=function(e){return"string"==typeof e?e.replace(T,""):(s("The argument for removeNullCharacters must be a string."),e)},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(f=e)},t.shadow=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r},t.string32=function(e){return String.fromCharCode(255&e>>24,255&e>>16,255&e>>8,255&e)},t.stringToBytes=u,t.stringToPDFString=function(e){var t=e.length,r=[],a;if("\xFE"===e[0]&&"\xFF"===e[1])for(a=2;a<t;a+=2)r.push(String.fromCharCode(e.charCodeAt(a)<<8|e.charCodeAt(a+1)));else for(a=0;a<t;++a){var n=I[e.charCodeAt(a)];r.push(n?String.fromCharCode(n):e.charAt(a))}return r.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=s,t.unreachable=i,Object.defineProperty(t,"ReadableStream",{enumerable:!0,get:function(){return g.ReadableStream}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return _.URL}}),t.createObjectURL=t.FormatError=t.XRefParseException=t.XRefEntryException=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.NativeImageDecoding=t.MissingPDFException=t.MissingDataException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=void 0,r(2);var g=r(142),_=r(144);t.IDENTITY_MATRIX=[1,0,0,1,0,0];t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];t.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};t.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};var h={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=h;t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var f=h.WARNINGS,y=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}();t.PasswordException=y;var b=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}();t.UnknownErrorException=b;var A=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();t.InvalidPDFException=A;var S=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();t.MissingPDFException=S;var v=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}();t.UnexpectedResponseException=v;var x=function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e,e}();t.MissingDataException=x;var k=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefEntryException",e.constructor=e,e}();t.XRefEntryException=k;var C=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e,e}();t.XRefParseException=C;var R=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="FormatError",e.constructor=e,e}();t.FormatError=R;var P=function(){function e(e){this.name="AbortException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();t.AbortException=P;var T=/\x00/g,E=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];return e.makeCssRgb=function(e,r,a){return t[1]=e,t[3]=r,t[5]=a,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){var r=e[0]*t[0]+e[1]*t[2]+t[4],a=e[0]*t[1]+e[1]*t[3]+t[5];return[r,a]},e.applyInverseTransform=function(e,t){var r=t[0]*t[3]-t[1]*t[2],a=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,n=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[a,n]},e.getAxialAlignedBoundingBox=function(t,r){var a=e.applyTransform(t,r),n=e.applyTransform(t.slice(2,4),r),o=e.applyTransform([t[0],t[3]],r),s=e.applyTransform([t[2],t[1]],r);return[Math.min(a[0],n[0],o[0],s[0]),Math.min(a[1],n[1],o[1],s[1]),Math.max(a[0],n[0],o[0],s[0]),Math.max(a[1],n[1],o[1],s[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],a=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],s=(r+o)/2,i=Math.sqrt((r+o)*(r+o)-4*(r*o-n*a))/2;return[Math.sqrt(s+i||1),Math.sqrt(s-i||1)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,r){function a(e,t){return e-t}var n=[t[0],t[2],r[0],r[2]].sort(a),o=[t[1],t[3],r[1],r[3]].sort(a),s=[];if(t=e.normalizeRect(t),r=e.normalizeRect(r),n[0]===t[0]&&n[1]===r[0]||n[0]===r[0]&&n[1]===t[0])s[0]=n[1],s[2]=n[2];else return!1;if(o[0]===t[1]&&o[1]===r[1]||o[0]===r[1]&&o[1]===t[1])s[1]=o[1],s[3]=o[2];else return!1;return s},e}();t.Util=E;var w=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],L=function(){return function(e,t){var r=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];if(!r&&_.URL.createObjectURL){var a=new Blob([e],{type:t});return _.URL.createObjectURL(a)}for(var n="data:"+t+";base64,",o=0,s=e.length;o<s;o+=3){var l=255&e[o],d=255&e[o+1],c=255&e[o+2],u=o+1<s?(15&d)<<2|c>>6:64,p=o+2<s?63&c:64;n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[l>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(3&l)<<4|d>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[u]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[p]}return n}}();t.createObjectURL=L},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var n=r(3);if(!n._pdfjsCompatibilityChecked){n._pdfjsCompatibilityChecked=!0;var o=r(4),s="object"===("undefined"==typeof window?"undefined":a(window))&&"object"===("undefined"==typeof document?"undefined":a(document));(function(){n.btoa||!o()||(n.btoa=function(e){return Buffer.from(e,"binary").toString("base64")})})(),function(){n.atob||!o()||(n.atob=function(e){return Buffer.from(e,"base64").toString("binary")})}(),function(){s&&"undefined"==typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function(){if(s&&!o()){var e=document.createElement("div");if(e.classList.add("testOne","testTwo"),!0!==e.classList.contains("testOne")||!0!==e.classList.contains("testTwo")){var t=DOMTokenList.prototype.add,r=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];for(var n=0,o;n<r.length;n++)o=r[n],t.call(this,o)},DOMTokenList.prototype.remove=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=0,o;n<t.length;n++)o=t[n],r.call(this,o)}}}}(),function(){if(s&&!o()){var e=document.createElement("div");!1===e.classList.toggle("test",0)||(DOMTokenList.prototype.toggle=function(e){var t=1<arguments.length?!!arguments[1]:!this.contains(e);return this[t?"add":"remove"](e),t})}}(),function(){String.prototype.startsWith||r(5)}(),function(){String.prototype.endsWith||r(35)}(),function(){String.prototype.includes||r(37)}(),function(){Array.prototype.includes||r(39)}(),function(){Array.from||r(46)}(),function(){Object.assign||r(69)}(),function(){Math.log2||(Math.log2=r(74))}(),function(){Number.isNaN||(Number.isNaN=r(76))}(),function(){Number.isInteger||(Number.isInteger=r(78))}(),function(){n.Promise&&n.Promise.prototype&&n.Promise.prototype.finally||(n.Promise=r(81))}(),function(){n.WeakMap||(n.WeakMap=r(101))}(),function(){n.WeakSet||(n.WeakSet=r(118))}(),function(){String.codePointAt||(String.codePointAt=r(122))}(),function(){String.fromCodePoint||(String.fromCodePoint=r(124))}(),function(){n.Symbol||r(126)}(),function(){String.prototype.padStart||r(133)}(),function(){String.prototype.padEnd||r(137)}(),function(){Object.values||(Object.values=r(139))}()}},function(e){"use strict";e.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(){return"object"===("undefined"==typeof process?"undefined":t(process))&&"[object process]"==process+""&&!process.versions.nw}},function(e,t,r){"use strict";r(6),e.exports=r(9).String.startsWith},function(e,t,r){"use strict";var a=r(7),n=r(25),o=r(27),s="startsWith",i=""[s];a(a.P+a.F*r(34)(s),"String",{startsWith:function(e){var t=o(this,e,s),r=n(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),a=e+"";return t.slice(r,r+a.length)===a}})},function(e,t,r){"use strict";var a=r(8),n=r(9),o=r(10),s=r(20),i=r(23),l="prototype",d=function e(t,r,d){var c=t&e.F,u=t&e.G,p=t&e.S,m=t&e.P,g=t&e.B,_=u?a:p?a[r]||(a[r]={}):(a[r]||{})[l],h=u?n:n[r]||(n[r]={}),f=h[l]||(h[l]={}),y,b,A,S;for(y in u&&(d=r),d)b=!c&&_&&void 0!==_[y],A=(b?_:d)[y],S=g&&b?i(A,a):m&&"function"==typeof A?i(Function.call,A):A,_&&s(_,y,A,t&e.U),h[y]!=A&&o(h,y,S),m&&f[y]!=A&&(f[y]=A)};a.core=n,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e){"use strict";var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){"use strict";var t=e.exports={version:"2.6.2"};"number"==typeof __e&&(__e=t)},function(e,t,r){"use strict";var a=r(11),n=r(19);e.exports=r(15)?function(e,t,r){return a.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";var a=r(12),n=r(14),o=r(18),s=Object.defineProperty;t.f=r(15)?Object.defineProperty:function(e,t,r){if(a(e),t=o(t,!0),a(r),n)try{return s(e,t,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";var a=r(13);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){return"object"===t(e)?null!==e:"function"==typeof e}},function(e,t,r){"use strict";e.exports=!r(15)&&!r(16)(function(){return 7!=Object.defineProperty(r(17)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){"use strict";e.exports=!r(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,r){"use strict";var a=r(13),n=r(8).document,o=a(n)&&a(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},function(e,t,r){"use strict";var a=r(13);e.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!a(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){"use strict";var a=r(8),n=r(10),o=r(21),s=r(22)("src"),i="toString",l=Function[i],d=(""+l).split(i);r(9).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,r,i){var l="function"==typeof r;l&&(o(r,"name")||n(r,"name",t));e[t]===r||(l&&(o(r,s)||n(r,s,e[t]?""+e[t]:d.join(t+""))),e===a?e[t]=r:i?e[t]?e[t]=r:n(e,t,r):(delete e[t],n(e,t,r)))})(Function.prototype,i,function(){return"function"==typeof this&&this[s]||l.call(this)})},function(e){"use strict";var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},function(e){"use strict";var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++t+r).toString(36))}},function(e,t,r){"use strict";var a=r(24);e.exports=function(e,t,r){return(a(e),void 0===t)?e:1===r?function(r){return e.call(t,r)}:2===r?function(r,a){return e.call(t,r,a)}:3===r?function(r,a,n){return e.call(t,r,a,n)}:function(){return e.apply(t,arguments)}}},function(e){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";var a=r(26),n=Math.min;e.exports=function(e){return 0<e?n(a(e),9007199254740991):0}},function(e){"use strict";var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:t)(e)}},function(e,t,r){"use strict";var a=r(28),n=r(33);e.exports=function(e,t,r){if(a(t))throw TypeError("String#"+r+" doesn't accept regex!");return n(e)+""}},function(e,t,r){"use strict";var a=r(13),n=r(29),o=r(30)("match");e.exports=function(e){var t;return a(e)&&((t=e[o])===void 0?"RegExp"==n(e):!!t)}},function(e){"use strict";var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,t,r){"use strict";var a=r(31)("wks"),n=r(22),o=r(8).Symbol,s="function"==typeof o,i=e.exports=function(e){return a[e]||(a[e]=s&&o[e]||(s?o:n)("Symbol."+e))};i.store=a},function(e,t,r){"use strict";var a=r(9),n=r(8),o="__core-js_shared__",s=n[o]||(n[o]={});(e.exports=function(e,t){return s[e]||(s[e]=t===void 0?{}:t)})("versions",[]).push({version:a.version,mode:r(32)?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},function(e){"use strict";e.exports=!1},function(e){"use strict";e.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";var a=r(30)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){"use strict";r(36),e.exports=r(9).String.endsWith},function(e,t,r){"use strict";var a=r(7),n=r(25),o=r(27),s="endsWith",i=""[s];a(a.P+a.F*r(34)(s),"String",{endsWith:function(e){var t=o(this,e,s),r=1<arguments.length?arguments[1]:void 0,a=n(t.length),i=r===void 0?a:Math.min(n(r),a),l=e+"";return t.slice(i-l.length,i)===l}})},function(e,t,r){"use strict";r(38),e.exports=r(9).String.includes},function(e,t,r){"use strict";var a=r(7),n=r(27),o="includes";a(a.P+a.F*r(34)(o),"String",{includes:function(e){return!!~n(this,e,o).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){"use strict";r(40),e.exports=r(9).Array.includes},function(e,t,r){"use strict";var a=r(7),n=r(41)(!0);a(a.P,"Array",{includes:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}}),r(45)("includes")},function(e,t,r){"use strict";var a=r(42),n=r(25),o=r(44);e.exports=function(e){return function(t,r,s){var i=a(t),l=n(i.length),d=o(s,l),c;if(e&&r!=r){for(;l>d;)if(c=i[d++],c!=c)return!0;}else for(;l>d;d++)if((e||d in i)&&i[d]===r)return e||d||0;return!e&&-1}}},function(e,t,r){"use strict";var a=r(43),n=r(33);e.exports=function(e){return a(n(e))}},function(e,t,r){"use strict";var a=r(29);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t,r){"use strict";var a=r(26),n=Math.max,o=Math.min;e.exports=function(e,t){return e=a(e),0>e?n(e+t,0):o(e,t)}},function(e,t,r){"use strict";var a=r(30)("unscopables"),n=Array.prototype;n[a]==null&&r(10)(n,a,{}),e.exports=function(e){n[a][e]=!0}},function(e,t,r){"use strict";r(47),r(62),e.exports=r(9).Array.from},function(e,t,r){"use strict";var a=r(48)(!0);r(49)(String,"String",function(e){this._t=e+"",this._i=0},function(){var e=this._t,t=this._i,r;return t>=e.length?{value:void 0,done:!0}:(r=a(e,t),this._i+=r.length,{value:r,done:!1})})},function(e,t,r){"use strict";var n=r(26),o=r(33);e.exports=function(e){return function(t,r){var d=o(t)+"",s=n(r),i=d.length,l,c;return 0>s||s>=i?e?"":void 0:(l=d.charCodeAt(s),55296>l||56319<l||s+1===i||56320>(c=d.charCodeAt(s+1))||57343<c?e?d.charAt(s):l:e?d.slice(s,s+2):(l-55296<<10)+(c-56320)+65536)}}},function(e,t,r){"use strict";var a=r(32),n=r(7),o=r(20),s=r(10),i=r(50),l=r(51),d=r(59),c=r(60),u=r(30)("iterator"),p=!([].keys&&"next"in[].keys()),m="keys",g="values",_=function(){return this};e.exports=function(e,t,r,h,f,y,b){l(r,t,h);var A=function(e){return!p&&e in k?k[e]:e===m?function(){return new r(this,e)}:e===g?function(){return new r(this,e)}:function(){return new r(this,e)}},S=t+" Iterator",v=f==g,x=!1,k=e.prototype,C=k[u]||k["@@iterator"]||f&&k[f],R=C||A(f),P=f?v?A("entries"):R:void 0,T="Array"==t?k.entries||C:C,E,w,I;if(T&&(I=c(T.call(new e)),I!==Object.prototype&&I.next&&(d(I,S,!0),!a&&"function"!=typeof I[u]&&s(I,u,_))),v&&C&&C.name!==g&&(x=!0,R=function(){return C.call(this)}),(!a||b)&&(p||x||!k[u])&&s(k,u,R),i[t]=R,i[S]=_,f)if(E={values:v?R:A(g),keys:y?R:A(m),entries:P},b)for(w in E)w in k||o(k,w,E[w]);else n(n.P+n.F*(p||x),t,E);return E}},function(e){"use strict";e.exports={}},function(e,t,r){"use strict";var a=r(52),n=r(19),o=r(59),s={};r(10)(s,r(30)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=a(s,{next:n(1,r)}),o(e,t+" Iterator")}},function(e,t,r){"use strict";var a=r(12),n=r(53),o=r(57),s=r(56)("IE_PROTO"),i=function(){},l="prototype",d=function(){var e=r(17)("iframe"),t=o.length,a="<",n=">",s;for(e.style.display="none",r(58).appendChild(e),e.src="javascript:",s=e.contentWindow.document,s.open(),s.write(a+"script"+n+"document.F=Object"+a+"/script"+n),s.close(),d=s.F;t--;)delete d[l][o[t]];return d()};e.exports=Object.create||function(e,t){var r;return null===e?r=d():(i[l]=a(e),r=new i,i[l]=null,r[s]=e),void 0===t?r:n(r,t)}},function(e,t,r){"use strict";var a=r(11),n=r(12),o=r(54);e.exports=r(15)?Object.defineProperties:function(e,t){n(e);for(var r=o(t),s=r.length,l=0,d;s>l;)a.f(e,d=r[l++],t[d]);return e}},function(e,t,r){"use strict";var a=r(55),n=r(57);e.exports=Object.keys||function(e){return a(e,n)}},function(e,t,r){"use strict";var a=r(21),n=r(42),o=r(41)(!1),s=r(56)("IE_PROTO");e.exports=function(e,t){var r=n(e),l=0,d=[],c;for(c in r)c!=s&&a(r,c)&&d.push(c);for(;t.length>l;)a(r,c=t[l++])&&(~o(d,c)||d.push(c));return d}},function(e,t,r){"use strict";var a=r(31)("keys"),n=r(22);e.exports=function(e){return a[e]||(a[e]=n(e))}},function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){"use strict";var a=r(8).document;e.exports=a&&a.documentElement},function(e,t,r){"use strict";var a=r(11).f,n=r(21),o=r(30)("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,o)&&a(e,o,{configurable:!0,value:t})}},function(e,t,r){"use strict";var a=r(21),n=r(61),o=r(56)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),a(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){"use strict";var a=r(33);e.exports=function(e){return Object(a(e))}},function(e,t,r){"use strict";var a=r(23),n=r(7),o=r(61),s=r(63),i=r(64),l=r(25),d=r(65),c=r(66);n(n.S+n.F*!r(68)(function(e){Array.from(e)}),"Array",{from:function(e){var t=o(e),r="function"==typeof this?this:Array,n=arguments.length,u=1<n?arguments[1]:void 0,p=void 0!==u,m=0,g=c(t),_,h,f,y;if(p&&(u=a(u,2<n?arguments[2]:void 0,2)),null!=g&&!(r==Array&&i(g)))for(y=g.call(t),h=new r;!(f=y.next()).done;m++)d(h,m,p?s(y,u,[f.value,m],!0):f.value);else for(_=l(t.length),h=new r(_);_>m;m++)d(h,m,p?u(t[m],m):t[m]);return h.length=m,h}})},function(e,t,r){"use strict";var a=r(12);e.exports=function(t,r,e,n){try{return n?r(a(e)[0],e[1]):r(e)}catch(r){var o=t["return"];throw void 0!==o&&a(o.call(t)),r}}},function(e,t,r){"use strict";var a=r(50),n=r(30)("iterator"),o=Array.prototype;e.exports=function(e){return e!==void 0&&(a.Array===e||o[n]===e)}},function(e,t,r){"use strict";var a=r(11),n=r(19);e.exports=function(e,t,r){t in e?a.f(e,t,n(0,r)):e[t]=r}},function(e,t,r){"use strict";var a=r(67),n=r(30)("iterator"),o=r(50);e.exports=r(9).getIteratorMethod=function(e){if(e!=null)return e[n]||e["@@iterator"]||o[a(e)]}},function(e,t,r){"use strict";var a=r(29),n=r(30)("toStringTag"),o="Arguments"==a(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(t){}};e.exports=function(e){var t,r,i;return e===void 0?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),n))?r:o?a(t):"Object"==(i=a(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,r){"use strict";var a=r(30)("iterator"),n=!1;try{var o=[7][a]();o["return"]=function(){n=!0},Array.from(o,function(){throw 2})}catch(t){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var o=[7],s=o[a]();s.next=function(){return{done:r=!0}},o[a]=function(){return s},e(o)}catch(t){}return r}},function(e,t,r){"use strict";r(70),e.exports=r(9).Object.assign},function(e,t,r){"use strict";var a=r(7);a(a.S+a.F,"Object",{assign:r(71)})},function(e,t,r){"use strict";var a=r(54),n=r(72),o=r(73),s=r(61),i=r(43),l=Object.assign;e.exports=!l||r(16)(function(){var e={},t={},r=Symbol(),a="abcdefghijklmnopqrst";return e[r]=7,a.split("").forEach(function(e){t[e]=e}),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=a})?function(e){for(var t=s(e),r=arguments.length,l=1,d=n.f,c=o.f;r>l;)for(var u=i(arguments[l++]),p=d?a(u).concat(d(u)):a(u),m=p.length,g=0,_;m>g;)c.call(u,_=p[g++])&&(t[_]=u[_]);return t}:l},function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},function(e,t){"use strict";t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";r(75),e.exports=r(9).Math.log2},function(e,t,r){"use strict";var a=r(7);a(a.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,r){"use strict";r(77),e.exports=r(9).Number.isNaN},function(e,t,r){"use strict";var a=r(7);a(a.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){"use strict";r(79),e.exports=r(9).Number.isInteger},function(e,t,r){"use strict";var a=r(7);a(a.S,"Number",{isInteger:r(80)})},function(e,t,r){"use strict";var a=r(13),n=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&n(e)===e}},function(e,t,r){"use strict";r(82),r(47),r(83),r(86),r(99),r(100),e.exports=r(9).Promise},function(e,t,r){"use strict";var a=r(67),n={};n[r(30)("toStringTag")]="z","[object z]"!=n+""&&r(20)(Object.prototype,"toString",function(){return"[object "+a(this)+"]"},!0)},function(e,t,r){"use strict";for(var a=r(84),n=r(54),o=r(20),s=r(8),l=r(10),d=r(50),c=r(30),u=c("iterator"),p=c("toStringTag"),m=d.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},_=n(g),h=0;h<_.length;h++){var f=_[h],y=g[f],b=s[f],A=b&&b.prototype,S;if(A&&(A[u]||l(A,u,m),A[p]||l(A,p,f),d[f]=m,y))for(S in a)A[S]||o(A,S,a[S],!0)}},function(e,t,r){"use strict";var a=r(45),n=r(85),o=r(50),s=r(42);e.exports=r(49)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,r):"values"==t?n(0,e[r]):n(0,[r,e[r]])},"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},function(e){"use strict";e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var a=r(32),n=r(8),o=r(23),s=r(67),i=r(7),l=r(13),d=r(24),c=r(87),u=r(88),p=r(89),m=r(90).set,g=r(92)(),_=r(93),h=r(94),f=r(95),y=r(96),b="Promise",A=n.TypeError,S=n.process,v=S&&S.versions,x=v&&v.v8||"",k=n[b],C="process"==s(S),R=function(){},P=M=_.f,T=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[r(30)("species")]=function(e){e(R,R)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(R)instanceof t&&0!==x.indexOf("6.6")&&-1===f.indexOf("Chrome/66")}catch(t){}}(),E=function(e){var t;return!!(l(e)&&"function"==typeof(t=e.then))&&t},w=function(e,t){if(!e._n){e._n=!0;var r=e._c;g(function(){for(var a=e._v,n=1==e._s,o=0,s=function(t){var r=n?t.ok:t.fail,o=t.resolve,s=t.reject,i=t.domain,l,d,c;try{r?(!n&&(2==e._h&&F(e),e._h=1),!0===r?l=a:(i&&i.enter(),l=r(a),i&&(i.exit(),c=!0)),l===t.promise?s(A("Promise-chain cycle")):(d=E(l))?d.call(l,o,s):o(l)):s(a)}catch(t){i&&!c&&i.exit(),s(t)}};r.length>o;)s(r[o++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){m.call(n,function(){var t=e._v,r=L(e),a,o,s;if(r&&(a=h(function(){C?S.emit("unhandledRejection",t,e):(o=n.onunhandledrejection)?o({promise:e,reason:t}):(s=n.console)&&s.error&&s.error("Unhandled promise rejection",t)}),e._h=C||L(e)?2:1),e._a=void 0,r&&a.e)throw a.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){m.call(n,function(){var t;C?S.emit("rejectionHandled",e):(t=n.onrejectionhandled)&&t({promise:e,reason:e._v})})},O=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),w(t,!0))},D=function e(t){var r=this,a;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw A("Promise can't be resolved itself");(a=E(t))?g(function(){var n={_w:r,_d:!1};try{a.call(t,o(e,n,1),o(O,n,1))}catch(t){O.call(n,t)}}):(r._v=t,r._s=1,w(r,!1))}catch(t){O.call({_w:r,_d:!1},t)}}},N,M,q,j;T||(k=function(e){c(this,k,b,"_h"),d(e),N.call(this);try{e(o(D,this,1),o(O,this,1))}catch(e){O.call(this,e)}},N=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},N.prototype=r(97)(k.prototype,{then:function(e,t){var r=P(p(this,k));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=C?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&w(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),q=function(){var e=new N;this.promise=e,this.resolve=o(D,e,1),this.reject=o(O,e,1)},_.f=P=function(e){return e===k||e===j?new q(e):M(e)}),i(i.G+i.W+i.F*!T,{Promise:k}),r(59)(k,b),r(98)(b),j=r(9)[b],i(i.S+i.F*!T,b,{reject:function(e){var t=P(this),r=t.reject;return r(e),t.promise}}),i(i.S+i.F*(a||!T),b,{resolve:function(e){return y(a&&this===j?k:this,e)}}),i(i.S+i.F*!(T&&r(68)(function(e){k.all(e)["catch"](R)})),b,{all:function(e){var t=this,r=P(t),a=r.resolve,n=r.reject,o=h(function(){var r=[],o=0,s=1;u(e,!1,function(e){var i=o++,l=!1;r.push(void 0),s++,t.resolve(e).then(function(e){l||(l=!0,r[i]=e,--s||a(r))},n)}),--s||a(r)});return o.e&&n(o.v),r.promise},race:function(e){var t=this,r=P(t),a=r.reject,n=h(function(){u(e,!1,function(e){t.resolve(e).then(r.resolve,a)})});return n.e&&a(n.v),r.promise}})},function(e){"use strict";e.exports=function(e,t,r,a){if(!(e instanceof t)||a!==void 0&&a in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){"use strict";var a=r(23),n=r(63),o=r(64),s=r(12),i=r(25),l=r(66),d={},c={},u=e.exports=function(e,t,r,u,p){var m=p?function(){return e}:l(e),g=a(r,u,t?2:1),_=0,h,f,y,b;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(h=i(e.length);h>_;_++)if(b=t?g(s(f=e[_])[0],f[1]):g(e[_]),b===d||b===c)return b;}else for(y=m.call(e);!(f=y.next()).done;)if(b=n(y,g,f.value,t),b===d||b===c)return b};u.BREAK=d,u.RETURN=c},function(e,t,r){"use strict";var a=r(12),n=r(24),o=r(30)("species");e.exports=function(e,t){var r=a(e).constructor,s;return r===void 0||(s=a(r)[o])==null?t:n(s)}},function(e,t,r){"use strict";var a=r(23),n=r(91),o=r(58),s=r(17),i=r(8),l=i.process,d=i.setImmediate,c=i.clearImmediate,u=i.MessageChannel,p=i.Dispatch,m=0,g={},_="onreadystatechange",h=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},f=function(e){h.call(e.data)},y,b,A;d&&c||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++m]=function(){n("function"==typeof e?e:Function(e),t)},y(m),m},c=function(e){delete g[e]},"process"==r(29)(l)?y=function(e){l.nextTick(a(h,e,1))}:p&&p.now?y=function(e){p.now(a(h,e,1))}:u?(b=new u,A=b.port2,b.port1.onmessage=f,y=a(A.postMessage,A,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts?(y=function(e){i.postMessage(e+"","*")},i.addEventListener("message",f,!1)):_ in s("script")?y=function(e){o.appendChild(s("script"))[_]=function(){o.removeChild(this),h.call(e)}}:y=function(e){setTimeout(a(h,e,1),0)}),e.exports={set:d,clear:c}},function(e){"use strict";e.exports=function(e,t,r){var a=r===void 0;switch(t.length){case 0:return a?e():e.call(r);case 1:return a?e(t[0]):e.call(r,t[0]);case 2:return a?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3]);}return e.apply(r,t)}},function(e,t,r){"use strict";var a=r(8),n=r(90).set,o=a.MutationObserver||a.WebKitMutationObserver,s=a.process,i=a.Promise,l="process"==r(29)(s);e.exports=function(){var e=function(){var e,a;for(l&&(e=s.domain)&&e.exit();t;){a=t.fn,t=t.next;try{a()}catch(a){throw t?d():r=void 0,a}}r=void 0,e&&e.enter()},t,r,d;if(l)d=function(){s.nextTick(e)};else if(o&&!(a.navigator&&a.navigator.standalone)){var c=!0,u=document.createTextNode("");new o(e).observe(u,{characterData:!0}),d=function(){u.data=c=!c}}else if(i&&i.resolve){var p=i.resolve(void 0);d=function(){p.then(e)}}else d=function(){n.call(a,e)};return function(e){var a={fn:e,next:void 0};r&&(r.next=a),t||(t=a,d()),r=a}}},function(e,t,r){"use strict";function a(e){var t,r;this.promise=new e(function(e,a){if(t!==void 0||r!==void 0)throw TypeError("Bad Promise constructor");t=e,r=a}),this.resolve=n(t),this.reject=n(r)}var n=r(24);e.exports.f=function(e){return new a(e)}},function(e){"use strict";e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,r){"use strict";var a=r(8),n=a.navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var a=r(12),n=r(13),o=r(93);e.exports=function(e,t){if(a(e),n(t)&&t.constructor===e)return t;var r=o.f(e),s=r.resolve;return s(t),r.promise}},function(e,t,r){"use strict";var a=r(20);e.exports=function(e,t,r){for(var n in t)a(e,n,t[n],r);return e}},function(e,t,r){"use strict";var a=r(8),n=r(11),o=r(15),s=r(30)("species");e.exports=function(e){var t=a[e];o&&t&&!t[s]&&n.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var a=r(7),n=r(9),o=r(8),s=r(89),i=r(96);a(a.P+a.R,"Promise",{finally:function(t){var r=s(this,n.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return i(r,t()).then(function(){return e})}:t,e?function(a){return i(r,t()).then(function(){throw a})}:t)}})},function(e,t,r){"use strict";var a=r(7),n=r(93),o=r(94);a(a.S,"Promise",{try:function(e){var t=n.f(this),r=o(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){"use strict";r(82),r(83),r(102),r(114),r(116),e.exports=r(9).WeakMap},function(e,t,r){"use strict";var a=r(103)(0),n=r(20),o=r(107),s=r(71),i=r(108),l=r(13),d=r(16),c=r(109),u="WeakMap",p=o.getWeak,m=Object.isExtensible,g=i.ufstore,_={},h=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},f={get:function(e){if(l(e)){var t=p(e);return!0===t?g(c(this,u)).get(e):t?t[this._i]:void 0}},set:function(e,t){return i.def(c(this,u),e,t)}},y=e.exports=r(110)(u,h,f,i,!0,!0),A;d(function(){return 7!=new y().set((Object.freeze||Object)(_),7).get(_)})&&(A=i.getConstructor(h,u),s(A.prototype,f),o.NEED=!0,a(["delete","has","get","set"],function(e){var t=y.prototype,r=t[e];n(t,e,function(t,a){if(l(t)&&!m(t)){this._f||(this._f=new A);var n=this._f[e](t,a);return"set"==e?this:n}return r.call(this,t,a)})}))},function(e,t,r){"use strict";var a=r(23),n=r(43),o=r(61),s=r(25),i=r(104);e.exports=function(e,t){var r=1==e,l=4==e,d=6==e,c=t||i;return function(t,i,u){for(var p=o(t),m=n(p),g=a(i,u,3),_=s(m.length),h=0,f=r?c(t,_):2==e?c(t,0):void 0,y,b;_>h;h++)if((5==e||d||h in m)&&(y=m[h],b=g(y,h,p),e))if(r)f[h]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return h;case 2:f.push(y);}else if(l)return!1;return d?-1:3==e||l?l:f}}},function(e,t,r){"use strict";var a=r(105);e.exports=function(e,t){return new(a(e))(t)}},function(e,t,r){"use strict";var a=r(13),n=r(106),o=r(30)("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"==typeof t&&(t===Array||n(t.prototype))&&(t=void 0),a(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,r){"use strict";var a=r(29);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var n=r(22)("meta"),o=r(13),s=r(21),i=r(11).f,l=0,d=Object.isExtensible||function(){return!0},c=!r(16)(function(){return d(Object.preventExtensions({}))}),u=function(e){i(e,n,{value:{i:"O"+ ++l,w:{}}})},p=function(e,t){if(!o(e))return"symbol"==a(e)?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!d(e))return"F";if(!t)return"E";u(e)}return e[n].i},m=e.exports={KEY:n,NEED:!1,fastKey:p,getWeak:function(e,t){if(!s(e,n)){if(!d(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&m.NEED&&d(e)&&!s(e,n)&&u(e),e}}},function(e,t,r){"use strict";var a=r(97),n=r(107).getWeak,o=r(12),s=r(13),i=r(87),l=r(88),d=r(103),c=r(21),u=r(109),p=d(5),m=d(6),g=0,_=function(e){return e._l||(e._l=new h)},h=function(){this.a=[]},f=function(e,t){return p(e.a,function(e){return e[0]===t})};h.prototype={get:function(e){var t=f(this,e);if(t)return t[1]},has:function(e){return!!f(this,e)},set:function(e,t){var r=f(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=m(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var d=e(function(e,a){i(e,d,t,"_i"),e._t=t,e._i=g++,e._l=void 0,null!=a&&l(a,r,e[o],e)});return a(d.prototype,{delete:function(e){if(!s(e))return!1;var r=n(e);return!0===r?_(u(this,t))["delete"](e):r&&c(r,this._i)&&delete r[this._i]},has:function(e){if(!s(e))return!1;var r=n(e);return!0===r?_(u(this,t)).has(e):r&&c(r,this._i)}}),d},def:function(e,t,r){var a=n(o(t),!0);return!0===a?_(e).set(t,r):a[e._i]=r,e},ufstore:_}},function(e,t,r){"use strict";var a=r(13);e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";var a=r(8),n=r(7),o=r(20),s=r(97),i=r(107),l=r(88),d=r(87),c=r(13),u=r(16),p=r(68),m=r(59),g=r(111);e.exports=function(e,t,r,_,h,f){var y=a[e],b=y,A=h?"set":"add",S=b&&b.prototype,v={},x=function(e){var t=S[e];o(S,e,"delete"==e?function(e){return(!f||c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return(!f||c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return f&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"!=typeof b||!(f||S.forEach&&!u(function(){new b().entries().next()})))b=_.getConstructor(t,e,h,A),s(b.prototype,r),i.NEED=!0;else{var k=new b,R=k[A](f?{}:-0,1)!=k,P=u(function(){k.has(1)}),T=p(function(e){new b(e)}),E=!f&&u(function(){for(var e=new b,t=5;t--;)e[A](t,t);return!e.has(-0)});T||(b=t(function(t,r){d(t,b,e);var a=g(new y,t,b);return null!=r&&l(r,h,a[A],a),a}),b.prototype=S,S.constructor=b),(P||E)&&(x("delete"),x("has"),h&&x("get")),(E||R)&&x(A),f&&S.clear&&delete S.clear}return m(b,e),v[e]=b,n(n.G+n.W+n.F*(b!=y),v),f||_.setStrong(b,e,h),b}},function(e,t,r){"use strict";var a=r(13),n=r(112).set;e.exports=function(e,t,r){var o=t.constructor,s;return o!==r&&"function"==typeof o&&(s=o.prototype)!==r.prototype&&a(s)&&n&&n(e,s),e}},function(e,t,r){"use strict";var a=r(13),n=r(12),o=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=r(23)(Function.call,r(113).f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:a(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){"use strict";var a=r(73),n=r(19),o=r(42),s=r(18),i=r(21),l=r(14),d=Object.getOwnPropertyDescriptor;t.f=r(15)?d:function(e,t){if(e=o(e),t=s(t,!0),l)try{return d(e,t)}catch(t){}return i(e,t)?n(!a.f.call(e,t),e[t]):void 0}},function(e,t,r){"use strict";r(115)("WeakMap")},function(e,t,r){"use strict";var a=r(7);e.exports=function(e){a(a.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){"use strict";r(117)("WeakMap")},function(e,t,r){"use strict";var a=r(7),o=r(24),s=r(23),i=r(88);e.exports=function(e){a(a.S,e,{from:function(e){var t=arguments[1],r,a,l,d;return(o(this),r=void 0!==t,r&&o(t),null==e)?new this:(a=[],r?(l=0,d=s(t,arguments[2],2),i(e,!1,function(e){a.push(d(e,l++))})):i(e,!1,a.push,a),new this(a))}})}},function(e,t,r){"use strict";r(82),r(83),r(119),r(120),r(121),e.exports=r(9).WeakSet},function(e,t,r){"use strict";var a=r(108),n=r(109),o="WeakSet";r(110)(o,function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return a.def(n(this,o),e,!0)}},a,!1,!0)},function(e,t,r){"use strict";r(115)("WeakSet")},function(e,t,r){"use strict";r(117)("WeakSet")},function(e,t,r){"use strict";r(123),e.exports=r(9).String.codePointAt},function(e,t,r){"use strict";var a=r(7),n=r(48)(!1);a(a.P,"String",{codePointAt:function(e){return n(this,e)}})},function(e,t,r){"use strict";r(125),e.exports=r(9).String.fromCodePoint},function(e,t,r){"use strict";var a=r(7),n=r(44),o=String.fromCharCode,s=String.fromCodePoint;a(a.S+a.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(){for(var e=[],t=arguments.length,r=0,a;t>r;){if(a=+arguments[r++],n(a,1114111)!==a)throw RangeError(a+" is not a valid code point");e.push(65536>a?o(a):o(((a-=65536)>>10)+55296,a%1024+56320))}return e.join("")}})},function(e,t,r){"use strict";r(127),r(82),e.exports=r(9).Symbol},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var n=r(8),o=r(21),s=r(15),i=r(7),l=r(20),d=r(107).KEY,c=r(16),u=r(31),p=r(59),m=r(22),g=r(30),_=r(128),h=r(129),f=r(130),y=r(106),b=r(12),A=r(13),S=r(42),v=r(18),x=r(19),C=r(52),R=r(131),P=r(113),T=r(11),E=r(54),w=P.f,I=T.f,L=R.f,F=n.Symbol,O=n.JSON,D=O&&O.stringify,N="prototype",M=g("_hidden"),q=g("toPrimitive"),W={}.propertyIsEnumerable,U=u("symbol-registry"),B=u("symbols"),z=u("op-symbols"),G=Object[N],H="function"==typeof F,X=n.QObject,Y=!X||!X[N]||!X[N].findChild,V=s&&c(function(){return 7!=C(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,r){var a=w(G,t);a&&delete G[t],I(e,t,r),a&&e!==G&&I(G,t,a)}:I,Q=function(e){var t=B[e]=C(F[N]);return t._k=e,t},K=H&&"symbol"==a(F.iterator)?function(e){return"symbol"==a(e)}:function(e){return e instanceof F},J=function(e,t,r){return e===G&&J(z,t,r),b(e),t=v(t,!0),b(r),o(B,t)?(r.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),r=C(r,{enumerable:x(0,!1)})):(!o(e,M)&&I(e,M,x(1,{})),e[M][t]=!0),V(e,t,r)):I(e,t,r)},Z=function(e,t){b(e);for(var r=f(t=S(t)),a=0,n=r.length,o;n>a;)J(e,o=r[a++],t[o]);return e},$=function(e){var t=W.call(this,e=v(e,!0));return(this!==G||!o(B,e)||o(z,e))&&(!(t||!o(this,e)||!o(B,e)||o(this,M)&&this[M][e])||t)},ee=function(e,t){if(e=S(e),t=v(t,!0),e!==G||!o(B,t)||o(z,t)){var r=w(e,t);return r&&o(B,t)&&!(o(e,M)&&e[M][t])&&(r.enumerable=!0),r}},te=function(e){for(var t=L(S(e)),r=[],a=0,n;t.length>a;)o(B,n=t[a++])||n==M||n==d||r.push(n);return r},re=function(e){for(var t=e===G,r=L(t?z:S(e)),a=[],n=0,s;r.length>n;)o(B,s=r[n++])&&(!t||o(G,s))&&a.push(B[s]);return a};H||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=m(0<arguments.length?arguments[0]:void 0);return s&&Y&&V(G,e,{configurable:!0,set:function t(r){this===G&&t.call(z,r),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),V(this,e,x(1,r))}}),Q(e)},l(F[N],"toString",function(){return this._k}),P.f=ee,T.f=J,r(132).f=R.f=te,r(73).f=$,r(72).f=re,s&&!r(32)&&l(G,"propertyIsEnumerable",$,!0),_.f=function(e){return Q(g(e))}),i(i.G+i.W+i.F*!H,{Symbol:F});for(var ae=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],ne=0;ae.length>ne;)g(ae[ne++]);for(var oe=E(g.store),se=0;oe.length>se;)h(oe[se++]);i(i.S+i.F*!H,"Symbol",{for:function(e){return o(U,e+="")?U[e]:U[e]=F(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),i(i.S+i.F*!H,"Object",{create:function(e,t){return t===void 0?C(e):Z(C(e),t)},defineProperty:J,defineProperties:Z,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:re}),O&&i(i.S+i.F*(!H||c(function(){var e=F();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t=[e],r=1,a,n;arguments.length>r;)t.push(arguments[r++]);if(n=a=t[1],(A(a)||void 0!==e)&&!K(e))return y(a)||(a=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),t[1]=a,D.apply(O,t)}}),F[N][q]||r(10)(F[N],q,F[N].valueOf),p(F,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},function(e,t,r){"use strict";t.f=r(30)},function(e,t,r){"use strict";var a=r(8),n=r(9),o=r(32),s=r(128),i=r(11).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=o?{}:a.Symbol||{});"_"==e.charAt(0)||e in t||i(t,e,{value:s.f(e)})}},function(e,t,r){"use strict";var a=r(54),n=r(72),o=r(73);e.exports=function(e){var t=a(e),r=n.f;if(r)for(var s=r(e),l=o.f,d=0,c;s.length>d;)l.call(e,c=s[d++])&&t.push(c);return t}},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var n=r(42),o=r(132).f,s={}.toString,i="object"==("undefined"==typeof window?"undefined":a(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return o(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==s.call(e)?l(e):o(n(e))}},function(e,t,r){"use strict";var a=r(55),n=r(57).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},function(e,t,r){"use strict";r(134),e.exports=r(9).String.padStart},function(e,t,r){"use strict";var a=r(7),n=r(135),o=r(95);a(a.P+a.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},function(e,t,r){"use strict";var a=r(25),n=r(136),o=r(33);e.exports=function(e,t,r,s){var i=o(e)+"",l=i.length,d=void 0===r?" ":r+"",c=a(t);if(c<=l||""==d)return i;var u=c-l,p=n.call(d,Math.ceil(u/d.length));return p.length>u&&(p=p.slice(0,u)),s?p+i:i+p}},function(e,t,r){"use strict";var a=r(26),o=r(33);e.exports=function(e){var t=o(this)+"",r="",s=a(e);if(0>s||s==1/0)throw RangeError("Count can't be negative");for(;0<s;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},function(e,t,r){"use strict";r(138),e.exports=r(9).String.padEnd},function(e,t,r){"use strict";var a=r(7),n=r(135),o=r(95);a(a.P+a.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},function(e,t,r){"use strict";r(140),e.exports=r(9).Object.values},function(e,t,r){"use strict";var a=r(7),n=r(141)(!1);a(a.S,"Object",{values:function(e){return n(e)}})},function(e,t,r){"use strict";var a=r(54),n=r(42),o=r(73).f;e.exports=function(e){return function(t){for(var r=n(t),s=a(r),l=s.length,d=0,c=[],u;l>d;)o.call(r,u=s[d++])&&c.push(e?[u,r[u]]:r[u]);return c}}},function(e,t,r){"use strict";{var a=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),a=!0}catch(t){}t.ReadableStream=a?ReadableStream:r(143).ReadableStream}},function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}(function(t,e){for(var r in e)t[r]=e[r]})(t,function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,a){function n(e){return"string"==typeof e||"symbol"===("undefined"==typeof e?"undefined":s(e))}function o(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}var s="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},i=a(1),l=i.assert;t.typeIsObject=function(e){return"object"===("undefined"==typeof e?"undefined":s(e))&&null!==e||"function"==typeof e},t.createDataProperty=function(e,r,a){l(t.typeIsObject(e)),Object.defineProperty(e,r,{value:a,writable:!0,enumerable:!0,configurable:!0})},t.createArrayFromList=function(e){return e.slice()},t.ArrayBufferCopy=function(e,t,r,a,o){new Uint8Array(e).set(new Uint8Array(r,a,o),t)},t.CreateIterResultObject=function(e,t){l("boolean"==typeof t);var r={};return Object.defineProperty(r,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(r,"done",{value:t,enumerable:!0,writable:!0,configurable:!0}),r},t.IsFiniteNonNegativeNumber=function(e){return!Number.isNaN(e)&&e!==1/0&&!(0>e)},t.InvokeOrNoop=function(e,t,r){l(e!==void 0),l(n(t)),l(Array.isArray(r));var a=e[t];return void 0===a?void 0:o(a,e,r)},t.PromiseInvokeOrNoop=function(e,r,a){l(e!==void 0),l(n(r)),l(Array.isArray(a));try{return Promise.resolve(t.InvokeOrNoop(e,r,a))}catch(e){return Promise.reject(e)}},t.PromiseInvokeOrPerformFallback=function(e,t,r,a,s){l(e!==void 0),l(n(t)),l(Array.isArray(r)),l(Array.isArray(s));var i;try{i=e[t]}catch(e){return Promise.reject(e)}if(i===void 0)return a.apply(null,s);try{return Promise.resolve(o(i,e,r))}catch(t){return Promise.reject(t)}},t.TransferArrayBuffer=function(e){return e.slice()},t.ValidateAndNormalizeHighWaterMark=function(e){if(e=+e,Number.isNaN(e)||0>e)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e},t.ValidateAndNormalizeQueuingStrategy=function(e,r){if(void 0!==e&&"function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return r=t.ValidateAndNormalizeHighWaterMark(r),{size:e,highWaterMark:r}}},function(e){function t(e){this.name="AssertionError",this.message=e||"",this.stack=new Error().stack}t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports={rethrowAssertionErrorRejection:function(r){r&&r.constructor===t&&setTimeout(function(){throw r},0)},AssertionError:t,assert:function(e,r){if(!e)throw new t(r)}}},function(e,t,r){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){return new ye(e)}function o(e){return!!le(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function s(e){return ce(!0===o(e),"IsWritableStreamLocked should only be used on known writable streams"),void 0!==e._writer}function i(e,t){var r=e._state;if("closed"===r)return Promise.resolve(void 0);if("errored"===r)return Promise.reject(e._storedError);var a=new TypeError("Requested to abort");if(void 0!==e._pendingAbortRequest)return Promise.reject(a);ce("writable"===r||"erroring"===r,"state must be writable or erroring");var n=!1;"erroring"===r&&(n=!0,t=void 0);var o=new Promise(function(r,a){e._pendingAbortRequest={_resolve:r,_reject:a,_reason:t,_wasAlreadyErroring:n}});return!1==n&&c(e,a),o}function l(e){ce(!0===s(e)),ce("writable"===e._state);var t=new Promise(function(t,r){e._writeRequests.push({_resolve:t,_reject:r})});return t}function d(e,t){var r=e._state;return"writable"===r?void c(e,t):void(ce("erroring"===r),u(e))}function c(e,t){ce(e._storedError===void 0,"stream._storedError === undefined"),ce("writable"===e._state,"state must be writable");var r=e._writableStreamController;ce(r!==void 0,"controller must not be undefined"),e._state="erroring",e._storedError=t;var a=e._writer;a!==void 0&&R(a,t),!1===f(e)&&!0===r._started&&u(e)}function u(e){ce("erroring"===e._state,"stream._state === erroring"),ce(!1===f(e),"WritableStreamHasOperationMarkedInFlight(stream) === false"),e._state="errored",e._writableStreamController.__errorSteps();for(var t=e._storedError,r=0,a;r<e._writeRequests.length;r++)a=e._writeRequests[r],a._reject(t);if(e._writeRequests=[],void 0===e._pendingAbortRequest)return void A(e);var n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===n._wasAlreadyErroring)return n._reject(t),void A(e);var o=e._writableStreamController.__abortSteps(n._reason);o.then(function(){n._resolve(),A(e)},function(t){n._reject(t),A(e)})}function p(e){ce(e._inFlightWriteRequest!==void 0),e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function m(e,t){ce(e._inFlightWriteRequest!==void 0),e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,ce("writable"===e._state||"erroring"===e._state),d(e,t)}function g(e){ce(e._inFlightCloseRequest!==void 0),e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;ce("writable"===t||"erroring"===t),"erroring"===t&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var r=e._writer;r!==void 0&&Q(r),ce(e._pendingAbortRequest===void 0,"stream._pendingAbortRequest === undefined"),ce(e._storedError===void 0,"stream._storedError === undefined")}function _(e,t){ce(e._inFlightCloseRequest!==void 0),e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,ce("writable"===e._state||"erroring"===e._state),e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),d(e,t)}function h(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function f(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function y(e){ce(e._inFlightCloseRequest===void 0),ce(e._closeRequest!==void 0),e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function b(e){ce(e._inFlightWriteRequest===void 0,"there must be no pending write request"),ce(0!==e._writeRequests.length,"writeRequests must not be empty"),e._inFlightWriteRequest=e._writeRequests.shift()}function A(e){ce("errored"===e._state,"_stream_.[[state]] is `\"errored\"`"),e._closeRequest!==void 0&&(ce(e._inFlightCloseRequest===void 0),e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;t!==void 0&&(Y(t,e._storedError),t._closedPromise.catch(function(){}))}function S(e,t){ce("writable"===e._state),ce(!1===h(e));var r=e._writer;r!==void 0&&t!==e._backpressure&&(!0===t?ee(r):(ce(!1==t),re(r))),e._backpressure=t}function v(e){return!!le(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function x(e,t){var r=e._ownerWritableStream;return ce(void 0!==r),i(r,t)}function k(e){var t=e._ownerWritableStream;ce(void 0!==t);var r=t._state;if("closed"===r||"errored"===r)return Promise.reject(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"));ce("writable"===r||"erroring"===r),ce(!1===h(t));var a=new Promise(function(e,r){t._closeRequest={_resolve:e,_reject:r}});return!0===t._backpressure&&"writable"===r&&re(e),w(t._writableStreamController),a}function C(e,t){"pending"===e._closedPromiseState?Y(e,t):V(e,t),e._closedPromise.catch(function(){})}function R(e,t){"pending"===e._readyPromiseState?$(e,t):te(e,t),e._readyPromise.catch(function(){})}function P(e){var t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:L(t._writableStreamController)}function T(e){var t=e._ownerWritableStream;ce(t!==void 0),ce(t._writer===e);var r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");R(e,r),C(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function E(e,t){var r=e._ownerWritableStream;ce(void 0!==r);var a=r._writableStreamController,n=I(a,t);if(r!==e._ownerWritableStream)return Promise.reject(z("write to"));var o=r._state;if("errored"===o)return Promise.reject(r._storedError);if(!0===h(r)||"closed"===o)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return Promise.reject(r._storedError);ce("writable"===o);var s=l(r);return F(a,t,n),s}function w(e){ge(e,"close",0),D(e)}function I(e,t){var r=e._strategySize;if(r===void 0)return 1;try{return r(t)}catch(t){return N(e,t),1}}function L(e){return e._strategyHWM-e._queueTotalSize}function F(e,t,r){try{ge(e,{chunk:t},r)}catch(t){return void N(e,t)}var a=e._controlledWritableStream;if(!1===h(a)&&"writable"===a._state){var n=j(e);S(a,n)}D(e)}function O(e){return!!le(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSink")}function D(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var r=t._state;if("closed"!==r&&"errored"!==r){if("erroring"===r)return void u(t);if(0!==e._queue.length){var a=_e(e);"close"===a?M(e):q(e,a.chunk)}}}}function N(e,t){"writable"===e._controlledWritableStream._state&&W(e,t)}function M(e){var t=e._controlledWritableStream;y(t),me(e),ce(0===e._queue.length,"queue must be empty once the final write record is dequeued");var r=se(e._underlyingSink,"close",[]);r.then(function(){g(t)},function(e){_(t,e)}).catch(ue)}function q(e,t){var r=e._controlledWritableStream;b(r);var a=se(e._underlyingSink,"write",[t,e]);a.then(function(){p(r);var t=r._state;if(ce("writable"===t||"erroring"===t),me(e),!1===h(r)&&"writable"===t){var a=j(e);S(r,a)}D(e)},function(e){m(r,e)}).catch(ue)}function j(e){var t=L(e);return 0>=t}function W(e,t){var r=e._controlledWritableStream;ce("writable"===r._state),c(r,t)}function U(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function B(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function z(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function G(e){e._closedPromise=new Promise(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function H(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function X(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function Y(e,t){ce(e._closedPromise_resolve!==void 0,"writer._closedPromise_resolve !== undefined"),ce(e._closedPromise_reject!==void 0,"writer._closedPromise_reject !== undefined"),ce("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function V(e,t){ce(e._closedPromise_resolve===void 0,"writer._closedPromise_resolve === undefined"),ce(e._closedPromise_reject===void 0,"writer._closedPromise_reject === undefined"),ce("pending"!==e._closedPromiseState,"writer._closedPromiseState is not pending"),e._closedPromise=Promise.reject(t),e._closedPromiseState="rejected"}function Q(e){ce(e._closedPromise_resolve!==void 0,"writer._closedPromise_resolve !== undefined"),ce(e._closedPromise_reject!==void 0,"writer._closedPromise_reject !== undefined"),ce("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function K(e){e._readyPromise=new Promise(function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function J(e,t){e._readyPromise=Promise.reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function Z(e){e._readyPromise=Promise.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function $(e,t){ce(e._readyPromise_resolve!==void 0,"writer._readyPromise_resolve !== undefined"),ce(e._readyPromise_reject!==void 0,"writer._readyPromise_reject !== undefined"),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function ee(e){ce(e._readyPromise_resolve===void 0,"writer._readyPromise_resolve === undefined"),ce(e._readyPromise_reject===void 0,"writer._readyPromise_reject === undefined"),e._readyPromise=new Promise(function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function te(e,t){ce(e._readyPromise_resolve===void 0,"writer._readyPromise_resolve === undefined"),ce(e._readyPromise_reject===void 0,"writer._readyPromise_reject === undefined"),e._readyPromise=Promise.reject(t),e._readyPromiseState="rejected"}function re(e){ce(e._readyPromise_resolve!==void 0,"writer._readyPromise_resolve !== undefined"),ce(e._readyPromise_reject!==void 0,"writer._readyPromise_reject !== undefined"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}var ae=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),ne=r(0),oe=ne.InvokeOrNoop,se=ne.PromiseInvokeOrNoop,ie=ne.ValidateAndNormalizeQueuingStrategy,le=ne.typeIsObject,de=r(1),ce=de.assert,ue=de.rethrowAssertionErrorRejection,pe=r(3),me=pe.DequeueValue,ge=pe.EnqueueValueWithSize,_e=pe.PeekQueueValue,he=pe.ResetQueue,fe=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=r.size,o=r.highWaterMark,s=void 0===o?1:o;a(this,e),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1;var i=t.type;if(void 0!==i)throw new RangeError("Invalid type is specified");this._writableStreamController=new be(this,t,n,s),this._writableStreamController.__startSteps()}return ae(e,[{key:"abort",value:function(e){return!1===o(this)?Promise.reject(U("abort")):!0===s(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):i(this,e)}},{key:"getWriter",value:function(){if(!1===o(this))throw U("getWriter");return n(this)}},{key:"locked",get:function(){if(!1===o(this))throw U("locked");return s(this)}}]),e}();e.exports={AcquireWritableStreamDefaultWriter:n,IsWritableStream:o,IsWritableStreamLocked:s,WritableStream:fe,WritableStreamAbort:i,WritableStreamDefaultControllerError:W,WritableStreamDefaultWriterCloseWithErrorPropagation:function(e){var t=e._ownerWritableStream;ce(void 0!==t);var r=t._state;return!0===h(t)||"closed"===r?Promise.resolve():"errored"===r?Promise.reject(t._storedError):(ce("writable"===r||"erroring"===r),k(e))},WritableStreamDefaultWriterRelease:T,WritableStreamDefaultWriterWrite:E,WritableStreamCloseQueuedOrInFlight:h};var ye=function(){function e(t){if(a(this,e),!1===o(t))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===s(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var r=t._state;if("writable"===r)!1===h(t)&&!0===t._backpressure?K(this):Z(this),G(this);else if("erroring"===r)J(this,t._storedError),this._readyPromise.catch(function(){}),G(this);else if("closed"===r)Z(this),X(this);else{ce("errored"===r,"state must be errored");var n=t._storedError;J(this,n),this._readyPromise.catch(function(){}),H(this,n),this._closedPromise.catch(function(){})}}return ae(e,[{key:"abort",value:function(e){return!1===v(this)?Promise.reject(B("abort")):void 0===this._ownerWritableStream?Promise.reject(z("abort")):x(this,e)}},{key:"close",value:function(){if(!1===v(this))return Promise.reject(B("close"));var e=this._ownerWritableStream;return void 0===e?Promise.reject(z("close")):!0===h(e)?Promise.reject(new TypeError("cannot close an already-closing stream")):k(this)}},{key:"releaseLock",value:function(){if(!1===v(this))throw B("releaseLock");var e=this._ownerWritableStream;void 0===e||(ce(void 0!==e._writer),T(this))}},{key:"write",value:function(e){return!1===v(this)?Promise.reject(B("write")):void 0===this._ownerWritableStream?Promise.reject(z("write to")):E(this,e)}},{key:"closed",get:function(){return!1===v(this)?Promise.reject(B("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===v(this))throw B("desiredSize");if(void 0===this._ownerWritableStream)throw z("desiredSize");return P(this)}},{key:"ready",get:function(){return!1===v(this)?Promise.reject(B("ready")):this._readyPromise}}]),e}(),be=function(){function e(t,r,n,s){if(a(this,e),!1===o(t))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==t._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=t,this._underlyingSink=r,this._queue=void 0,this._queueTotalSize=void 0,he(this),this._started=!1;var i=ie(n,s);this._strategySize=i.size,this._strategyHWM=i.highWaterMark;var l=j(this);S(t,l)}return ae(e,[{key:"error",value:function(t){if(!1===O(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var e=this._controlledWritableStream._state;"writable"!==e||W(this,t)}},{key:"__abortSteps",value:function(e){return se(this._underlyingSink,"abort",[e])}},{key:"__errorSteps",value:function(){he(this)}},{key:"__startSteps",value:function(){var e=this,t=oe(this._underlyingSink,"start",[this]),a=this._controlledWritableStream;Promise.resolve(t).then(function(){ce("writable"===a._state||"erroring"===a._state),e._started=!0,D(e)},function(t){ce("writable"===a._state||"erroring"===a._state),e._started=!0,d(a,t)}).catch(ue)}}]),e}()},function(e,t,r){var a=r(0),n=a.IsFiniteNonNegativeNumber,o=r(1),s=o.assert;t.DequeueValue=function(e){s("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),s(0<e._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var t=e._queue.shift();return e._queueTotalSize-=t.size,0>e._queueTotalSize&&(e._queueTotalSize=0),t.value},t.EnqueueValueWithSize=function(e,t,r){if(s("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),r=+r,!n(r))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r},t.PeekQueueValue=function(e){s("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),s(0<e._queue.length,"Spec-level failure: should never peek at an empty queue.");var t=e._queue[0];return t.value},t.ResetQueue=function(e){s("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),e._queue=[],e._queueTotalSize=0}},function(e,t,r){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){return new et(e)}function o(e){return new $e(e)}function s(e){return!!De(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function i(e){return Me(!0===s(e),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==e._reader}function l(e,t){Me(!0===s(e)),Me("boolean"==typeof t);var r=o(e),a={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};a.promise=new Promise(function(e){a._resolve=e});var n=d();n._reader=r,n._teeState=a,n._cloneForBranch2=t;var i=c();i._stream=e,i._teeState=a;var l=u();l._stream=e,l._teeState=a;var p=Object.create(Object.prototype);Oe(p,"pull",n),Oe(p,"cancel",i);var m=new Ze(p),g=Object.create(Object.prototype);Oe(g,"pull",n),Oe(g,"cancel",l);var _=new Ze(g);return n._branch1=m._readableStreamController,n._branch2=_._readableStreamController,r._closedPromise.catch(function(e){!0===a.closedOrErrored||(D(n._branch1,e),D(n._branch2,e),a.closedOrErrored=!0)}),[m,_]}function d(){function e(){var t=e._reader,r=e._branch1,a=e._branch2,n=e._teeState;return E(t).then(function(e){Me(De(e));var t=e.value,o=e.done;if(Me("boolean"==typeof o),!0===o&&!1===n.closedOrErrored&&(!1===n.canceled1&&F(r),!1===n.canceled2&&F(a),n.closedOrErrored=!0),!0!==n.closedOrErrored){!1===n.canceled1&&O(r,t),!1===n.canceled2&&O(a,t)}})}return e}function c(){function e(t){var r=e._stream,a=e._teeState;if(a.canceled1=!0,a.reason1=t,!0===a.canceled2){var n=Fe([a.reason1,a.reason2]),o=g(r,n);a._resolve(o)}return a.promise}return e}function u(){function e(t){var r=e._stream,a=e._teeState;if(a.canceled2=!0,a.reason2=t,!0===a.canceled1){var n=Fe([a.reason1,a.reason2]),o=g(r,n);a._resolve(o)}return a.promise}return e}function p(e){Me(!0===x(e._reader)),Me("readable"===e._state||"closed"===e._state);var t=new Promise(function(t,r){e._reader._readIntoRequests.push({_resolve:t,_reject:r})});return t}function m(e){Me(!0===k(e._reader)),Me("readable"===e._state);var t=new Promise(function(t,r){e._reader._readRequests.push({_resolve:t,_reject:r})});return t}function g(e,t){if(e._disturbed=!0,"closed"===e._state)return Promise.resolve(void 0);if("errored"===e._state)return Promise.reject(e._storedError);_(e);var r=e._readableStreamController.__cancelSteps(t);return r.then(function(){})}function _(e){Me("readable"===e._state),e._state="closed";var t=e._reader;if(void 0!==t){if(!0===k(t)){for(var r=0,a;r<t._readRequests.length;r++)a=t._readRequests[r]._resolve,a(Ce(void 0,!0));t._readRequests=[]}he(t)}}function h(t,r){Me(!0===s(t),"stream must be ReadableStream"),Me("readable"===t._state,"state must be readable"),t._state="errored",t._storedError=r;var e=t._reader;if(void 0!==e){if(!0===k(e)){for(var a=0,n;a<e._readRequests.length;a++)n=e._readRequests[a],n._reject(r);e._readRequests=[]}else{Me(x(e),"reader must be ReadableStreamBYOBReader");for(var o=0,l;o<e._readIntoRequests.length;o++)l=e._readIntoRequests[o],l._reject(r);e._readIntoRequests=[]}ge(e,r),e._closedPromise.catch(function(){})}}function f(e,t,r){var a=e._reader;Me(0<a._readIntoRequests.length);var n=a._readIntoRequests.shift();n._resolve(Ce(t,r))}function y(e,t,r){var a=e._reader;Me(0<a._readRequests.length);var n=a._readRequests.shift();n._resolve(Ce(t,r))}function b(e){return e._reader._readIntoRequests.length}function A(e){return e._reader._readRequests.length}function S(e){var t=e._reader;return void 0!==t&&!1!==x(t)}function v(e){var t=e._reader;return void 0!==t&&!1!==k(t)}function x(e){return!!De(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function k(e){return!!De(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function C(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?ue(e):"closed"===t._state?me(e):(Me("errored"===t._state,"state must be errored"),pe(e,t._storedError),e._closedPromise.catch(function(){}))}function R(e,t){var r=e._ownerReadableStream;return Me(void 0!==r),g(r,t)}function P(e){Me(e._ownerReadableStream!==void 0),Me(e._ownerReadableStream._reader===e),"readable"===e._ownerReadableStream._state?ge(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):_e(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._closedPromise.catch(function(){}),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function T(e,t){var r=e._ownerReadableStream;return Me(void 0!==r),r._disturbed=!0,"errored"===r._state?Promise.reject(r._storedError):K(r._readableStreamController,t)}function E(e){var t=e._ownerReadableStream;return(Me(void 0!==t),t._disturbed=!0,"closed"===t._state)?Promise.resolve(Ce(void 0,!0)):"errored"===t._state?Promise.reject(t._storedError):(Me("readable"===t._state),t._readableStreamController.__pullSteps())}function w(e){return!!De(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSource")}function I(t){var r=L(t);if(!1!==r){if(!0===t._pulling)return void(t._pullAgain=!0);Me(!1===t._pullAgain),t._pulling=!0;var a=Te(t._underlyingSource,"pull",[t]);a.then(function(){return t._pulling=!1,!0===t._pullAgain?(t._pullAgain=!1,I(t)):void 0},function(r){N(t,r)}).catch(qe)}}function L(e){var t=e._controlledReadableStream;if("closed"===t._state||"errored"===t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===i(t)&&0<A(t))return!0;var r=M(e);return!!(0<r)}function F(e){var t=e._controlledReadableStream;Me(!1===e._closeRequested),Me("readable"===t._state),e._closeRequested=!0,0===e._queue.length&&_(t)}function O(e,t){var r=e._controlledReadableStream;if(Me(!1===e._closeRequested),Me("readable"===r._state),!0===i(r)&&0<A(r))y(r,t,!1);else{var a=1;if(void 0!==e._strategySize){var n=e._strategySize;try{a=n(t)}catch(t){throw N(e,t),t}}try{Ue(e,t,a)}catch(t){throw N(e,t),t}}I(e)}function D(t,r){var e=t._controlledReadableStream;Me("readable"===e._state),Be(t),h(e,r)}function N(t,r){"readable"===t._controlledReadableStream._state&&D(t,r)}function M(e){var t=e._controlledReadableStream,r=t._state;return"errored"===r?null:"closed"===r?0:e._strategyHWM-e._queueTotalSize}function q(e){return!!De(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingByteSource")}function j(e){return!!De(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function W(t){var r=te(t);if(!1!==r){if(!0===t._pulling)return void(t._pullAgain=!0);Me(!1===t._pullAgain),t._pulling=!0;var a=Te(t._underlyingByteSource,"pull",[t]);a.then(function(){t._pulling=!1,!0===t._pullAgain&&(t._pullAgain=!1,W(t))},function(r){"readable"===t._controlledReadableStream._state&&ne(t,r)}).catch(qe)}}function U(e){V(e),e._pendingPullIntos=[]}function B(e,t){Me("errored"!==e._state,"state must not be errored");var r=!1;"closed"===e._state&&(Me(0===t.bytesFilled),r=!0);var a=z(t);"default"===t.readerType?y(e,a,r):(Me("byob"===t.readerType),f(e,a,r))}function z(e){var t=e.bytesFilled,r=e.elementSize;return Me(t<=e.byteLength),Me(0==t%r),new e.ctor(e.buffer,e.byteOffset,t/r)}function G(e,t,r,a){e._queue.push({buffer:t,byteOffset:r,byteLength:a}),e._queueTotalSize+=a}function H(e,t){var r=t.elementSize,a=t.bytesFilled-t.bytesFilled%r,n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),o=t.bytesFilled+n,s=o-o%r,i=n,l=!1;s>a&&(i=s-t.bytesFilled,l=!0);for(var d=e._queue;0<i;){var c=d[0],u=Math.min(i,c.byteLength),p=t.byteOffset+t.bytesFilled;ke(t.buffer,p,c.buffer,c.byteOffset,u),c.byteLength===u?d.shift():(c.byteOffset+=u,c.byteLength-=u),e._queueTotalSize-=u,X(e,u,t),i-=u}return!1===l&&(Me(0===e._queueTotalSize,"queue must be empty"),Me(0<t.bytesFilled),Me(t.bytesFilled<t.elementSize)),l}function X(e,t,r){Me(0===e._pendingPullIntos.length||e._pendingPullIntos[0]===r),V(e),r.bytesFilled+=t}function Y(e){Me("readable"===e._controlledReadableStream._state),0===e._queueTotalSize&&!0===e._closeRequested?_(e._controlledReadableStream):W(e)}function V(e){void 0===e._byobRequest||(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function Q(e){for(Me(!1===e._closeRequested);0<e._pendingPullIntos.length;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===H(e,t)&&(ee(e),B(e._controlledReadableStream,t))}}function K(t,r){var a=t._controlledReadableStream,n=1;r.constructor!==DataView&&(n=r.constructor.BYTES_PER_ELEMENT);var o=r.constructor,s={buffer:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength,bytesFilled:0,elementSize:n,ctor:o,readerType:"byob"};if(0<t._pendingPullIntos.length)return s.buffer=Ee(s.buffer),t._pendingPullIntos.push(s),p(a);if("closed"===a._state){var i=new r.constructor(s.buffer,s.byteOffset,0);return Promise.resolve(Ce(i,!0))}if(0<t._queueTotalSize){if(!0===H(t,s)){var l=z(s);return Y(t),Promise.resolve(Ce(l,!1))}if(!0===t._closeRequested){var d=new TypeError("Insufficient bytes to fill elements in the given buffer");return ne(t,d),Promise.reject(d)}}s.buffer=Ee(s.buffer),t._pendingPullIntos.push(s);var e=p(a);return W(t),e}function J(e,t){t.buffer=Ee(t.buffer),Me(0===t.bytesFilled,"bytesFilled must be 0");var r=e._controlledReadableStream;if(!0===S(r))for(;0<b(r);){var a=ee(e);B(r,a)}}function Z(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(X(e,t,r),!(r.bytesFilled<r.elementSize)){ee(e);var a=r.bytesFilled%r.elementSize;if(0<a){var n=r.byteOffset+r.bytesFilled,o=r.buffer.slice(n-a,n);G(e,o,0,o.byteLength)}r.buffer=Ee(r.buffer),r.bytesFilled-=a,B(e._controlledReadableStream,r),Q(e)}}function $(e,t){var r=e._pendingPullIntos[0],a=e._controlledReadableStream;if("closed"===a._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");J(e,r)}else Me("readable"===a._state),Z(e,t,r)}function ee(e){var t=e._pendingPullIntos.shift();return V(e),t}function te(e){var t=e._controlledReadableStream;return!("readable"!==t._state)&&!0!==e._closeRequested&&!1!==e._started&&(!!(!0===v(t)&&0<A(t))||!!(!0===S(t)&&0<b(t))||!!(0<oe(e)))}function re(t){var r=t._controlledReadableStream;if(Me(!1===t._closeRequested),Me("readable"===r._state),0<t._queueTotalSize)return void(t._closeRequested=!0);if(0<t._pendingPullIntos.length){var a=t._pendingPullIntos[0];if(0<a.bytesFilled){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ne(t,n),n}}_(r)}function ae(e,t){var r=e._controlledReadableStream;Me(!1===e._closeRequested),Me("readable"===r._state);var a=t.buffer,n=t.byteOffset,o=t.byteLength,s=Ee(a);if(!(!0===v(r)))!0===S(r)?(G(e,s,n,o),Q(e)):(Me(!1===i(r),"stream must not be locked"),G(e,s,n,o));else if(0===A(r))G(e,s,n,o);else{Me(0===e._queue.length);var l=new Uint8Array(s,n,o);y(r,l,!1)}}function ne(t,r){var e=t._controlledReadableStream;Me("readable"===e._state),U(t),Be(t),h(e,r)}function oe(e){var t=e._controlledReadableStream,r=t._state;return"errored"===r?null:"closed"===r?0:e._strategyHWM-e._queueTotalSize}function se(e,t){if(t=+t,!1===Re(t))throw new RangeError("bytesWritten must be a finite");Me(0<e._pendingPullIntos.length),$(e,t)}function ie(e,t){Me(0<e._pendingPullIntos.length);var r=e._pendingPullIntos[0];if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,$(e,t.byteLength)}function le(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function de(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function ce(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}function ue(e){e._closedPromise=new Promise(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r})}function pe(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function me(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function ge(e,t){Me(e._closedPromise_resolve!==void 0),Me(e._closedPromise_reject!==void 0),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function _e(e,t){Me(e._closedPromise_resolve===void 0),Me(e._closedPromise_reject===void 0),e._closedPromise=Promise.reject(t)}function he(e){Me(e._closedPromise_resolve!==void 0),Me(e._closedPromise_reject!==void 0),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function fe(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function ye(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function be(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function Ae(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function Se(e){try{Promise.prototype.then.call(e,void 0,function(){})}catch(t){}}var ve=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),xe=r(0),ke=xe.ArrayBufferCopy,Ce=xe.CreateIterResultObject,Re=xe.IsFiniteNonNegativeNumber,Pe=xe.InvokeOrNoop,Te=xe.PromiseInvokeOrNoop,Ee=xe.TransferArrayBuffer,we=xe.ValidateAndNormalizeQueuingStrategy,Ie=xe.ValidateAndNormalizeHighWaterMark,Le=r(0),Fe=Le.createArrayFromList,Oe=Le.createDataProperty,De=Le.typeIsObject,Ne=r(1),Me=Ne.assert,qe=Ne.rethrowAssertionErrorRejection,je=r(3),We=je.DequeueValue,Ue=je.EnqueueValueWithSize,Be=je.ResetQueue,ze=r(2),Ge=ze.AcquireWritableStreamDefaultWriter,He=ze.IsWritableStream,Xe=ze.IsWritableStreamLocked,Ye=ze.WritableStreamAbort,Ve=ze.WritableStreamDefaultWriterCloseWithErrorPropagation,Qe=ze.WritableStreamDefaultWriterRelease,Ke=ze.WritableStreamDefaultWriterWrite,Je=ze.WritableStreamCloseQueuedOrInFlight,Ze=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=r.size,o=r.highWaterMark;a(this,e),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var s=t.type;if("bytes"===s+"")void 0===o&&(o=0),this._readableStreamController=new at(this,t,o);else if(void 0===s)void 0===o&&(o=1),this._readableStreamController=new tt(this,t,n,o);else throw new RangeError("Invalid type is specified")}return ve(e,[{key:"cancel",value:function(e){return!1===s(this)?Promise.reject(le("cancel")):!0===i(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):g(this,e)}},{key:"getReader",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.mode;if(!1===s(this))throw le("getReader");if(void 0===t)return o(this);if(t+="","byob"===t)return n(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(e,t){var r=e.writable,a=e.readable,n=this.pipeTo(r,t);return Se(n),a}},{key:"pipeTo",value:function(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=r.preventClose,n=r.preventAbort,l=r.preventCancel;if(!1===s(this))return Promise.reject(le("pipeTo"));if(!1===He(e))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(a=!!a,n=!!n,l=!!l,!0===i(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===Xe(e))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var d=o(this),c=Ge(e),u=!1,p=Promise.resolve();return new Promise(function(r,o){function s(){return p=Promise.resolve(),!0===u?Promise.resolve():c._readyPromise.then(function(){return E(d).then(function(e){var t=e.value,r=e.done;!0===r||(p=Ke(c,t).catch(function(){}))})}).then(s)}function i(){var e=p;return p.then(function(){return e===p?void 0:i()})}function m(e,t,r){"errored"===e._state?r(e._storedError):t.catch(r).catch(qe)}function _(t,r,a){function n(){t().then(function(){return f(r,a)},function(e){return f(!0,e)}).catch(qe)}!0===u||(u=!0,"writable"===e._state&&!1===Je(e)?i().then(n):n())}function h(t,r){!0===u||(u=!0,"writable"===e._state&&!1===Je(e)?i().then(function(){return f(t,r)}).catch(qe):f(t,r))}function f(e,t){Qe(c),P(d),e?o(t):r(void 0)}if(m(t,d._closedPromise,function(t){!1===n?_(function(){return Ye(e,t)},!0,t):h(!0,t)}),m(e,c._closedPromise,function(e){!1===l?_(function(){return g(t,e)},!0,e):h(!0,e)}),function(e,t,r){"closed"===e._state?r():t.then(r).catch(qe)}(t,d._closedPromise,function(){!1===a?_(function(){return Ve(c)}):h()}),!0===Je(e)||"closed"===e._state){var y=new TypeError("the destination writable stream closed before all data could be piped to it");!1===l?_(function(){return g(t,y)},!0,y):h(!0,y)}s().catch(function(e){p=Promise.resolve(),qe(e)})})}},{key:"tee",value:function(){if(!1===s(this))throw le("tee");var e=l(this,!1);return Fe(e)}},{key:"locked",get:function(){if(!1===s(this))throw le("locked");return i(this)}}]),e}();e.exports={ReadableStream:Ze,IsReadableStreamDisturbed:function(e){return Me(!0===s(e),"IsReadableStreamDisturbed should only be used on known readable streams"),e._disturbed},ReadableStreamDefaultControllerClose:F,ReadableStreamDefaultControllerEnqueue:O,ReadableStreamDefaultControllerError:D,ReadableStreamDefaultControllerGetDesiredSize:M};var $e=function(){function e(t){if(a(this,e),!1===s(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===i(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,t),this._readRequests=[]}return ve(e,[{key:"cancel",value:function(e){return!1===k(this)?Promise.reject(ce("cancel")):void 0===this._ownerReadableStream?Promise.reject(de("cancel")):R(this,e)}},{key:"read",value:function(){return!1===k(this)?Promise.reject(ce("read")):void 0===this._ownerReadableStream?Promise.reject(de("read from")):E(this)}},{key:"releaseLock",value:function(){if(!1===k(this))throw ce("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");P(this)}}},{key:"closed",get:function(){return!1===k(this)?Promise.reject(ce("closed")):this._closedPromise}}]),e}(),et=function(){function e(t){if(a(this,e),!s(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===q(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(i(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,t),this._readIntoRequests=[]}return ve(e,[{key:"cancel",value:function(e){return x(this)?void 0===this._ownerReadableStream?Promise.reject(de("cancel")):R(this,e):Promise.reject(fe("cancel"))}},{key:"read",value:function(e){return x(this)?void 0===this._ownerReadableStream?Promise.reject(de("read from")):ArrayBuffer.isView(e)?0===e.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):T(this,e):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(fe("read"))}},{key:"releaseLock",value:function(){if(!x(this))throw fe("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");P(this)}}},{key:"closed",get:function(){return x(this)?this._closedPromise:Promise.reject(fe("closed"))}}]),e}(),tt=function(){function e(t,r,n,o){if(a(this,e),!1===s(t))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==t._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=t,this._underlyingSource=r,this._queue=void 0,this._queueTotalSize=void 0,Be(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var i=we(n,o);this._strategySize=i.size,this._strategyHWM=i.highWaterMark;var l=this,d=Pe(r,"start",[this]);Promise.resolve(d).then(function(){l._started=!0,Me(!1===l._pulling),Me(!1===l._pullAgain),I(l)},function(e){N(l,e)}).catch(qe)}return ve(e,[{key:"close",value:function(){if(!1===w(this))throw ye("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");F(this)}},{key:"enqueue",value:function(e){if(!1===w(this))throw ye("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");return O(this,e)}},{key:"error",value:function(t){if(!1===w(this))throw ye("error");var e=this._controlledReadableStream;if("readable"!==e._state)throw new TypeError("The stream is "+e._state+" and so cannot be errored");D(this,t)}},{key:"__cancelSteps",value:function(e){return Be(this),Te(this._underlyingSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(0<this._queue.length){var t=We(this);return!0===this._closeRequested&&0===this._queue.length?_(e):I(this),Promise.resolve(Ce(t,!1))}var r=m(e);return I(this),r}},{key:"desiredSize",get:function(){if(!1===w(this))throw ye("desiredSize");return M(this)}}]),e}(),rt=function(){function e(t,r){a(this,e),this._associatedReadableByteStreamController=t,this._view=r}return ve(e,[{key:"respond",value:function(e){if(!1===j(this))throw be("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");se(this._associatedReadableByteStreamController,e)}},{key:"respondWithNewView",value:function(e){if(!1===j(this))throw be("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");ie(this._associatedReadableByteStreamController,e)}},{key:"view",get:function(){return this._view}}]),e}(),at=function(){function e(t,r,n){if(a(this,e),!1===s(t))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==t._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=t,this._underlyingByteSource=r,this._pullAgain=!1,this._pulling=!1,U(this),this._queue=this._queueTotalSize=void 0,Be(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=Ie(n);var o=r.autoAllocateChunkSize;if(void 0!==o&&(!1===Number.isInteger(o)||0>=o))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=o,this._pendingPullIntos=[];var i=this,l=Pe(r,"start",[this]);Promise.resolve(l).then(function(){i._started=!0,Me(!1===i._pulling),Me(!1===i._pullAgain),W(i)},function(e){"readable"===t._state&&ne(i,e)}).catch(qe)}return ve(e,[{key:"close",value:function(){if(!1===q(this))throw Ae("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");re(this)}},{key:"enqueue",value:function(e){if(!1===q(this))throw Ae("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");ae(this,e)}},{key:"error",value:function(t){if(!1===q(this))throw Ae("error");var e=this._controlledReadableStream;if("readable"!==e._state)throw new TypeError("The stream is "+e._state+" and so cannot be errored");ne(this,t)}},{key:"__cancelSteps",value:function(e){if(0<this._pendingPullIntos.length){var t=this._pendingPullIntos[0];t.bytesFilled=0}return Be(this),Te(this._underlyingByteSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(Me(!0===v(e)),0<this._queueTotalSize){Me(0===A(e));var t=this._queue.shift();this._queueTotalSize-=t.byteLength,Y(this);var r;try{r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(Ce(r,!1))}var a=this._autoAllocateChunkSize;if(void 0!==a){var n;try{n=new ArrayBuffer(a)}catch(e){return Promise.reject(e)}var o={buffer:n,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}var s=m(e);return W(this),s}},{key:"byobRequest",get:function(){if(!1===q(this))throw Ae("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var e=this._pendingPullIntos[0],t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);this._byobRequest=new rt(this,t)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===q(this))throw Ae("desiredSize");return oe(this)}}]),e}()},function(e,t,r){var a=r(6),n=r(4),o=r(2);t.TransformStream=a.TransformStream,t.ReadableStream=n.ReadableStream,t.IsReadableStreamDisturbed=n.IsReadableStreamDisturbed,t.ReadableStreamDefaultControllerClose=n.ReadableStreamDefaultControllerClose,t.ReadableStreamDefaultControllerEnqueue=n.ReadableStreamDefaultControllerEnqueue,t.ReadableStreamDefaultControllerError=n.ReadableStreamDefaultControllerError,t.ReadableStreamDefaultControllerGetDesiredSize=n.ReadableStreamDefaultControllerGetDesiredSize,t.AcquireWritableStreamDefaultWriter=o.AcquireWritableStreamDefaultWriter,t.IsWritableStream=o.IsWritableStream,t.IsWritableStreamLocked=o.IsWritableStreamLocked,t.WritableStream=o.WritableStream,t.WritableStreamAbort=o.WritableStreamAbort,t.WritableStreamDefaultControllerError=o.WritableStreamDefaultControllerError,t.WritableStreamDefaultWriterCloseWithErrorPropagation=o.WritableStreamDefaultWriterCloseWithErrorPropagation,t.WritableStreamDefaultWriterRelease=o.WritableStreamDefaultWriterRelease,t.WritableStreamDefaultWriterWrite=o.WritableStreamDefaultWriterWrite},function(e,t,r){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");i(e)}function o(t,r){if(!0===t._errored)throw new TypeError("TransformStream is already errored");if(!0===t._readableClosed)throw new TypeError("Readable side is already closed");var a=t._readableController;try{E(a,r)}catch(r){throw t._readableClosed=!0,l(t,r),t._storedError}var n=I(a);!0===0>=n&&!1===t._backpressure&&u(t,!0)}function s(t,r){if(!0===t._errored)throw new TypeError("TransformStream is already errored");d(t,r)}function i(e){A(!1===e._errored),A(!1===e._readableClosed);try{T(e._readableController)}catch(t){A(!1)}e._readableClosed=!0}function l(t,r){!1===t._errored&&d(t,r)}function d(t,r){A(!1===t._errored),t._errored=!0,t._storedError=r,!1===t._writableDone&&O(t._writableController,r),!1===t._readableClosed&&w(t._readableController,r)}function c(e){return(A(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!1===e._backpressure)?Promise.resolve():(A(!0===e._backpressure,"_backpressure should have been initialized"),e._backpressureChangePromise)}function u(e,t){A(e._backpressure!==t,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(t),e._backpressureChangePromise=new Promise(function(t){e._backpressureChangePromise_resolve=t}),e._backpressureChangePromise.then(function(e){A(e!==t,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),e._backpressure=t}function p(e,t){var r=t._controlledTransformStream;return o(r,e),Promise.resolve()}function m(t,r){A(!1===t._errored),A(!1===t._transforming),A(!1===t._backpressure),t._transforming=!0;var a=t._transformer,n=t._transformStreamController,o=x(a,"transform",[r,n],p,[r,n]);return o.then(function(){return t._transforming=!1,c(t)},function(r){return l(t,r),Promise.reject(r)})}function g(e){return!!C(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function _(e){return!!C(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function h(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function f(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}var y=function(){function e(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),b=r(1),A=b.assert,S=r(0),v=S.InvokeOrNoop,x=S.PromiseInvokeOrPerformFallback,k=S.PromiseInvokeOrNoop,C=S.typeIsObject,R=r(4),P=R.ReadableStream,T=R.ReadableStreamDefaultControllerClose,E=R.ReadableStreamDefaultControllerEnqueue,w=R.ReadableStreamDefaultControllerError,I=R.ReadableStreamDefaultControllerGetDesiredSize,L=r(2),F=L.WritableStream,O=L.WritableStreamDefaultControllerError,D=function(){function e(t,r){a(this,e),this._transformStream=t,this._startPromise=r}return y(e,[{key:"start",value:function(e){var t=this._transformStream;return t._writableController=e,this._startPromise.then(function(){return c(t)})}},{key:"write",value:function(e){var t=this._transformStream;return m(t,e)}},{key:"abort",value:function(){var e=this._transformStream;e._writableDone=!0,d(e,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var e=this._transformStream;A(!1===e._transforming),e._writableDone=!0;var t=k(e._transformer,"flush",[e._transformStreamController]);return t.then(function(){return!0===e._errored?Promise.reject(e._storedError):(!1===e._readableClosed&&i(e),Promise.resolve())}).catch(function(t){return l(e,t),Promise.reject(e._storedError)})}}]),e}(),N=function(){function e(t,r){a(this,e),this._transformStream=t,this._startPromise=r}return y(e,[{key:"start",value:function(e){var t=this._transformStream;return t._readableController=e,this._startPromise.then(function(){return(A(void 0!==t._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!0===t._backpressure)?Promise.resolve():(A(!1===t._backpressure,"_backpressure should have been initialized"),t._backpressureChangePromise)})}},{key:"pull",value:function(){var e=this._transformStream;return A(!0===e._backpressure,"pull() should be never called while _backpressure is false"),A(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),u(e,!1),e._backpressureChangePromise}},{key:"cancel",value:function(){var e=this._transformStream;e._readableClosed=!0,d(e,new TypeError("Readable side canceled"))}}]),e}(),M=function(){function e(t){if(a(this,e),!1===_(t))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==t._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=t}return y(e,[{key:"enqueue",value:function(e){if(!1===g(this))throw h("enqueue");o(this._controlledTransformStream,e)}},{key:"close",value:function(){if(!1===g(this))throw h("close");n(this._controlledTransformStream)}},{key:"error",value:function(e){if(!1===g(this))throw h("error");s(this._controlledTransformStream,e)}},{key:"desiredSize",get:function(){if(!1===g(this))throw h("desiredSize");var e=this._controlledTransformStream,t=e._readableController;return I(t)}}]),e}(),q=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this._transformer=t;var r=t.readableStrategy,n=t.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new M(this);var o=void 0,s=new Promise(function(e){o=e}),i=new N(this,s);this._readable=new P(i,r);var l=new D(this,s);this._writable=new F(l,n),A(void 0!==this._writableController),A(void 0!==this._readableController);var d=I(this._readableController);u(this,0>=d);var c=this,p=v(t,"start",[c._transformStreamController]);o(p),s.catch(function(t){!1===c._errored&&(c._errored=!0,c._storedError=t)})}return y(e,[{key:"readable",get:function(){if(!1===_(this))throw f("readable");return this._readable}},{key:"writable",get:function(){if(!1===_(this))throw f("writable");return this._writable}}]),e}();e.exports={TransformStream:q}},function(e,t,r){e.exports=r(5)}]))},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}{var n=!1;try{if("function"==typeof URL&&"object"===a(URL.prototype)&&"origin"in URL.prototype){var o=new URL("b","http://a");o.pathname="c%20d",n="http://a/c%20d"===o.href}}catch(e){}if(n)t.URL=URL;else{var s=r(145).URL,i=r(3).URL;i&&(s.createObjectURL=function(){return i.createObjectURL.apply(i,arguments)},s.revokeObjectURL=function(e){i.revokeObjectURL(e)}),t.URL=s}}},function(e,t){"use strict";(function(){function e(e){return d[e]!==void 0}function r(){i.call(this),this._isInvalid=!0}function a(e){return""===e&&r.call(this),e.toLowerCase()}function n(e){var t=e.charCodeAt(0);return 32<t&&127>t&&-1===[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function o(e){var t=e.charCodeAt(0);return 32<t&&127>t&&-1===[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function s(t,s,l){function _(e){S.push(e)}var h=s||"scheme start",f=0,y="",b=!1,A=!1,S=[];loop:for(;(t[f-1]!==g||0===f)&&!this._isInvalid;){var v=t[f];switch(h){case"scheme start":if(v&&p.test(v))y+=v.toLowerCase(),h="scheme";else if(!s){y="",h="no scheme";continue}else{_("Invalid scheme.");break loop}break;case"scheme":if(v&&m.test(v))y+=v.toLowerCase();else if(":"===v){if(this._scheme=y,y="",s)break loop;e(this._scheme)&&(this._isRelative=!0),h="file"===this._scheme?"relative":this._isRelative&&l&&l._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(!s){y="",f=0,h="no scheme";continue}else if(v===g)break loop;else{_("Code point not allowed in scheme: "+v);break loop}break;case"scheme data":"?"===v?(this._query="?",h="query"):"#"===v?(this._fragment="#",h="fragment"):v!==g&&"\t"!==v&&"\n"!==v&&"\r"!==v&&(this._schemeData+=n(v));break;case"no scheme":if(!l||!e(l._scheme))_("Missing scheme."),r.call(this);else{h="relative";continue}break;case"relative or authority":if("/"===v&&"/"===t[f+1])h="authority ignore slashes";else{_("Expected /, got: "+v),h="relative";continue}break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=l._scheme),v===g){this._host=l._host,this._port=l._port,this._path=l._path.slice(),this._query=l._query,this._username=l._username,this._password=l._password;break loop}else if("/"===v||"\\"===v)"\\"===v&&_("\\ is an invalid code point."),h="relative slash";else if("?"===v)this._host=l._host,this._port=l._port,this._path=l._path.slice(),this._query="?",this._username=l._username,this._password=l._password,h="query";else if("#"===v)this._host=l._host,this._port=l._port,this._path=l._path.slice(),this._query=l._query,this._fragment="#",this._username=l._username,this._password=l._password,h="fragment";else{var c=t[f+1],x=t[f+2];"file"===this._scheme&&p.test(v)&&(":"===c||"|"===c)&&(x===g||"/"===x||"\\"===x||"?"===x||"#"===x)||(this._host=l._host,this._port=l._port,this._username=l._username,this._password=l._password,this._path=l._path.slice(),this._path.pop()),h="relative path";continue}break;case"relative slash":if("/"===v||"\\"===v)"\\"===v&&_("\\ is an invalid code point."),h="file"===this._scheme?"file host":"authority ignore slashes";else{"file"!==this._scheme&&(this._host=l._host,this._port=l._port,this._username=l._username,this._password=l._password),h="relative path";continue}break;case"authority first slash":if("/"===v)h="authority second slash";else{_("Expected '/', got: "+v),h="authority ignore slashes";continue}break;case"authority second slash":if(h="authority ignore slashes","/"!==v){_("Expected '/', got: "+v);continue}break;case"authority ignore slashes":if("/"!==v&&"\\"!==v){h="authority";continue}else _("Expected authority, got: "+v);break;case"authority":if("@"===v){b&&(_("@ already seen."),y+="%40"),b=!0;for(var k=0,C;k<y.length;k++){if(C=y[k],"\t"===C||"\n"===C||"\r"===C){_("Invalid whitespace in authority.");continue}if(":"===C&&null===this._password){this._password="";continue}var R=n(C);null===this._password?this._username+=R:this._password+=R}y=""}else if(v===g||"/"===v||"\\"===v||"?"===v||"#"===v){f-=y.length,y="",h="host";continue}else y+=v;break;case"file host":if(v===g||"/"===v||"\\"===v||"?"===v||"#"===v){2===y.length&&p.test(y[0])&&(":"===y[1]||"|"===y[1])?h="relative path":0===y.length?h="relative path start":(this._host=a.call(this,y),y="",h="relative path start");continue}else"\t"===v||"\n"===v||"\r"===v?_("Invalid whitespace in file host."):y+=v;break;case"host":case"hostname":if(":"===v&&!A){if(this._host=a.call(this,y),y="",h="port","hostname"===s)break loop;}else if(v===g||"/"===v||"\\"===v||"?"===v||"#"===v){if(this._host=a.call(this,y),y="",h="relative path start",s)break loop;continue}else"\t"!==v&&"\n"!==v&&"\r"!==v?("["===v?A=!0:"]"===v&&(A=!1),y+=v):_("Invalid code point in host/hostname: "+v);break;case"port":if(/[0-9]/.test(v))y+=v;else if(v===g||"/"===v||"\\"===v||"?"===v||"#"===v||s){if(""!==y){var P=parseInt(y,10);P!==d[this._scheme]&&(this._port=P+""),y=""}if(s)break loop;h="relative path start";continue}else"\t"===v||"\n"===v||"\r"===v?_("Invalid code point in port: "+v):r.call(this);break;case"relative path start":if("\\"===v&&_("'\\' not allowed in path."),h="relative path","/"!==v&&"\\"!==v)continue;break;case"relative path":if(v===g||"/"===v||"\\"===v||!s&&("?"===v||"#"===v)){"\\"===v&&_("\\ not allowed in relative path.");var T;(T=u[y.toLowerCase()])&&(y=T),".."===y?(this._path.pop(),"/"!==v&&"\\"!==v&&this._path.push("")):"."===y&&"/"!==v&&"\\"!==v?this._path.push(""):"."!==y&&("file"===this._scheme&&0===this._path.length&&2===y.length&&p.test(y[0])&&"|"===y[1]&&(y=y[0]+":"),this._path.push(y)),y="","?"===v?(this._query="?",h="query"):"#"===v&&(this._fragment="#",h="fragment")}else"\t"!==v&&"\n"!==v&&"\r"!==v&&(y+=n(v));break;case"query":s||"#"!==v?v!==g&&"\t"!==v&&"\n"!==v&&"\r"!==v&&(this._query+=o(v)):(this._fragment="#",h="fragment");break;case"fragment":v!==g&&"\t"!==v&&"\n"!==v&&"\r"!==v&&(this._fragment+=v);}f++}}function i(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function l(e,t){t===void 0||t instanceof l||(t=new l(t+"")),this._url=e,i.call(this);var r=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");s.call(this,r,null,t)}var d=Object.create(null);d.ftp=21,d.file=0,d.gopher=70,d.http=80,d.https=443,d.ws=80,d.wss=443;var u=Object.create(null);u["%2e"]=".",u[".%2e"]="..",u["%2e."]="..",u["%2e%2e"]="..";var p=/[a-zA-Z]/,m=/[a-zA-Z0-9\+\-\.]/,g;l.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return(""!==this._username||null!==this._password)&&(e=this._username+(null===this._password?"":":"+this._password)+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){i.call(this),s.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||s.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){this._isInvalid||!this._isRelative||s.call(this,e,"host")},get hostname(){return this._host},set hostname(e){this._isInvalid||!this._isRelative||s.call(this,e,"hostname")},get port(){return this._port},set port(e){this._isInvalid||!this._isRelative||s.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){this._isInvalid||!this._isRelative||(this._path=[],s.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(e){this._isInvalid||!this._isRelative||(this._query="?","?"===e[0]&&(e=e.slice(1)),s.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"===e[0]&&(e=e.slice(1)),s.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new l(this._schemeData).origin||"null"}catch(e){}return"null";}return e=this.host,e?this._scheme+"://"+e:""}},t.URL=l})()},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r,a,n,o,s){try{var i=e[o](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(a,n)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){function s(e){n(l,a,o,s,i,"next",e)}function i(e){n(l,a,o,s,i,"throw",e)}var l=e.apply(t,r);s(void 0)})}}function s(e,t){return c(e)||d(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var s=e[Symbol.iterator](),i;!(a=(i=s.next()).done)&&(r.push(i.value),!(t&&r.length===t));a=!0);}catch(e){n=!0,o=e}finally{try{a||null==s["return"]||s["return"]()}finally{if(n)throw o}}return r}function c(e){if(Array.isArray(e))return e}function u(e){return g(e)||m(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function g(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function f(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e){var t=new j,r;if("string"==typeof e)r={url:e};else if((0,v.isArrayBuffer)(e))r={data:e};else if(e instanceof W)r={range:e};else{if("object"!==y(e))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=e}var a=Object.create(null),n=null,o=null;for(var s in r){if("url"==s&&"undefined"!=typeof window){a[s]=new v.URL(r[s],window.location).href;continue}else if("range"==s){n=r[s];continue}else if("worker"==s){o=r[s];continue}else if("data"==s&&!(r[s]instanceof Uint8Array)){var i=r[s];if("string"==typeof i)a[s]=(0,v.stringToBytes)(i);else if("object"===y(i)&&null!==i&&!isNaN(i.length))a[s]=new Uint8Array(i);else if((0,v.isArrayBuffer)(i))a[s]=new Uint8Array(i);else throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");continue}a[s]=r[s]}a.rangeChunkSize=a.rangeChunkSize||65536,a.CMapReaderFactory=a.CMapReaderFactory||x.DOMCMapReaderFactory,a.ignoreErrors=!0!==a.stopAtErrors,a.pdfBug=!0===a.pdfBug;var l=Object.values(v.NativeImageDecoding);if(void 0!==a.nativeImageDecoderSupport&&l.includes(a.nativeImageDecoderSupport)||(a.nativeImageDecoderSupport=C.apiCompatibilityParams.nativeImageDecoderSupport||v.NativeImageDecoding.DECODE),Number.isInteger(a.maxImageSize)||(a.maxImageSize=-1),"boolean"!=typeof a.isEvalSupported&&(a.isEvalSupported=!0),"boolean"!=typeof a.disableFontFace&&(a.disableFontFace=C.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof a.disableRange&&(a.disableRange=!1),"boolean"!=typeof a.disableStream&&(a.disableStream=!1),"boolean"!=typeof a.disableAutoFetch&&(a.disableAutoFetch=!1),"boolean"!=typeof a.disableCreateObjectURL&&(a.disableCreateObjectURL=C.apiCompatibilityParams.disableCreateObjectURL||!1),(0,v.setVerbosityLevel)(a.verbosity),!o){var d={postMessageTransfers:a.postMessageTransfers,verbosity:a.verbosity,port:T.GlobalWorkerOptions.workerPort};o=d.port?H.fromPort(d):new H(d),t._worker=o}var c=t.docId;return o.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");return A(o,a,n,c).then(function(e){if(t.destroyed)throw new Error("Loading aborted");var r;n?r=new I.PDFDataTransportStream({length:a.length,initialData:a.initialData,disableRange:a.disableRange,disableStream:a.disableStream},n):!a.data&&(r=U({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream}));var s=new E.MessageHandler(c,e,o.port);s.postMessageTransfers=o.postMessageTransfers;var i=new X(s,t,r,a);t._transport=i,s.send("Ready",null)})}).catch(t._capability.reject),t}function A(e,t,r,a){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(r&&(t.length=r.length,t.initialData=r.initialData),e.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.1.266",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,disableCreateObjectURL:t.disableCreateObjectURL,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,nativeImageDecoderSupport:t.nativeImageDecoderSupport,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported}).then(function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t}))}Object.defineProperty(t,"__esModule",{value:!0}),t.getDocument=b,t.setPDFNetworkStreamFactory=function(e){U=e},t.build=t.version=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFWorker=t.PDFDataRangeTransport=t.LoopbackPort=void 0;var S=a(r(147)),v=r(1),x=r(151),k=r(152),C=r(153),R=r(154),P=a(r(3)),T=r(156),E=r(157),w=r(158),I=r(160),L=r(161),F=!1,O=null,D;{var N=!1;"undefined"==typeof window?(F=!0,"undefined"==typeof require.ensure&&(require.ensure=require("node-ensure")),N=!0):"undefined"!=typeof require&&"function"==typeof require.ensure&&(N=!0),"undefined"!=typeof requirejs&&requirejs.toUrl&&(D=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var M="undefined"!=typeof requirejs&&requirejs.load;if(O=N?function(){return new Promise(function(e,t){require.ensure([],function(){try{var r;r=require("./pdf.worker.js"),e(r.WorkerMessageHandler)}catch(e){t(e)}},t,"pdfjsWorker")})}:M?function(){return new Promise(function(e,t){requirejs(["pdfjs-dist/build/pdf.worker"],function(r){try{e(r.WorkerMessageHandler)}catch(e){t(e)}},t)})}:null,!D&&"object"===("undefined"==typeof document?"undefined":y(document))&&"currentScript"in document){var q=document.currentScript&&document.currentScript.src;q&&(D=q.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}}var j=function(){var e=0,t=function(){function t(){_(this,t),this._capability=(0,v.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return f(t,[{key:"destroy",value:function(){var e=this;this.destroyed=!0;var t=this._transport?this._transport.destroy():Promise.resolve();return t.then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})}},{key:"then",value:function(){return(0,v.deprecated)("PDFDocumentLoadingTask.then method, use the `promise` getter instead."),this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._capability.promise}}]),t}();return t}(),W=function(){function e(t,r){_(this,e),this.length=t,this.initialData=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=(0,v.createPromiseCapability)()}return f(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"onDataRange",value:function(e,t){var r=!0,a=!1,n=void 0;try{for(var o=this._rangeListeners[Symbol.iterator](),s,i;!(r=(s=o.next()).done);r=!0)i=s.value,i(e,t)}catch(e){a=!0,n=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}}},{key:"onDataProgress",value:function(e){var t=this;this._readyCapability.promise.then(function(){var r=!0,a=!1,n=void 0;try{for(var o=t._progressListeners[Symbol.iterator](),s,i;!(r=(s=o.next()).done);r=!0)i=s.value,i(e)}catch(e){a=!0,n=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}})}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then(function(){var r=!0,a=!1,n=void 0;try{for(var o=t._progressiveReadListeners[Symbol.iterator](),s,i;!(r=(s=o.next()).done);r=!0)i=s.value,i(e)}catch(e){a=!0,n=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw n}}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(){(0,v.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}(),U;t.PDFDataRangeTransport=W;var B=function(){function e(t,r,a){_(this,e),this.loadingTask=a,this._pdfInfo=t,this._transport=r}return f(e,[{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getOpenActionDestination",value:function(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}}]),e}();t.PDFDocumentProxy=B;var z=function(){function e(t,r,a){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];_(this,e),this.pageIndex=t,this._pageInfo=r,this._transport=a,this._stats=n?new x.StatTimer:x.DummyStatTimer,this._pdfBug=n,this.commonObjs=a.commonObjs,this.objs=new Y,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return f(e,[{key:"getViewport",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,r=e.rotation,a=void 0===r?this.rotate:r,n=e.dontFlip,o=void 0!==n&&n;return(1<arguments.length||"number"==typeof arguments[0])&&((0,v.deprecated)("getViewport is called with obsolete arguments."),t=arguments[0],a="number"==typeof arguments[1]?arguments[1]:this.rotate,o="boolean"==typeof arguments[2]&&arguments[2]),new x.PageViewport({viewBox:this.view,scale:t,rotation:a,dontFlip:o})}},{key:"getAnnotations",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,r=void 0===t?null:t;return this.annotationsPromise&&this.annotationsIntent===r||(this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,r),this.annotationsIntent=r),this.annotationsPromise}},{key:"render",value:function(e){var t=this,r=e.canvasContext,a=e.viewport,n=e.intent,o=void 0===n?"display":n,s=e.enableWebGL,i=e.renderInteractiveForms,l=e.transform,d=void 0===l?null:l,c=e.imageLayer,u=void 0===c?null:c,p=e.canvasFactory,m=void 0===p?null:p,g=e.background,_=void 0===g?null:g,h=this._stats;h.time("Overall"),this.pendingCleanup=!1;var f="print"===o?"print":"display",y=m||new x.DOMCanvasFactory,b=new L.WebGLContext({enable:void 0!==s&&s});this.intentStates[f]||(this.intentStates[f]=Object.create(null));var A=this.intentStates[f];A.displayReadyCapability||(A.receivingOperatorList=!0,A.displayReadyCapability=(0,v.createPromiseCapability)(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1},h.time("Page Request"),this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:f,renderInteractiveForms:!0===(void 0!==i&&i)}));var S=function(e){var r=A.renderTasks.indexOf(k);0<=r&&A.renderTasks.splice(r,1),t.cleanupAfterRender&&(t.pendingCleanup=!0),t._tryCleanup(),e?k.capability.reject(e):k.capability.resolve(),h.timeEnd("Rendering"),h.timeEnd("Overall")},k=new Q({callback:S,params:{canvasContext:r,viewport:a,transform:d,imageLayer:u,background:_},objs:this.objs,commonObjs:this.commonObjs,operatorList:A.operatorList,pageNumber:this.pageNumber,canvasFactory:y,webGLContext:b,useRequestAnimationFrame:"print"!=f,pdfBug:this._pdfBug});A.renderTasks||(A.renderTasks=[]),A.renderTasks.push(k);var C=k.task;return A.displayReadyCapability.promise.then(function(e){return t.pendingCleanup?void S():void(h.time("Rendering"),k.initializeGraphics(e),k.operatorListChanged())}).catch(S),C}},{key:"getOperatorList",value:function(){function e(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);var e=t.renderTasks.indexOf(r);0<=e&&t.renderTasks.splice(e,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var t=this.intentStates.oplist,r;return t.opListReadCapability||(r={},r.operatorListChanged=e,t.receivingOperatorList=!0,t.opListReadCapability=(0,v.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(r),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats.time("Page Request"),this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})),t.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,r=e.disableCombineTextItems;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===(void 0!==t&&t),combineTextItems:!0!==(void 0!==r&&r)},{highWaterMark:100,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.streamTextContent(e);return new Promise(function(e,r){function a(){n.read().then(function(t){var r=t.value,n=t.done,s;return n?void e(o):void(Object.assign(o.styles,r.styles),(s=o.items).push.apply(s,u(r.items)),a())},r)}var n=t.getReader(),o={items:[],styles:Object.create(null)};a()})}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this.pageIndex]=null;var e=[];return Object.keys(this.intentStates).forEach(function(t){if("oplist"!==t){var r=this.intentStates[t];r.renderTasks.forEach(function(t){var r=t.capability.promise.catch(function(){});e.push(r),t.cancel()})}},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(e)}},{key:"cleanup",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!this.pendingCleanup||Object.keys(this.intentStates).some(function(e){var t=this.intentStates[e];return 0!==t.renderTasks.length||t.receivingOperatorList},this)||(Object.keys(this.intentStates).forEach(function(e){delete this.intentStates[e]},this),this.objs.clear(),this.annotationsPromise=null,e&&this._stats instanceof x.StatTimer&&(this._stats=new x.StatTimer),this.pendingCleanup=!1)}},{key:"_startRenderPage",value:function(e,t){var r=this.intentStates[t];r.displayReadyCapability&&r.displayReadyCapability.resolve(e)}},{key:"_renderPageChunk",value:function(e,t){for(var r=this.intentStates[t],a=0,n=e.length;a<n;a++)r.operatorList.fnArray.push(e.fnArray[a]),r.operatorList.argsArray.push(e.argsArray[a]);r.operatorList.lastChunk=e.lastChunk;for(var o=0;o<r.renderTasks.length;o++)r.renderTasks[o].operatorListChanged();e.lastChunk&&(r.receivingOperatorList=!1,this._tryCleanup())}},{key:"pageNumber",get:function(){return this.pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats instanceof x.StatTimer?this._stats:null}}]),e}();t.PDFPageProxy=z;var G=function(){function e(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];_(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return f(e,[{key:"postMessage",value:function(t,r){function a(e){if("object"!==y(e)||null===e)return e;if(o.has(e))return o.get(e);var t,n;if((t=e.buffer)&&(0,v.isArrayBuffer)(t)){var s=r&&r.includes(t);return n=e===t?e:s?new e.constructor(t,e.byteOffset,e.byteLength):new e.constructor(e),o.set(e,n),n}for(var l in n=Array.isArray(e)?[]:{},o.set(e,n),e){for(var i=void 0,d=e;!(i=Object.getOwnPropertyDescriptor(d,l));)d=Object.getPrototypeOf(d);"undefined"!=typeof i.value&&"function"!=typeof i.value&&(n[l]=a(i.value))}return n}var n=this;if(!this._defer)return void this._listeners.forEach(function(e){e.call(this,{data:t})},this);var o=new WeakMap,s={data:a(t)};this._deferred.then(function(){n._listeners.forEach(function(e){e.call(this,s)},n)})}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var r=this._listeners.indexOf(t);this._listeners.splice(r,1)}},{key:"terminate",value:function(){this._listeners=[]}}]),e}();t.LoopbackPort=G;var H=function(){function e(){if(T.GlobalWorkerOptions.workerSrc)return T.GlobalWorkerOptions.workerSrc;if("undefined"!=typeof D)return D;throw new Error("No \"GlobalWorkerOptions.workerSrc\" specified.")}function t(){try{if("undefined"!=typeof window)return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(e){}return null}function r(){if(i)return i.promise;i=(0,v.createPromiseCapability)();var r=t();if(r)return i.resolve(r),i.promise;var a=O||function(){return(0,x.loadScript)(e()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})};return a().then(i.resolve,i.reject),i.promise}function a(e){return v.URL.createObjectURL(new Blob(["importScripts('"+e+"');"]))}var n=new WeakMap,o=0,s=function(){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=void 0===t?null:t,a=e.port,o=void 0===a?null:a,i=e.postMessageTransfers,l=e.verbosity,d=void 0===l?(0,v.getVerbosityLevel)():l;if(_(this,s),o&&n.has(o))throw new Error("Cannot use more than one PDFWorker per port");return this.name=r,this.destroyed=!1,this.postMessageTransfers=!1!==(void 0===i||i),this.verbosity=d,this._readyCapability=(0,v.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o?(n.set(o,this),void this._initializeFromPort(o)):void this._initialize()}return f(s,[{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new E.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var r=this;if("undefined"!=typeof Worker&&!F&&!t()){var n=e();try{(0,v.isSameOrigin)(window.location.href,n)||(n=a(new v.URL(n,window.location).href));var o=new Worker(n),s=new E.MessageHandler("main","worker",o),i=function(){o.removeEventListener("error",l),s.destroy(),o.terminate(),r.destroyed?r._readyCapability.reject(new Error("Worker was destroyed")):r._setupFakeWorker()},l=function(){r._webWorker||i()};o.addEventListener("error",l),s.on("test",function(e){return o.removeEventListener("error",l),r.destroyed?void i():void(e&&e.supportTypedArray?(r._messageHandler=s,r._port=o,r._webWorker=o,!e.supportTransfers&&(r.postMessageTransfers=!1),r._readyCapability.resolve(),s.send("configure",{verbosity:r.verbosity})):(r._setupFakeWorker(),s.destroy(),o.terminate()))}),s.on("ready",function(){if(o.removeEventListener("error",l),r.destroyed)return void i();try{d()}catch(t){r._setupFakeWorker()}});var d=function(){var e=new Uint8Array([r.postMessageTransfers?255:0]);try{s.send("test",e,[e.buffer])}catch(t){(0,v.info)("Cannot use postMessage transfers"),e[0]=0,s.send("test",e)}};return void d()}catch(t){(0,v.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;F||((0,v.warn)("Setting up fake worker."),F=!0),r().then(function(t){if(e.destroyed)return void e._readyCapability.reject(new Error("Worker was destroyed"));var r=new G;e._port=r;var a="fake"+o++,n=new E.MessageHandler(a+"_worker",a,r);t.setup(n,r);var s=new E.MessageHandler(a,a+"_worker",r);e._messageHandler=s,e._readyCapability.resolve()}).catch(function(t){e._readyCapability.reject(new Error("Setting up fake worker failed: \"".concat(t.message,"\".")))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),n.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return n.has(e.port)?n.get(e.port):new s(e)}},{key:"getWorkerSrc",value:function(){return e()}}]),s}(),i;return s}();t.PDFWorker=H;var X=function(){function e(t,r,a,n){_(this,e),this.messageHandler=t,this.loadingTask=r,this.commonObjs=new Y,this.fontLoader=new k.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=n,this.CMapReaderFactory=new n.CMapReaderFactory({baseUrl:n.cMapUrl,isCompressed:n.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,v.createPromiseCapability)(),this.setupMessageHandler()}return f(e,[{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,v.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache=[],this.pagePromises=[];var r=this.messageHandler.sendWithPromise("Terminate",null);return t.push(r),Promise.all(t).then(function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this.messageHandler,t=this.loadingTask;e.on("GetReader",function(e,t){var r=this;(0,v.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(e){r._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=function(){r._fullReader.read().then(function(e){var r=e.value,a=e.done;return a?void t.close():void((0,v.assert)((0,v.isArrayBuffer)(r)),t.enqueue(new Uint8Array(r),1,[r]))}).catch(function(e){t.error(e)})},t.onCancel=function(e){r._fullReader.cancel(e)}},this),e.on("ReaderHeadersReady",function(){var e=this,r=(0,v.createPromiseCapability)(),a=this._fullReader;return a.headersReady.then(function(){a.isStreamingSupported&&a.isRangeSupported||(e._lastProgress&&t.onProgress&&t.onProgress(e._lastProgress),a.onProgress=function(e){t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}),r.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})},r.reject),r.promise},this),e.on("GetRangeReader",function(e,t){(0,v.assert)(this._networkStream);var r=this._networkStream.getRangeReader(e.begin,e.end);t.onPull=function(){r.read().then(function(e){var r=e.value,a=e.done;return a?void t.close():void((0,v.assert)((0,v.isArrayBuffer)(r)),t.enqueue(new Uint8Array(r),1,[r]))}).catch(function(e){t.error(e)})},t.onCancel=function(e){r.cancel(e)}},this),e.on("GetDoc",function(e){var r=e.pdfInfo;this.numPages=r.numPages,this.pdfDocument=new B(r,this,t),t._capability.resolve(this.pdfDocument)},this),e.on("PasswordRequest",function(e){var r=this;if(this._passwordCapability=(0,v.createPromiseCapability)(),t.onPassword){var a=function(e){r._passwordCapability.resolve({password:e})};try{t.onPassword(a,e.code)}catch(e){this._passwordCapability.reject(e)}}else this._passwordCapability.reject(new v.PasswordException(e.message,e.code));return this._passwordCapability.promise},this),e.on("PasswordException",function(e){t._capability.reject(new v.PasswordException(e.message,e.code))},this),e.on("InvalidPDF",function(e){t._capability.reject(new v.InvalidPDFException(e.message))},this),e.on("MissingPDF",function(e){t._capability.reject(new v.MissingPDFException(e.message))},this),e.on("UnexpectedResponse",function(e){t._capability.reject(new v.UnexpectedResponseException(e.message,e.status))},this),e.on("UnknownError",function(e){t._capability.reject(new v.UnknownErrorException(e.message,e.details))},this),e.on("DataLoaded",function(e){t.onProgress&&t.onProgress({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)},this),e.on("StartRenderPage",function(e){if(!this.destroyed){var t=this.pageCache[e.pageIndex];t._stats.timeEnd("Page Request"),t._startRenderPage(e.transparency,e.intent)}},this),e.on("RenderPageChunk",function(e){if(!this.destroyed){var t=this.pageCache[e.pageIndex];t._renderPageChunk(e.operatorList,e.intent)}},this),e.on("commonobj",function(t){var r=this;if(!this.destroyed){var a=s(t,3),n=a[0],o=a[1],i=a[2];if(!this.commonObjs.has(n))switch(o){case"Font":var l=this._params;if("error"in i){var d=i.error;(0,v.warn)("Error during font loading: ".concat(d)),this.commonObjs.resolve(n,d);break}var c=null;l.pdfBug&&P.default.FontInspector&&P.default.FontInspector.enabled&&(c={registerFont:function(e,t){P.default.FontInspector.fontAdded(e,t)}});var u=new k.FontFaceObject(i,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:c});this.fontLoader.bind(u).then(function(){r.commonObjs.resolve(n,u)},function(){e.sendWithPromise("FontFallback",{id:n}).finally(function(){r.commonObjs.resolve(n,u)})});break;case"FontPath":this.commonObjs.resolve(n,i);break;default:throw new Error("Got unknown common object type ".concat(o));}}},this),e.on("obj",function(e){if(!this.destroyed){var t=s(e,4),r=t[0],a=t[1],n=t[2],o=t[3],i=this.pageCache[a];if(!i.objs.has(r))switch(n){case"JpegStream":return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=function(){t(new Error("Error during JPEG image loading"))},r.src=o}).then(function(e){i.objs.resolve(r,e)});case"Image":i.objs.resolve(r,o);o&&"data"in o&&o.data.length>8e6&&(i.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(n));}}},this),e.on("DocProgress",function(e){this.destroyed||t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})},this),e.on("PageError",function(e){if(!this.destroyed){var t=this.pageCache[e.pageNum-1],r=t.intentStates[e.intent];if(r.displayReadyCapability)r.displayReadyCapability.reject(e.error);else throw new Error(e.error);if(r.operatorList){r.operatorList.lastChunk=!0;for(var a=0;a<r.renderTasks.length;a++)r.renderTasks[a].operatorListChanged()}}},this),e.on("UnsupportedFeature",this._onUnsupportedFeature,this),e.on("JpegDecode",function(e){if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error("\"document\" is not defined."));var t=s(e,2),r=t[0],a=t[1];return 3!==a&&1!==a?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(e,t){var n=new Image;n.onload=function(){var t=n.width,r=n.height,o=t*r,s=4*o,l=new Uint8ClampedArray(o*a),d=document.createElement("canvas");d.width=t,d.height=r;var c=d.getContext("2d");c.drawImage(n,0,0);var u=c.getImageData(0,0,t,r).data;if(3===a)for(var p=0,m=0;p<s;p+=4,m+=3)l[m]=u[p],l[m+1]=u[p+1],l[m+2]=u[p+2];else if(1===a)for(var g=0,_=0;g<s;g+=4,_++)l[_]=u[g];e({data:l,width:t,height:r})},n.onerror=function(){t(new Error("JpegDecode failed to load image"))},n.src=r})},this),e.on("FetchBuiltInCMap",function(e){return this.destroyed?Promise.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:e.name})},this)}},{key:"_onUnsupportedFeature",value:function(e){var t=e.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||0>=e||e>this.numPages)return Promise.reject(new Error("Invalid page request"));var r=e-1;if(r in this.pagePromises)return this.pagePromises[r];var a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(function(e){if(t.destroyed)throw new Error("Transport destroyed");var a=new z(r,e,t,t._params.pdfBug);return t.pageCache[r]=a,a});return this.pagePromises[r]=a,a}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return Promise.reject(new Error(e))})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"==typeof e?this.messageHandler.sendWithPromise("GetDestination",{id:e}):Promise.reject(new Error("Invalid destination request."))}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getOpenActionDestination",value:function(){return this.messageHandler.sendWithPromise("getOpenActionDestination",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(t){return{info:t[0],metadata:t[1]?new w.Metadata(t[1]):null,contentDispositionFilename:e._fullReader?e._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var e=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var t=0,r=e.pageCache.length,a;t<r;t++)a=e.pageCache[t],a&&a.cleanup();e.commonObjs.clear(),e.fontLoader.clear()})}},{key:"loadingParams",get:function(){var e=this._params;return(0,v.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableCreateObjectURL:e.disableCreateObjectURL,disableFontFace:e.disableFontFace,nativeImageDecoderSupport:e.nativeImageDecoderSupport})}}]),e}(),Y=function(){function e(){_(this,e),this._objs=Object.create(null)}return f(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,v.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var r=this._objs[e];if(!r||!r.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return r.data}},{key:"has",value:function(e){var t=this._objs[e];return!!t&&t.resolved}},{key:"resolve",value:function(e,t){var r=this._ensureObj(e);r.resolved=!0,r.data=t,r.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),V=function(){function e(t){_(this,e),this._internalRenderTask=t,this.onContinue=null}return f(e,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(){return(0,v.deprecated)("RenderTask.then method, use the `promise` getter instead."),this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),e}(),Q=function(){var e=new WeakSet,t=function(){function t(e){var r=e.callback,a=e.params,n=e.objs,o=e.commonObjs,s=e.operatorList,i=e.pageNumber,l=e.canvasFactory,d=e.webGLContext,c=e.useRequestAnimationFrame,u=e.pdfBug;_(this,t),this.callback=r,this.params=a,this.objs=n,this.commonObjs=o,this.operatorListIdx=null,this.operatorList=s,this.pageNumber=i,this.canvasFactory=l,this.webGLContext=d,this._pdfBug=void 0!==u&&u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===(void 0!==c&&c)&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,v.createPromiseCapability)(),this.task=new V(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=a.canvasContext.canvas}return f(t,[{key:"initializeGraphics",value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(!this.cancelled){if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.add(this._canvas)}this._pdfBug&&P.default.StepperManager&&P.default.StepperManager.enabled&&(this.stepper=P.default.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var r=this.params,a=r.canvasContext,n=r.viewport,o=r.transform,s=r.imageLayer,i=r.background;this.gfx=new R.CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,s),this.gfx.beginDrawing({transform:o,viewport:n,transparency:t,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback(t||new x.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function(){return this.graphicsReady?void(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound))}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){e._nextBound().catch(e.cancel.bind(e))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:function(){var t=o(S.default.mark(function t(){return S.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback()));case 4:case"end":return t.stop();}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}();return t}();t.version="2.1.266";t.build="81f5835c"},function(e,t,r){"use strict";e.exports=r(148)},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var n=function(){return this||"object"===("undefined"==typeof self?"undefined":a(self))&&self}()||Function("return this")(),o=n.regeneratorRuntime&&0<=Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime"),s=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(149),o)n.regeneratorRuntime=s;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(e,t,r){"use strict";(function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}!function(r){function a(e,t,r,a){var n=t&&t.prototype instanceof o?t:o,s=Object.create(n.prototype),i=new g(a||[]);return s._invoke=c(e,r,i),s}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function s(){}function i(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){function r(a,o,s,i){var l=n(e[a],e,o);if("throw"===l.type)i(l.arg);else{var d=l.arg,c=d.value;return c&&"object"===t(c)&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){r("next",e,s,i)},function(e){r("throw",e,s,i)}):Promise.resolve(c).then(function(e){d.value=e,s(d)},function(e){return r("throw",e,s,i)})}}function a(e,t){function a(){return new Promise(function(a,n){r(e,t,a,n)})}return o=o?o.then(a,a):a()}var o;this._invoke=a}function c(e,t,r){var a="suspendedStart";return function(o,s){if(a==="executing")throw new Error("Generator is already running");if("completed"===a){if("throw"===o)throw s;return h()}for(r.method=o,r.arg=s;;){var i=r.delegate;if(i){var l=u(i,r);if(l){if(l===C)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var d=n(e,t,r);if("normal"===d.type){if(a=r.done?"completed":"suspendedYield",d.arg===C)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(a="completed",r.method="throw",r.arg=d.arg)}}}function u(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,u(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var a=n(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,C;var o=a.arg;if(!o)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C;if(o.done)t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0);else return o;return t.delegate=null,C}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function m(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(p,this),this.reset(!0)}function _(e){if(e){var t=e[A];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:h}}function h(){return{value:void 0,done:!0}}var f=Object.prototype,y=f.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},A=b.iterator||"@@iterator",S=b.asyncIterator||"@@asyncIterator",v=b.toStringTag||"@@toStringTag",x="object"===t(e),k=r.regeneratorRuntime;if(k)return void(x&&(e.exports=k));k=r.regeneratorRuntime=x?e.exports:{},k.wrap=a;var C={},R={};R[A]=function(){return this};var P=Object.getPrototypeOf,T=P&&P(P(_([])));T&&T!==f&&y.call(T,A)&&(R=T);var E=i.prototype=o.prototype=Object.create(R);s.prototype=E.constructor=i,i.constructor=s,i[v]=s.displayName="GeneratorFunction",k.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},k.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,!(v in e)&&(e[v]="GeneratorFunction")),e.prototype=Object.create(E),e},k.awrap=function(e){return{__await:e}},l(d.prototype),d.prototype[S]=function(){return this},k.AsyncIterator=d,k.async=function(e,t,r,n){var o=new d(a(e,t,r,n));return k.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},l(E),E[v]="Generator",E[A]=function(){return this},E.toString=function(){return"[object Generator]"},k.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},k.values=_,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(m),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,a){return o.type="throw",o.arg=e,r.next=t,a&&(r.method="next",r.arg=void 0),!!a}if(this.done)throw e;for(var r=this,a=this.tryEntries.length-1;0<=a;--a){var n=this.tryEntries[a],o=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var s=y.call(n,"catchLoc"),l=y.call(n,"finallyLoc");if(s&&l){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);}else if(!l)throw new Error("try statement without catch or finally");else if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1,a;0<=r;--r)if(a=this.tryEntries[r],a.tryLoc<=this.prev&&y.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?(this.method="next",this.next=n.finallyLoc,C):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1,r;0<=t;--t)if(r=this.tryEntries[t],r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),m(r),C},catch:function(e){for(var t=this.tryEntries.length-1,r;0<=t;--t)if(r=this.tryEntries[t],r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;m(r)}return n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),C}}}(function(){return this||"object"===("undefined"==typeof self?"undefined":t(self))&&self}()||Function("return this")())}).call(this,r(150)(e))},function(e){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=t.url,a=t.target,n=t.rel;if(e.href=e.title=r?(0,s.removeNullCharacters)(r):"",r){var o=Object.values(p),i=o.includes(a)?a:p.NONE;e.target=m[i],e.rel="string"==typeof n?n:"noopener noreferrer nofollow"}},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),r=e.indexOf("?"),a=Math.min(0<t?t:e.length,0<r?r:e.length);return e.substring(e.lastIndexOf("/",a)+1,a)},t.loadScript=function(e){return new Promise(function(t,r){var a=document.createElement("script");a.src=e,a.onload=t,a.onerror=function(){r(new Error("Cannot load script at: ".concat(a.src)))},(document.head||document.documentElement).appendChild(a)})},t.DummyStatTimer=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var s=r(1);t.DEFAULT_LINK_REL="noopener noreferrer nofollow";var i=function(){function e(){a(this,e)}return o(e,[{key:"create",value:function(e,t){if(0>=e||0>=t)throw new Error("invalid canvas size");var r=document.createElement("canvas"),a=r.getContext("2d");return r.width=e,r.height=t,{canvas:r,context:a}}},{key:"reset",value:function(e,t,r){if(!e.canvas)throw new Error("canvas is not specified");if(0>=t||0>=r)throw new Error("invalid canvas size");e.canvas.width=t,e.canvas.height=r}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}();t.DOMCanvasFactory=i;var l=function(){function e(t){var r=t.baseUrl,n=void 0===r?null:r,o=t.isCompressed;a(this,e),this.baseUrl=n,this.isCompressed=void 0!==o&&o}return o(e,[{key:"fetch",value:function(e){var t=this,r=e.name;return this.baseUrl?r?new Promise(function(e,a){var n=t.baseUrl+r+(t.isCompressed?".bcmap":""),o=new XMLHttpRequest;o.open("GET",n,!0),t.isCompressed&&(o.responseType="arraybuffer"),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){var r;if(t.isCompressed&&o.response?r=new Uint8Array(o.response):!t.isCompressed&&o.responseText&&(r=(0,s.stringToBytes)(o.responseText)),r)return void e({cMapData:r,compressionType:t.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE})}a(new Error("Unable to load "+(t.isCompressed?"binary ":"")+"CMap at: "+n))}},o.send(null)}):Promise.reject(new Error("CMap name must be specified.")):Promise.reject(new Error("The CMap \"baseUrl\" parameter must be specified, ensure that the \"cMapUrl\" and \"cMapPacked\" API parameters are provided."))}}]),e}();t.DOMCMapReaderFactory=l;var d=function(){function e(){a(this,e)}return o(e,[{key:"create",value:function(e,t){(0,s.assert)(0<e&&0<t,"Invalid SVG dimensions");var r=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width",e+"px"),r.setAttribute("height",t+"px"),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 "+e+" "+t),r}},{key:"createElement",value:function(e){return(0,s.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS("http://www.w3.org/2000/svg",e)}}]),e}();t.DOMSVGFactory=d;var c=function(){function e(t){var r=t.viewBox,n=t.scale,o=t.rotation,s=t.offsetX,i=void 0===s?0:s,l=t.offsetY,d=void 0===l?0:l,c=t.dontFlip;a(this,e),this.viewBox=r,this.scale=n,this.rotation=o,this.offsetX=i,this.offsetY=d;var u=(r[2]+r[0])/2,p=(r[3]+r[1])/2,m,g,_,h;switch(o%=360,o=0>o?o+360:o,o){case 180:m=-1,g=0,_=0,h=1;break;case 90:m=0,g=1,_=1,h=0;break;case 270:m=0,g=-1,_=-1,h=0;break;default:m=1,g=0,_=0,h=-1;}void 0!==c&&c&&(_=-_,h=-h);var f,y,b,A;0===m?(f=Math.abs(p-r[1])*n+i,y=Math.abs(u-r[0])*n+d,b=Math.abs(r[3]-r[1])*n,A=Math.abs(r[2]-r[0])*n):(f=Math.abs(u-r[0])*n+i,y=Math.abs(p-r[1])*n+d,b=Math.abs(r[2]-r[0])*n,A=Math.abs(r[3]-r[1])*n),this.transform=[m*n,g*n,_*n,h*n,f-m*n*u-_*n*p,y-g*n*u-h*n*p],this.width=b,this.height=A}return o(e,[{key:"clone",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,a=void 0===r?this.scale:r,n=t.rotation,o=void 0===n?this.rotation:n,s=t.dontFlip;return new e({viewBox:this.viewBox.slice(),scale:a,rotation:o,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:void 0!==s&&s})}},{key:"convertToViewportPoint",value:function(e,t){return s.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=s.Util.applyTransform([e[0],e[1]],this.transform),r=s.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}},{key:"convertToPdfPoint",value:function(e,t){return s.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=c;var u=function e(){function e(t,r){this.message=t,this.type=r}return e.prototype=new Error,e.prototype.name="RenderingCancelledException",e.constructor=e,e}();t.RenderingCancelledException=u;var p={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=p;var m=["","_self","_blank","_parent","_top"],g=function(){function e(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];a(this,e),this.enabled=!!t,this.started=Object.create(null),this.times=[]}return o(e,[{key:"time",value:function(e){this.enabled&&(e in this.started&&(0,s.warn)("Timer is already running for "+e),this.started[e]=Date.now())}},{key:"timeEnd",value:function(e){this.enabled&&(!(e in this.started)&&(0,s.warn)("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])}},{key:"toString",value:function(){for(var e=this.times,t="",r=0,a=0,n=e.length,o;a<n;++a)o=e[a].name,o.length>r&&(r=o.length);for(var s=0,l=e.length;s<l;++s){var d=e[s],c=d.end-d.start;t+="".concat(d.name.padEnd(r)," ").concat(c,"ms\n")}return t}}]),e}();t.StatTimer=g;var _=function(){function e(){a(this,e),(0,s.unreachable)("Cannot initialize DummyStatTimer.")}return o(e,null,[{key:"time",value:function(){}},{key:"timeEnd",value:function(){}},{key:"toString",value:function(){return""}}]),e}();t.DummyStatTimer=_},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:o(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e,t,r,a,n,o,s){try{var i=e[o](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(a,n)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){function o(e){d(i,a,n,o,s,"next",e)}function s(e){d(i,a,n,o,s,"throw",e)}var i=e.apply(t,r);o(void 0)})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function m(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var g=function(e){return e&&e.__esModule?e:{default:e}}(r(147)),_=r(1),h=function(){function e(t){var r=t.docId,a=t.onUnsupportedFeature;u(this,e),this.constructor===e&&(0,_.unreachable)("Cannot initialize BaseFontLoader."),this.docId=r,this._onUnsupportedFeature=a,this.nativeFontFaces=[],this.styleElement=null}return m(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||(t=this.styleElement=document.createElement("style"),t.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(t));var r=t.sheet;r.insertRule(e,r.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var e=c(g.default.mark(function e(t){var r=this,a,n;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.attached||t.missingFile)){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(a=t.createNativeFontFace(),!a){e.next=18;break}return this.addNativeFontFace(a),e.prev=7,e.next=10,a.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e["catch"](7),this._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.font}),(0,_.warn)("Failed to load font '".concat(a.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(n=t.createFontFaceRule(),!n){e.next=25;break}if(this.insertRule(n),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.abrupt("return",new Promise(function(e){var a=r._queueLoadingCallback(e);r._prepareFontLoadEvent([n],[t],a)}));case 25:case"end":return e.stop();}},e,this,[[7,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"_queueLoadingCallback",value:function(){(0,_.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(){(0,_.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){(0,_.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function(){(0,_.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,_.unreachable)("Abstract method `_loadTestFont`.")}}]),e}(),f;t.FontLoader=f,t.FontLoader=f=function(e){function t(e){var r;return u(this,t),r=n(this,s(t).call(this,e)),r.loadingContext={requests:[],nextRequestId:0},r.loadTestFontId=0,r}return i(t,e),m(t,[{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,r={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,_.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;0<t.requests.length&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(r),r}},{key:"_prepareFontLoadEvent",value:function(e,t,r){function a(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function n(e,t,r,a){var n=e.substring(0,t),o=e.substring(t+r);return n+a+o}function o(e,t){if(u++,30<u)return(0,_.warn)("Load test font never loaded."),void t();c.font="30px "+e,c.fillText(".",0,20);var r=c.getImageData(0,0,1,1);return 0<r.data[3]?void t():void setTimeout(o.bind(null,e,t))}var s=document.createElement("canvas"),l,d;s.width=1,s.height=1;var c=s.getContext("2d"),u=0,p="lt".concat(Date.now()).concat(this.loadTestFontId++),m=this._loadTestFont;m=n(m,976,p.length,p);var g=1482184792,h=a(m,16);for(l=0,d=p.length-3;l<d;l+=4)h=0|h-g+a(p,l);l<p.length&&(h=0|h-g+a(p+"XXX",l)),m=n(m,16,4,(0,_.string32)(h));var f="url(data:font/opentype;base64,".concat(btoa(m),");"),y="@font-face {font-family:\"".concat(p,"\";src:").concat(f,"}");this.insertRule(y);var b=[];for(l=0,d=t.length;l<d;l++)b.push(t[l].loadedName);b.push(p);var A=document.createElement("div");for(A.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),l=0,d=b.length;l<d;++l){var S=document.createElement("span");S.textContent="Hi",S.style.fontFamily=b[l],A.appendChild(S)}document.body.appendChild(A),o(p,function(){document.body.removeChild(A),r.complete()})}},{key:"isFontLoadingAPISupported",get:function(){var e="undefined"!=typeof document&&!!document.fonts;if(e&&"undefined"!=typeof navigator){var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&63>t[1]&&(e=!1)}return(0,_.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&14<=t[1]&&(e=!0)}return(0,_.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_loadTestFont",get:function(){return(0,_.shadow)(this,"_loadTestFont",function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")}())}}]),t}(h);var y={get value(){return(0,_.shadow)(this,"value",(0,_.isEvalSupported)())}},b=function(){function e(t,r){var a=r.isEvalSupported,n=r.disableFontFace,o=r.ignoreErrors,s=r.onUnsupportedFeature,l=void 0===s?null:s,d=r.fontRegistry,c=void 0===d?null:d;for(var p in u(this,e),this.compiledGlyphs=Object.create(null),t)this[p]=t[p];this.isEvalSupported=!1!==(void 0===a||a),this.disableFontFace=!0===(void 0!==n&&n),this.ignoreErrors=!0===(void 0!==o&&o),this._onUnsupportedFeature=l,this.fontRegistry=c}return m(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,_.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),r="@font-face {font-family:\"".concat(this.loadedName,"\";src:").concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),r}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var r,a;try{r=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:_.UNSUPPORTED_FEATURES.font}),(0,_.warn)("getPathGenerator - ignoring character: \"".concat(e,"\".")),this.compiledGlyphs[t]=function(){}}if(this.isEvalSupported&&y.value){for(var n="",o=0,s=r.length,l;o<s;o++)a=r[o],l=void 0===a.args?"":a.args.join(","),n+="c."+a.cmd+"("+l+");\n";return this.compiledGlyphs[t]=new Function("c","size",n)}return this.compiledGlyphs[t]=function(e,t){for(var n=0,o=r.length;n<o;n++)a=r[n],"scale"===a.cmd&&(a.args=[t,-t]),e[a.cmd].apply(e,a.args)}}}]),e}();t.FontFaceObject=b},function(e,t,r){"use strict";var a=Object.create(null);{var n=r(4),o="undefined"!=typeof navigator&&navigator.userAgent||"",s=/Trident/.test(o),i=/CriOS/.test(o);(function(){(s||i)&&(a.disableCreateObjectURL=!0)})(),function(){n()&&(a.disableFontFace=!0,a.nativeImageDecoderSupport="none")}()}t.apiCompatibilityParams=Object.freeze(a)},function(e,t,r){"use strict";function a(t){t.mozCurrentTransform||(t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[],Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix,r=t[0],a=t[1],n=t[2],o=t[3],s=t[4],e=t[5],i=r*o-a*n,l=a*n-r*o;return[o/i,a/l,n/l,r/i,(o*s-n*e)/l,(a*s-r*e)/i]}}),t.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},t.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},t.translate=function(e,t){var r=this._transformMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5],this._originalTranslate(e,t)},t.scale=function(e,t){var r=this._transformMatrix;r[0]*=e,r[1]*=e,r[2]*=t,r[3]*=t,this._originalScale(e,t)},t.transform=function(r,a,n,o,s,e){var i=this._transformMatrix;this._transformMatrix=[i[0]*r+i[2]*a,i[1]*r+i[3]*a,i[0]*n+i[2]*o,i[1]*n+i[3]*o,i[0]*s+i[2]*e+i[4],i[1]*s+i[3]*e+i[5]],t._originalTransform(r,a,n,o,s,e)},t.setTransform=function(r,a,n,o,s,e){this._transformMatrix=[r,a,n,o,s,e],t._originalSetTransform(r,a,n,o,s,e)},t.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),a=this._transformMatrix;this._transformMatrix=[a[0]*t+a[2]*r,a[1]*t+a[3]*r,a[0]*-r+a[2]*t,a[1]*-r+a[3]*t,a[4],a[5]],this._originalRotate(e)})}function n(e){var t=e.width,r=e.height,a=t+1,n=new Uint8Array(a*(r+1)),o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=-8&t+7,l=e.data,d=new Uint8Array(s*r),c=0,u,m,g,_;for(u=0,_=l.length;u<_;u++)for(var h=128,f=l[u];0<h;)d[c++]=f&h?0:255,h>>=1;var y=0;for(c=0,0!==d[c]&&(n[0]=1,++y),m=1;m<t;m++)d[c]!==d[c+1]&&(n[m]=d[c]?2:1,++y),c++;for(0!==d[c]&&(n[m]=2,++y),u=1;u<r;u++){c=u*s,g=u*a,d[c-s]!==d[c]&&(n[g]=d[c]?1:8,++y);var b=(d[c]?4:0)+(d[c-s]?8:0);for(m=1;m<t;m++)b=(b>>2)+(d[c+1]?4:0)+(d[c-s+1]?8:0),o[b]&&(n[g+m]=o[b],++y),c++;if(d[c-s]!==d[c]&&(n[g+m]=d[c]?2:4,++y),1000<y)return null}for(c=s*(r-1),g=u*a,0!==d[c]&&(n[g]=8,++y),m=1;m<t;m++)d[c]!==d[c+1]&&(n[g+m]=d[c]?4:8,++y),c++;if(0!==d[c]&&(n[g+m]=4,++y),1000<y)return null;var A=new Int32Array([0,a,-1,0,-a,0,0,0,1]),S=[];for(u=0;y&&u<=r;u++){for(var v=u*a,x=v+t;v<x&&!n[v];)v++;if(v!==x){var k=[v%a,u],C=n[v],R=v,P;do{var T=A[C];do v+=T;while(!n[v]);P=n[v],5!==P&&10!==P?(C=P,n[v]=0):(C=P&51*C>>4,n[v]&=C>>2|C<<2),k.push(v%a),k.push(0|v/a),--y}while(R!==v);S.push(k),--u}}var E=function(e){e.save(),e.scale(1/t,-1/r),e.translate(0,-r),e.beginPath();for(var a=0,n=S.length,s;a<n;a++){s=S[a],e.moveTo(s[0],s[1]);for(var l=2,d=s.length;l<d;l+=2)e.lineTo(s[l],s[l+1])}e.fill(),e.beginPath(),e.restore()};return E}Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var o=r(1),s=r(155),i=16,l=100,d=4096,c=.65,u=1e3,p=16,m={get value(){return(0,o.shadow)(m,"value",(0,o.isLittleEndian)())}},g=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,r,n){var o;return void 0===this.cache[e]?(o=this.canvasFactory.create(t,r),this.cache[e]=o):(o=this.cache[e],this.canvasFactory.reset(o,t,r),o.context.setTransform(1,0,0,1,0,0)),n&&a(o.context),o},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}(),_=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),h=function(){function e(e,t,r,n,o,s){this.ctx=e,this.current=new _,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=n,this.webGLContext=o,this.imageLayer=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new g(this.canvasFactory),e&&a(e),this._cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);var r=t.height,a=t.width,n=r%p,s=(r-n)/p,l=0===n?s:s+1,d=e.createImageData(a,p),c=0,u=t.data,g=d.data,_,h,f,y,b;if(t.kind===o.ImageKind.GRAYSCALE_1BPP){var A=u.byteLength,S=new Uint32Array(g.buffer,0,g.byteLength>>2),v=S.length,x=4294967295,C=m.value?4278190080:255;for(h=0;h<l;h++){for(y=h<s?p:n,_=0,f=0;f<y;f++){for(var R=A-c,P=0,T=R>a+7>>3?a:8*R-7,E=0,w=0;P<(-8&T);P+=8)w=u[c++],S[_++]=128&w?x:C,S[_++]=64&w?x:C,S[_++]=32&w?x:C,S[_++]=16&w?x:C,S[_++]=8&w?x:C,S[_++]=4&w?x:C,S[_++]=2&w?x:C,S[_++]=1&w?x:C;for(;P<T;P++)0===E&&(w=u[c++],E=128),S[_++]=w&E?x:C,E>>=1}for(;_<v;)S[_++]=0;e.putImageData(d,0,h*p)}}else if(t.kind===o.ImageKind.RGBA_32BPP){for(f=0,b=4*(a*p),h=0;h<s;h++)g.set(u.subarray(c,c+b)),c+=b,e.putImageData(d,0,f),f+=p;h<l&&(b=4*(a*n),g.set(u.subarray(c,c+b)),e.putImageData(d,0,f))}else if(t.kind===o.ImageKind.RGB_24BPP)for(y=p,b=a*y,h=0;h<l;h++){for(h>=s&&(y=n,b=a*y),_=0,f=b;f--;)g[_++]=u[c++],g[_++]=u[c++],g[_++]=u[c++],g[_++]=255;e.putImageData(d,0,h*p)}else throw new Error("bad image kind: ".concat(t.kind))}function r(e,t){for(var r=t.height,a=t.width,n=r%p,o=(r-n)/p,s=0===n?o:o+1,l=e.createImageData(a,p),d=0,c=t.data,u=l.data,m=0;m<s;m++){for(var g=m<o?p:n,_=3,h=0,f;h<g;h++){f=0;for(var y=0;y<a;y++){if(!f){var b=c[d++];f=128}u[_]=b&f?0:255,_+=4,f>>=1}}e.putImageData(l,0,m*p)}}function h(e,t){for(var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],a=0,n=r.length,o;a<n;a++)o=r[a],void 0!==e[o]&&(t[o]=e[o]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function f(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function y(e,t,r,a){for(var n=e.length,o=3,s;o<n;o+=4)if(s=e[o],0===s)e[o-3]=t,e[o-2]=r,e[o-1]=a;else if(255>s){var l=255-s;e[o-3]=e[o-3]*s+t*l>>8,e[o-2]=e[o-2]*s+r*l>>8,e[o-1]=e[o-1]*s+a*l>>8}}function b(e,t,r){for(var a=e.length,n=3,o;n<a;n+=4)o=r?r[e[n]]:e[n],t[n]=0|t[n]*o*(1/255)}function A(e,t,r){for(var a=e.length,n=3,o;n<a;n+=4)o=77*e[n-3]+152*e[n-2]+28*e[n-1],t[n]=r?t[n]*r[o>>8]>>8:t[n]*o>>16}function S(e,t,r,a,n,o,s){var i=!!o,l=i?o[0]:0,d=i?o[1]:0,c=i?o[2]:0,u;u="Luminosity"===n?A:b;for(var p=Math.min(a,Math.ceil(1048576/r)),m=0;m<a;m+=p){var g=Math.min(p,a-m),_=e.getImageData(0,m,r,g),h=t.getImageData(0,m,r,g);i&&y(_.data,l,d,c),u(_.data,h.data,s),e.putImageData(h,0,m)}}function v(e,t,r,a){var n=t.canvas,o=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var s=t.backdrop||null;if(!t.transferMap&&a.isEnabled){var i=a.composeSMask({layer:r.canvas,mask:n,properties:{subtype:t.subtype,backdrop:s}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(i,t.offsetX,t.offsetY)}S(o,r,n.width,n.height,t.subtype,s,t.transferMap),e.drawImage(n,0,0)}var x=10,k=["butt","round","square"],C=["miter","round","bevel"],R={},P={};for(var T in e.prototype={beginDrawing:function(e){var t=e.transform,r=e.viewport,a=e.transparency,n=e.background,o=void 0===n?null:n,s=this.ctx.canvas.width,i=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,i),this.ctx.restore(),void 0!==a&&a){var l=this.cachedCanvases.getCanvas("transparent",s,i,!0);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),f(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,r.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,r,a){var s=e.argsArray,l=e.fnArray,d=t||0,c=s.length;if(c===d)return d;for(var u=c-d>x&&"function"==typeof r,p=u?Date.now()+15:0,m=0,g=this.commonObjs,_=this.objs,h;;){if(void 0!==a&&d===a.nextBreakPoint)return a.breakIt(d,r),d;if(h=l[d],h!==o.OPS.dependency)this[h].apply(this,s[d]);else for(var f=s[d],y=0,b=f.length;y<b;y++){var A=f[y],S="g"===A[0]&&"_"===A[1],v=S?g:_;if(!v.has(A))return v.get(A,r),d}if(d++,d===c)return d;if(u&&++m>x){if(Date.now()>p)return r(),d;m=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=k[e]},setLineJoin:function(e){this.ctx.lineJoin=C[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(e){for(var t=0,r=e.length;t<r;t++){var a=e[t],n=a[0],o=a[1];"LW"===n?this.setLineWidth(o):"LC"===n?this.setLineCap(o):"LJ"===n?this.setLineJoin(o):"ML"===n?this.setMiterLimit(o):"D"===n?this.setDash(o[0],o[1]):"RI"===n?this.setRenderingIntent(o):"FL"===n?this.setFlatness(o):"Font"===n?this.setFont(o[0],o[1]):"CA"===n?this.current.strokeAlpha=a[1]:"ca"===n?(this.current.fillAlpha=a[1],this.ctx.globalAlpha=a[1]):"BM"===n?this.ctx.globalCompositeOperation=o:"SMask"===n?(this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null):void 0}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,r=e.canvas.height,a="smaskGroupAt"+this.groupLevel,n=this.cachedCanvases.getCanvas(a,t,r,!0),o=this.ctx,s=o.mozCurrentTransform;this.ctx.save();var i=n.context;i.scale(1/e.scaleX,1/e.scaleY),i.translate(-e.offsetX,-e.offsetY),i.transform.apply(i,s),e.startTransformInverse=i.mozCurrentTransformInverse,h(o,i),this.ctx=i,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),v(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),h(e,this.ctx),this.current.resumeSMaskCtx=e;var t=o.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),v(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),h(e,this.ctx);var t=o.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(t,r,a,n,o,e){this.ctx.transform(t,r,a,n,o,e),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var r=this.ctx,a=this.current,n=a.x,s=a.y,l=0,d=0,c=e.length;l<c;l++)switch(0|e[l]){case o.OPS.rectangle:n=t[d++],s=t[d++];var u=t[d++],p=t[d++];0===u&&(u=this.getSinglePixelWidth()),0===p&&(p=this.getSinglePixelWidth());var m=n+u,g=s+p;this.ctx.moveTo(n,s),this.ctx.lineTo(m,s),this.ctx.lineTo(m,g),this.ctx.lineTo(n,g),this.ctx.lineTo(n,s),this.ctx.closePath();break;case o.OPS.moveTo:n=t[d++],s=t[d++],r.moveTo(n,s);break;case o.OPS.lineTo:n=t[d++],s=t[d++],r.lineTo(n,s);break;case o.OPS.curveTo:n=t[d+4],s=t[d+5],r.bezierCurveTo(t[d],t[d+1],t[d+2],t[d+3],n,s),d+=6;break;case o.OPS.curveTo2:r.bezierCurveTo(n,s,t[d],t[d+1],t[d+2],t[d+3]),n=t[d+2],s=t[d+3],d+=4;break;case o.OPS.curveTo3:n=t[d+2],s=t[d+3],r.bezierCurveTo(t[d],t[d+1],n,s,n,s),d+=4;break;case o.OPS.closePath:r.closePath();}a.setCurrentPoint(n,s)},closePath:function(){this.ctx.closePath()},stroke:function(e){e="undefined"==typeof e||e;var t=this.ctx,r=this.current.strokeColor;t.lineWidth=Math.max(this.getSinglePixelWidth()*c,this.current.lineWidth),t.globalAlpha=this.current.strokeAlpha,r&&r.hasOwnProperty("type")&&"Pattern"===r.type?(t.save(),t.strokeStyle=r.getPattern(t,this),t.stroke(),t.restore()):t.stroke(),e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e="undefined"==typeof e||e;var t=this.ctx,r=this.current.fillColor,a=this.current.patternFill,n=!1;a&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=r.getPattern(t,this),n=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),n&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=R},eoClip:function(){this.pendingClip=P},beginText:function(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0===e)return void t.beginPath();t.save(),t.beginPath();for(var r=0,a;r<e.length;r++)a=e[r],t.setTransform.apply(t,a.transform),t.translate(a.x,a.y),a.addToPath(t,a.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var r=this.commonObjs.get(e),a=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(a.fontMatrix=r.fontMatrix?r.fontMatrix:o.FONT_IDENTITY_MATRIX,(0===a.fontMatrix[0]||0===a.fontMatrix[3])&&(0,o.warn)("Invalid font matrix for font "+e),0>t?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=t,!r.isType3Font){var n=r.loadedName||"sans-serif",s=r.black?"900":r.bold?"bold":"normal",d=r.italic?"italic":"normal",c="\"".concat(n,"\", ").concat(r.fallbackName),u=t<i?i:t>l?l:t;this.current.fontSizeScale=t/u,this.ctx.font="".concat(d," ").concat(s," ").concat(u,"px ").concat(c)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(t,r,a,n,o,e){this.current.textMatrix=[t,r,a,n,o,e],this.current.textMatrixScale=Math.sqrt(t*t+r*r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,r,a){var n=this.ctx,s=this.current,i=s.font,l=s.textRenderingMode,d=s.fontSize/s.fontSizeScale,c=l&o.TextRenderingMode.FILL_STROKE_MASK,u=!!(l&o.TextRenderingMode.ADD_TO_PATH_FLAG),p=s.patternFill&&i.data,m;if((i.disableFontFace||u||p)&&(m=i.getPathGenerator(this.commonObjs,e)),i.disableFontFace||p?(n.save(),n.translate(t,r),n.beginPath(),m(n,d),a&&n.setTransform.apply(n,a),(c===o.TextRenderingMode.FILL||c===o.TextRenderingMode.FILL_STROKE)&&n.fill(),(c===o.TextRenderingMode.STROKE||c===o.TextRenderingMode.FILL_STROKE)&&n.stroke(),n.restore()):((c===o.TextRenderingMode.FILL||c===o.TextRenderingMode.FILL_STROKE)&&n.fillText(e,t,r),(c===o.TextRenderingMode.STROKE||c===o.TextRenderingMode.FILL_STROKE)&&n.strokeText(e,t,r)),u){var g=this.pendingTextPaths||(this.pendingTextPaths=[]);g.push({transform:n.mozCurrentTransform,x:t,y:r,fontSize:d,addToPath:m})}},get isFontSubpixelAAEnabled(){var e=this.canvasFactory.create(10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,r=!1,a=3;a<t.length;a+=4)if(0<t[a]&&255>t[a]){r=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",r)},showText:function(e){var t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);var a=t.fontSize;if(0!==a){var n=this.ctx,s=t.fontSizeScale,l=t.charSpacing,d=t.wordSpacing,u=t.fontDirection,p=t.textHScale*u,m=e.length,g=r.vertical,_=g?1:-1,h=r.defaultVMetrics,f=a*t.fontMatrix[0],y=t.textRenderingMode===o.TextRenderingMode.FILL&&!r.disableFontFace&&!t.patternFill;n.save();var b;if(t.patternFill){n.save();var A=t.fillColor.getPattern(n,this);b=n.mozCurrentTransform,n.restore(),n.fillStyle=A}n.transform.apply(n,t.textMatrix),n.translate(t.x,t.y+t.textRise),0<u?n.scale(p,-1):n.scale(p,1);var S=t.lineWidth,v=t.textMatrixScale;if(0===v||0===S){var k=t.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(k===o.TextRenderingMode.STROKE||k===o.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,S=this.getSinglePixelWidth()*c)}else S/=v;1!==s&&(n.scale(s,s),S/=s),n.lineWidth=S;var C=0,R;for(R=0;R<m;++R){var P=e[R];if((0,o.isNum)(P)){C+=_*P*a/1e3;continue}var T=!1,E=(P.isSpace?d:0)+l,w=P.fontChar,I=P.accent,L=P.width,F,O,D,N;if(g){var M,q,j;M=P.vmetric||h,q=P.vmetric?M[1]:.5*L,q=-q*f,j=M[2]*f,L=M?-M[0]:L,F=q/s,O=(C+j)/s}else F=C/s,O=0;if(r.remeasure&&0<L){var W=1e3*n.measureText(w).width/a*s;if(L<W&&this.isFontSubpixelAAEnabled){var U=L/W;T=!0,n.save(),n.scale(U,1),F/=U}else L!==W&&(F+=(L-W)/2e3*a/s)}(P.isInFont||r.missingFile)&&(y&&!I?n.fillText(w,F,O):(this.paintChar(w,F,O,b),I&&(D=F+I.offset.x/s,N=O-I.offset.y/s,this.paintChar(I.fontChar,D,N,b))));var B=L*f+E*u;C+=B,T&&n.restore()}g?t.y-=C*p:t.x+=C*p,n.restore()}},showType3Text:function(e){var t=this.ctx,r=this.current,a=r.font,n=r.fontSize,s=r.fontDirection,l=a.vertical?1:-1,d=r.charSpacing,c=r.wordSpacing,u=r.textHScale*s,p=r.fontMatrix||o.FONT_IDENTITY_MATRIX,m=e.length,g=r.textRenderingMode===o.TextRenderingMode.INVISIBLE,_,h,f,y;if(!(g||0===n)){for(this._cachedGetSinglePixelWidth=null,t.save(),t.transform.apply(t,r.textMatrix),t.translate(r.x,r.y),t.scale(u,s),_=0;_<m;++_){if(h=e[_],(0,o.isNum)(h)){y=l*h*n/1e3,this.ctx.translate(y,0),r.x+=y*u;continue}var b=(h.isSpace?c:0)+d,A=a.charProcOperatorList[h.operatorListId];if(!A){(0,o.warn)("Type3 character \"".concat(h.operatorListId,"\" is not available."));continue}this.processingType3=h,this.save(),t.scale(n,n),t.transform.apply(t,p),this.executeOperatorList(A),this.restore();var S=o.Util.applyTransform([h.width,0],p);f=S[0]*n+b,t.translate(f,0),r.x+=f*u}t.restore(),this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(e,t,r,a,n,o){this.ctx.rect(r,a,n-r,o-a),this.clip(),this.endPath()},getColorN_Pattern:function(t){var r=this,a;if("TilingPattern"===t[0]){var n=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice(),i={createCanvasGraphics:function(t){return new e(t,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};a=new s.TilingPattern(t,n,this.ctx,i,o)}else a=(0,s.getShadingPatternFromIR)(t);return a},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,r){var a=o.Util.makeCssRgb(e,t,r);this.ctx.strokeStyle=a,this.current.strokeColor=a},setFillRGBColor:function(e,t,r){var a=o.Util.makeCssRgb(e,t,r);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var r=(0,s.getShadingPatternFromIR)(e);t.fillStyle=r.getPattern(t,this,!0);var a=t.mozCurrentTransformInverse;if(a){var n=t.canvas,i=n.width,l=n.height,d=o.Util.applyTransform([0,0],a),c=o.Util.applyTransform([0,l],a),u=o.Util.applyTransform([i,0],a),p=o.Util.applyTransform([i,l],a),m=Math.min(d[0],c[0],u[0],p[0]),g=Math.min(d[1],c[1],u[1],p[1]),_=Math.max(d[0],c[0],u[0],p[0]),h=Math.max(d[1],c[1],u[1],p[1]);this.ctx.fillRect(m,g,_-m,h-g)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,o.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,o.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t){var r=t[2]-t[0],a=t[3]-t[1];this.ctx.rect(t[0],t[1],r,a),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,o.info)("TODO: Support non-isolated groups."),e.knockout&&(0,o.warn)("Knockout groups not supported.");var r=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var a=o.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),n=[0,0,t.canvas.width,t.canvas.height];a=o.Util.intersect(a,n)||[0,0,0,0];var s=Math.floor(a[0]),i=Math.floor(a[1]),l=Math.max(Math.ceil(a[2])-s,1),c=Math.max(Math.ceil(a[3])-i,1),u=1,p=1;l>d&&(u=l/d,l=d),c>d&&(p=c/d,c=d);var m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);var g=this.cachedCanvases.getCanvas(m,l,c,!0),_=g.context;_.scale(1/u,1/p),_.translate(-s,-i),_.transform.apply(_,r),e.smask?this.smaskStack.push({canvas:g.canvas,context:_,offsetX:s,offsetY:i,scaleX:u,scaleY:p,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,i),t.scale(u,p)),h(t,_),this.ctx=_,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0===this.ctx.imageSmoothingEnabled?this.ctx.mozImageSmoothingEnabled=!1:this.ctx.imageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,r){if(this.save(),f(this.ctx),this.current=new _,Array.isArray(e)&&4===e.length){var a=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],a,n),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,r)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,t,r){var a=this.objs.get(e);if(!a)return void(0,o.warn)("Dependent image isn't ready yet");this.save();var n=this.ctx;if(n.scale(1/t,-1/r),n.drawImage(a,0,0,a.width,a.height,0,-r,t,r),this.imageLayer){var s=n.mozCurrentTransformInverse,i=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:e,left:i[0],top:i[1],width:t/s[0],height:r/s[3]})}this.restore()},paintImageMaskXObject:function(e){var t=this.ctx,a=e.width,o=e.height,s=this.current.fillColor,i=this.current.patternFill,l=this.processingType3;if(!0&&l&&void 0===l.compiled&&(a<=u&&o<=u?l.compiled=n({data:e.data,width:a,height:o}):l.compiled=null),l&&l.compiled)return void l.compiled(t);var d=this.cachedCanvases.getCanvas("maskCanvas",a,o),c=d.context;c.save(),r(c,e),c.globalCompositeOperation="source-in",c.fillStyle=i?s.getPattern(c,this):s,c.fillRect(0,0,a,o),c.restore(),this.paintInlineImageXObject(d.canvas)},paintImageMaskXObjectRepeat:function(e,t,a,n){var o=e.width,s=e.height,l=this.current.fillColor,d=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",o,s),u=c.context;u.save(),r(u,e),u.globalCompositeOperation="source-in",u.fillStyle=d?l.getPattern(u,this):l,u.fillRect(0,0,o,s),u.restore();for(var p=this.ctx,m=0,g=n.length;m<g;m+=2)p.save(),p.transform(t,0,0,a,n[m],n[m+1]),p.scale(1,-1),p.drawImage(c.canvas,0,0,o,s,0,-1,1,1),p.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,a=this.current.fillColor,n=this.current.patternFill,o=0,s=e.length;o<s;o++){var l=e[o],d=l.width,c=l.height,u=this.cachedCanvases.getCanvas("maskCanvas",d,c),p=u.context;p.save(),r(p,l),p.globalCompositeOperation="source-in",p.fillStyle=n?a.getPattern(p,this):a,p.fillRect(0,0,d,c),p.restore(),t.save(),t.transform.apply(t,l.transform),t.scale(1,-1),t.drawImage(u.canvas,0,0,d,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=this.objs.get(e);return t?void this.paintInlineImageXObject(t):void(0,o.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,r,a){var n=this.objs.get(e);if(!n)return void(0,o.warn)("Dependent image isn't ready yet");for(var s=n.width,l=n.height,d=[],c=0,u=a.length;c<u;c+=2)d.push({transform:[t,0,0,r,a[c],a[c+1]],x:0,y:0,w:s,h:l});this.paintInlineImageXObjectGroup(n,d)},paintInlineImageXObject:function(e){var r=e.width,n=e.height,o=this.ctx;this.save(),o.scale(1/r,-1/n);var s=o.mozCurrentTransformInverse,i=s[0],a=s[1],l=Math.max(Math.sqrt(i*i+a*a),1),u=s[2],c=s[3],d=Math.max(Math.sqrt(u*u+c*c),1),p,m;if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)p=e;else{m=this.cachedCanvases.getCanvas("inlineImage",r,n);var g=m.context;t(g,e),p=m.canvas}for(var _=r,h=n,f="prescale1";2<l&&1<_||2<d&&1<h;){var y=_,b=h;2<l&&1<_&&(y=Math.ceil(_/2),l/=_/y),2<d&&1<h&&(b=Math.ceil(h/2),d/=h/b),m=this.cachedCanvases.getCanvas(f,y,b),g=m.context,g.clearRect(0,0,y,b),g.drawImage(p,0,0,_,h,0,0,y,b),p=m.canvas,_=y,h=b,f="prescale1"===f?"prescale2":"prescale1"}if(o.drawImage(p,0,0,_,h,0,-n,r,n),this.imageLayer){var A=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:e,left:A[0],top:A[1],width:r/s[0],height:n/s[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,r){var a=this.ctx,n=e.width,o=e.height,s=this.cachedCanvases.getCanvas("inlineImage",n,o),l=s.context;t(l,e);for(var d=0,c=r.length,u;d<c;d++){if(u=r[d],a.save(),a.transform.apply(a,u.transform),a.scale(1,-1),a.drawImage(s.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){var p=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:e,left:p[0],top:p[1],width:n,height:o})}a.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,o.warn)("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===P?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var r=this.ctx.mozCurrentTransform;return[r[0]*e+r[2]*t+r[4],r[1]*e+r[3]*t+r[5]]}},o.OPS)e.prototype[o.OPS[T]]=e.prototype[T];return e}();t.CanvasGraphics=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=n[e[0]];if(!t)throw new Error("Unknown IR type: ".concat(e[0]));return t.fromIR(e)},t.TilingPattern=void 0;var a=r(1),n={};n.RadialAxial={fromIR:function(e){var t=e[1],r=e[2],a=e[3],n=e[4],o=e[5],s=e[6];return{type:"Pattern",getPattern:function(e){var l;"axial"===t?l=e.createLinearGradient(a[0],a[1],n[0],n[1]):"radial"===t&&(l=e.createRadialGradient(a[0],a[1],o,n[0],n[1],s));for(var d=0,u=r.length,p;d<u;++d)p=r[d],l.addColorStop(p[0],p[1]);return l}}}};var o=function(){function e(e,t,r,a,n,o,s,i){var l=t.coords,d=t.colors,c=e.data,u=4*e.width,p;l[r+1]>l[a+1]&&(p=r,r=a,a=p,p=o,o=s,s=p),l[a+1]>l[n+1]&&(p=a,a=n,n=p,p=s,s=i,i=p),l[r+1]>l[a+1]&&(p=r,r=a,a=p,p=o,o=s,s=p);var m=(l[r]+t.offsetX)*t.scaleX,g=(l[r+1]+t.offsetY)*t.scaleY,_=(l[a]+t.offsetX)*t.scaleX,h=(l[a+1]+t.offsetY)*t.scaleY,f=(l[n]+t.offsetX)*t.scaleX,b=(l[n+1]+t.offsetY)*t.scaleY;if(!(g>=b))for(var A=d[o],S=d[o+1],v=d[o+2],C=d[s],R=d[s+1],P=d[s+2],T=d[i],E=d[i+1],w=d[i+2],I=Math.round(g),L=Math.round(b),F=I,O,D,N,M,q,W,U,B,z;F<=L;F++){F<h?(z=F<g?0:g===h?1:(g-F)/(g-h),O=m-(m-_)*z,D=A-(A-C)*z,N=S-(S-R)*z,M=v-(v-P)*z):(z=F>b?1:h===b?0:(h-F)/(h-b),O=_-(_-f)*z,D=C-(C-T)*z,N=R-(R-E)*z,M=P-(P-w)*z),z=F<g?0:F>b?1:(g-F)/(g-b),q=m-(m-f)*z,W=A-(A-T)*z,U=S-(S-E)*z,B=v-(v-w)*z;for(var G=Math.round(Math.min(O,q)),H=Math.round(Math.max(O,q)),X=u*F+4*G,Y=G;Y<=H;Y++)z=(O-Y)/(O-q),z=0>z?0:1<z?1:z,c[X++]=0|D-(D-W)*z,c[X++]=0|N-(N-U)*z,c[X++]=0|M-(M-B)*z,c[X++]=255}}function t(t,r,a){var n=r.coords,o=r.colors,s,l;switch(r.type){case"lattice":var d=r.verticesPerRow,c=Math.floor(n.length/d)-1;for(s=0;s<c;s++)for(var u=s*d,p=0;p<d-1;p++,u++)e(t,a,n[u],n[u+1],n[u+d],o[u],o[u+1],o[u+d]),e(t,a,n[u+d+1],n[u+1],n[u+d],o[u+d+1],o[u+1],o[u+d]);break;case"triangles":for(s=0,l=n.length;s<l;s+=3)e(t,a,n[s],n[s+1],n[s+2],o[s],o[s+1],o[s+2]);break;default:throw new Error("illegal figure");}}return function(e,r,a,n,o,s,l,d){var c=1.1,u=3e3,p=2,m=Math.floor(e[0]),g=Math.floor(e[1]),_=Math.ceil(e[2])-m,h=Math.ceil(e[3])-g,f=Math.min(Math.ceil(Math.abs(_*r[0]*c)),u),y=Math.min(Math.ceil(Math.abs(h*r[1]*c)),u),b=_/f,A=h/y,S={coords:a,colors:n,offsetX:-m,offsetY:-g,scaleX:1/b,scaleY:1/A},v=f+2*p,x=y+2*p,k,C,R,P;if(d.isEnabled)k=d.drawFigures({width:f,height:y,backgroundColor:s,figures:o,context:S}),C=l.getCanvas("mesh",v,x,!1),C.context.drawImage(k,p,p),k=C.canvas;else{C=l.getCanvas("mesh",v,x,!1);var T=C.context,E=T.createImageData(f,y);if(s){var w=E.data;for(R=0,P=w.length;R<P;R+=4)w[R]=s[0],w[R+1]=s[1],w[R+2]=s[2],w[R+3]=255}for(R=0;R<o.length;R++)t(E,o[R],S);T.putImageData(E,p,p),k=C.canvas}return{canvas:k,offsetX:m-p*b,offsetY:g-p*A,scaleX:b,scaleY:A}}}();n.Mesh={fromIR:function(e){var t=e[2],r=e[3],n=e[4],s=e[5],i=e[6],l=e[8];return{type:"Pattern",getPattern:function(e,d,c){var u;if(c)u=a.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(u=a.Util.singularValueDecompose2dScale(d.baseTransform),i){var p=a.Util.singularValueDecompose2dScale(i);u=[u[0]*p[0],u[1]*p[1]]}var m=o(s,u,t,r,n,c?null:l,d.cachedCanvases,d.webGLContext);return c||(e.setTransform.apply(e,d.baseTransform),i&&e.transform.apply(e,i)),e.translate(m.offsetX,m.offsetY),e.scale(m.scaleX,m.scaleY),e.createPattern(m.canvas,"no-repeat")}}}},n.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var s=function(){function e(e,t,r,a,n){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=a,this.baseTransform=n,this.type="Pattern",this.ctx=r}var t={COLORED:1,UNCOLORED:2},r=3e3;return e.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,o=this.xstep,s=this.ystep,i=this.paintType,l=this.tilingType,d=this.color,c=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+l);var u=n[0],p=n[1],m=n[2],g=n[3],_=[u,p],h=[u+o,p+s],f=h[0]-_[0],y=h[1]-_[1],b=a.Util.singularValueDecompose2dScale(this.matrix),A=a.Util.singularValueDecompose2dScale(this.baseTransform),S=[b[0]*A[0],b[1]*A[1]];f=Math.min(Math.ceil(Math.abs(f*S[0])),r),y=Math.min(Math.ceil(Math.abs(y*S[1])),r);var v=e.cachedCanvases.getCanvas("pattern",f,y,!0),x=v.context,k=c.createCanvasGraphics(x);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,i,d),this.setScale(f,y,o,s),this.transformToScale(k);var C=[1,0,0,1,-_[0],-_[1]];return k.transform.apply(k,C),this.clipBbox(k,n,u,p,m,g),k.executeOperatorList(t),v.canvas},setScale:function(e,t,r,a){this.scale=[e/r,t/a]},transformToScale:function(e){var t=this.scale,r=[t[0],0,0,t[1],0,0];e.transform.apply(e,r)},scaleToContext:function(){var e=this.scale;this.ctx.scale(1/e[0],1/e[1])},clipBbox:function(e,t,r,a,n,o){if(Array.isArray(t)&&4===t.length){e.ctx.rect(r,a,n-r,o-a),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(e,r,n){var o=e.ctx,s=e.current;switch(r){case t.COLORED:var i=this.ctx;o.fillStyle=i.fillStyle,o.strokeStyle=i.strokeStyle,s.fillColor=i.fillStyle,s.strokeColor=i.strokeStyle;break;case t.UNCOLORED:var l=a.Util.makeCssRgb(n[0],n[1],n[2]);o.fillStyle=l,o.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new a.FormatError("Unsupported paint type: ".concat(r));}},getPattern:function(e,t){var r=this.createPatternCanvas(t);return e=this.ctx,e.setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(r,"repeat")}},e}();t.TilingPattern=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=r.workerPort===void 0?null:r.workerPort,r.workerSrc=r.workerSrc===void 0?"":r.workerSrc},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e,t,r,a,n,o,s){try{var i=e[o](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(a,n)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){function s(e){n(l,a,o,s,i,"next",e)}function i(e){n(l,a,o,s,i,"throw",e)}var l=e.apply(t,r);s(void 0)})}}function s(){return i.apply(this,arguments)}function i(){return i=o(m.default.mark(function e(t,r){var a=arguments,n;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2<a.length&&void 0!==a[2]?a[2]:null,t){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",t.apply(n,r));case 4:case"end":return e.stop();}},e,this)})),i.apply(this,arguments)}function l(e){if("object"!==a(e))return e;switch(e.name){case"AbortException":return new g.AbortException(e.message);case"MissingPDFException":return new g.MissingPDFException(e.message);case"UnexpectedResponseException":return new g.UnexpectedResponseException(e.message,e.status);default:return new g.UnknownErrorException(e.message,e.details);}}function d(e){return!(e instanceof Error)||e instanceof g.AbortException||e instanceof g.MissingPDFException||e instanceof g.UnexpectedResponseException||e instanceof g.UnknownErrorException?e:new g.UnknownErrorException(e.message,e.toString())}function c(e,t,r){t?e.resolve():e.reject(r)}function u(e){return Promise.resolve(e).catch(function(){})}function p(e,t,r){var a=this;this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var n=this.callbacksCapabilities=Object.create(null),o=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===a.sourceName)if(t.stream)a._processStreamMessage(t);else if(t.isReply){var s=t.callbackId;if(t.callbackId in n){var i=n[s];delete n[s],"error"in t?i.reject(l(t.error)):i.resolve(t.data)}else throw new Error("Cannot resolve callback ".concat(s))}else if(t.action in o){var c=o[t.action];if(t.callbackId){var u=a.sourceName,p=t.sourceName;Promise.resolve().then(function(){return c[0].call(c[1],t.data)}).then(function(e){r.postMessage({sourceName:u,targetName:p,isReply:!0,callbackId:t.callbackId,data:e})},function(e){r.postMessage({sourceName:u,targetName:p,isReply:!0,callbackId:t.callbackId,error:d(e)})})}else t.streamId?a._createStreamSink(t):c[0].call(c[1],t.data)}else throw new Error("Unknown action from worker: ".concat(t.action))},r.addEventListener("message",this._onComObjOnMessage)}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=p;var m=function(e){return e&&e.__esModule?e:{default:e}}(r(147)),g=r(1);p.prototype={on:function(e,t,r){var a=this.actionHandler;if(a[e])throw new Error("There is already an actionName called \"".concat(e,"\""));a[e]=[t,r]},send:function(e,t,r){var a={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t};this.postMessage(a,r)},sendWithPromise:function(e,t,r){var a=this.callbackId++,n={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t,callbackId:a},o=(0,g.createPromiseCapability)();this.callbacksCapabilities[a]=o;try{this.postMessage(n,r)}catch(t){o.reject(t)}return o.promise},sendWithStream:function(e,t,r){var a=this,n=this.streamId++,o=this.sourceName,s=this.targetName;return new g.ReadableStream({start:function(r){var i=(0,g.createPromiseCapability)();return a.streamControllers[n]={controller:r,startCall:i,isClosed:!1},a.postMessage({sourceName:o,targetName:s,action:e,streamId:n,data:t,desiredSize:r.desiredSize}),i.promise},pull:function(e){var t=(0,g.createPromiseCapability)();return a.streamControllers[n].pullCall=t,a.postMessage({sourceName:o,targetName:s,stream:"pull",streamId:n,desiredSize:e.desiredSize}),t.promise},cancel:function(e){var t=(0,g.createPromiseCapability)();return a.streamControllers[n].cancelCall=t,a.streamControllers[n].isClosed=!0,a.postMessage({sourceName:o,targetName:s,stream:"cancel",reason:e,streamId:n}),t.promise}},r)},_createStreamSink:function(e){var t=this,r=this,a=this.actionHandler[e.action],n=e.streamId,o=e.desiredSize,i=this.sourceName,l=e.sourceName,d=(0,g.createPromiseCapability)(),c=function(e){var r=e.stream,a=e.chunk,o=e.transfers,s=e.success,d=e.reason;t.postMessage({sourceName:i,targetName:l,stream:r,streamId:n,chunk:a,success:s,reason:d},o)},u={enqueue:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,r=2<arguments.length?arguments[2]:void 0;if(!this.isCancelled){var a=this.desiredSize;this.desiredSize-=t,0<a&&0>=this.desiredSize&&(this.sinkCapability=(0,g.createPromiseCapability)(),this.ready=this.sinkCapability.promise),c({stream:"enqueue",chunk:e,transfers:r})}},close:function(){this.isCancelled||(this.isCancelled=!0,c({stream:"close"}),delete r.streamSinks[n])},error:function(e){this.isCancelled||(this.isCancelled=!0,c({stream:"error",reason:e}))},sinkCapability:d,onPull:null,onCancel:null,isCancelled:!1,desiredSize:o,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[n]=u,s(a[0],[e.data,u],a[1]).then(function(){c({stream:"start_complete",success:!0})},function(e){c({stream:"start_complete",success:!1,reason:e})})},_processStreamMessage:function(e){var t=this,r=this.sourceName,a=e.sourceName,n=e.streamId,o=function(e){var o=e.stream,s=e.success,i=e.reason;t.comObj.postMessage({sourceName:r,targetName:a,stream:o,success:s,streamId:n,reason:i})},i=function(){Promise.all([t.streamControllers[e.streamId].startCall,t.streamControllers[e.streamId].pullCall,t.streamControllers[e.streamId].cancelCall].map(function(e){return e&&u(e.promise)})).then(function(){delete t.streamControllers[e.streamId]})};switch(e.stream){case"start_complete":c(this.streamControllers[e.streamId].startCall,e.success,l(e.reason));break;case"pull_complete":c(this.streamControllers[e.streamId].pullCall,e.success,l(e.reason));break;case"pull":if(!this.streamSinks[e.streamId]){o({stream:"pull_complete",success:!0});break}0>=this.streamSinks[e.streamId].desiredSize&&0<e.desiredSize&&this.streamSinks[e.streamId].sinkCapability.resolve(),this.streamSinks[e.streamId].desiredSize=e.desiredSize,s(this.streamSinks[e.streamId].onPull).then(function(){o({stream:"pull_complete",success:!0})},function(e){o({stream:"pull_complete",success:!1,reason:e})});break;case"enqueue":(0,g.assert)(this.streamControllers[e.streamId],"enqueue should have stream controller"),this.streamControllers[e.streamId].isClosed||this.streamControllers[e.streamId].controller.enqueue(e.chunk);break;case"close":if((0,g.assert)(this.streamControllers[e.streamId],"close should have stream controller"),this.streamControllers[e.streamId].isClosed)break;this.streamControllers[e.streamId].isClosed=!0,this.streamControllers[e.streamId].controller.close(),i();break;case"error":(0,g.assert)(this.streamControllers[e.streamId],"error should have stream controller"),this.streamControllers[e.streamId].controller.error(l(e.reason)),i();break;case"cancel_complete":c(this.streamControllers[e.streamId].cancelCall,e.success,l(e.reason)),i();break;case"cancel":if(!this.streamSinks[e.streamId])break;s(this.streamSinks[e.streamId].onCancel,[l(e.reason)]).then(function(){o({stream:"cancel_complete",success:!0})},function(e){o({stream:"cancel_complete",success:!1,reason:e})}),this.streamSinks[e.streamId].sinkCapability.reject(l(e.reason)),this.streamSinks[e.streamId].isCancelled=!0,delete this.streamSinks[e.streamId];break;default:throw new Error("Unexpected stream case");}},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var s=r(1),i=r(159),l=function(){function e(t){a(this,e),(0,s.assert)("string"==typeof t,"Metadata: input is not a string"),t=this._repair(t);var r=new i.SimpleXMLParser,n=r.parseFromString(t);this._metadata=Object.create(null),n&&this._parse(n)}return o(e,[{key:"_repair",value:function(e){return e.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,function(e,t){for(var r=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,r,a){return String.fromCharCode(64*t+8*r+1*a)}).replace(/&(amp|apos|gt|lt|quot);/g,function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return"\"";}throw new Error("_repair: ".concat(t," isn't defined."))}),a="",n=0,o=r.length,s;n<o;n+=2)s=256*r.charCodeAt(n)+r.charCodeAt(n+1),a+=32<=s&&127>s&&60!==s&&62!==s&&38!==s?String.fromCharCode(s):"&#x"+(65536+s).toString(16).substring(1)+";";return">"+a})}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;var r=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===r&&t.hasChildNodes())for(var a=t.childNodes,n=0,o=a.length,s;void 0>n;n++)if(s=a[n],"rdf:description"===s.nodeName.toLowerCase())for(var l=0,d=s.childNodes.length;l<d;l++)if("#text"!==s.childNodes[l].nodeName.toLowerCase()){var c=s.childNodes[l],u=c.nodeName.toLowerCase();this._metadata[u]=c.textContent.trim()}}},{key:"get",value:function(e){var t=this._metadata[e];return"undefined"==typeof t?null:t}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(e){return"undefined"!=typeof this._metadata[e]}}]),e}();t.Metadata=l},function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){return s(e)||o(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var s=e[Symbol.iterator](),i;!(a=(i=s.next()).done)&&(r.push(i.value),!(t&&r.length===t));a=!0);}catch(e){n=!0,o=e}finally{try{a||null==s["return"]||s["return"]()}finally{if(n)throw o}}return r}function s(e){if(Array.isArray(e))return e}function i(e,t){return t&&("object"===r(t)||"function"==typeof t)?t:l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var a=c(e,t);if(a){var n=Object.getOwnPropertyDescriptor(a,t);return n.get?n.get.call(r):n.value}},d(e,t,r||e)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=u(e),null!==e););return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function h(e,t,r){return t&&_(e.prototype,t),r&&_(e,r),e}function f(e,t){var r=e[t];return" "===r||"\n"===r||"\r"===r||"\t"===r}function y(e){for(var t=0,r=e.length;t<r;t++)if(!f(e,t))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;var b={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10},A=function(){function e(){g(this,e)}return h(e,[{key:"_resolveEntities",value:function(e){var t=this;return e.replace(/&([^;]+);/g,function(e,r){return"#x"===r.substring(0,2)?String.fromCharCode(parseInt(r.substring(2),16)):"#"===r.substring(0,1)?String.fromCharCode(parseInt(r.substring(1),10)):"lt"===r?"<":"gt"===r?">":"amp"===r?"&":"quot"===r?"\"":t.onResolveEntity(r)})}},{key:"_parseContent",value:function(e,t){function r(){for(;a<e.length&&f(e,a);)++a}for(var a=t,n=[],o;a<e.length&&!f(e,a)&&">"!==e[a]&&"/"!==e[a];)++a;for(o=e.substring(t,a),r();a<e.length&&">"!==e[a]&&"/"!==e[a]&&"?"!==e[a];){r();for(var s="",i="";a<e.length&&!f(e,a)&&"="!==e[a];)s+=e[a],++a;if(r(),"="!==e[a])return null;++a,r();var l=e[a];if("\""!==l&&"'"!==l)return null;var d=e.indexOf(l,++a);if(0>d)return null;i=e.substring(a,d),n.push({name:s,value:this._resolveEntities(i)}),a=d+1,r()}return{name:o,attributes:n,parsed:a-t}}},{key:"_parseProcessingInstruction",value:function(e,t){function r(){for(;a<e.length&&f(e,a);)++a}for(var a=t,n,o;a<e.length&&!f(e,a)&&">"!==e[a]&&"/"!==e[a];)++a;n=e.substring(t,a),r();for(var s=a;a<e.length&&("?"!==e[a]||">"!==e[a+1]);)++a;return o=e.substring(s,a),{name:n,value:o,parsed:a-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var r=e[t],a=t;if("<"===r){++a;var n=e[a],o=void 0;switch(n){case"/":if(++a,o=e.indexOf(">",a),0>o)return void this.onError(b.UnterminatedElement);this.onEndElement(e.substring(a,o)),a=o+1;break;case"?":++a;var s=this._parseProcessingInstruction(e,a);if("?>"!==e.substring(a+s.parsed,a+s.parsed+2))return void this.onError(b.UnterminatedXmlDeclaration);this.onPi(s.name,s.value),a+=s.parsed+2;break;case"!":if("--"===e.substring(a+1,a+3)){if(o=e.indexOf("-->",a+3),0>o)return void this.onError(b.UnterminatedComment);this.onComment(e.substring(a+3,o)),a=o+3}else if("[CDATA["===e.substring(a+1,a+8)){if(o=e.indexOf("]]>",a+8),0>o)return void this.onError(b.UnterminatedCdat);this.onCdata(e.substring(a+8,o)),a=o+3}else if("DOCTYPE"===e.substring(a+1,a+8)){var l=e.indexOf("[",a+8),d=!1;if(o=e.indexOf(">",a+8),0>o)return void this.onError(b.UnterminatedDoctypeDeclaration);if(0<l&&o>l){if(o=e.indexOf("]>",a+8),0>o)return void this.onError(b.UnterminatedDoctypeDeclaration);d=!0}var c=e.substring(a+8,o+(d?1:0));this.onDoctype(c),a=o+(d?2:1)}else return void this.onError(b.MalformedElement);break;default:var u=this._parseContent(e,a);if(null===u)return void this.onError(b.MalformedElement);var p=!1;if("/>"===e.substring(a+u.parsed,a+u.parsed+2))p=!0;else if(">"!==e.substring(a+u.parsed,a+u.parsed+1))return void this.onError(b.UnterminatedElement);this.onBeginElement(u.name,u.attributes,p),a+=u.parsed+(p?2:1);}}else{for(;a<e.length&&"<"!==e[a];)a++;var m=e.substring(t,a);this.onText(this._resolveEntities(m))}t=a}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(){}},{key:"onComment",value:function(){}},{key:"onCdata",value:function(){}},{key:"onDoctype",value:function(){}},{key:"onText",value:function(){}},{key:"onBeginElement",value:function(){}},{key:"onEndElement",value:function(){}},{key:"onError",value:function(){}}]),e}(),S=function(){function e(t,r){g(this,e),this.nodeName=t,this.nodeValue=r,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return h(e,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);return-1===t?void 0:e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(e){return e.textContent}).join(""):this.nodeValue||""}}]),e}(),v=function(e){function t(){var e;return g(this,t),e=i(this,u(t).call(this)),e._currentFragment=null,e._stack=null,e._errorCode=b.NoError,e}return p(t,e),h(t,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=b.NoError,this.parseXml(e),this._errorCode===b.NoError){var t=a(this._currentFragment,1),r=t[0];return r?{documentElement:r}:void 0}}},{key:"onResolveEntity",value:function(e){return"apos"===e?"'":d(u(t.prototype),"onResolveEntity",this).call(this,e)}},{key:"onText",value:function(e){if(!y(e)){var t=new S("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new S("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,r){var a=new S(e);a.childNodes=[],this._currentFragment.push(a),r||(this._stack.push(this._currentFragment),this._currentFragment=a.childNodes)}},{key:"onEndElement",value:function(){this._currentFragment=this._stack.pop()||[];var e=this._currentFragment[this._currentFragment.length-1];if(e)for(var t=0,r=e.childNodes.length;t<r;t++)e.childNodes[t].parentNode=e}},{key:"onError",value:function(e){this._errorCode=e}}]),t}(A);t.SimpleXMLParser=v},function(e,t,r){"use strict";function a(e,t,r,a,n,o,s){try{var i=e[o](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){function s(e){a(l,n,o,s,i,"next",e)}function i(e){a(l,n,o,s,i,"throw",e)}var l=e.apply(t,r);s(void 0)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(r(147)),s=r(1),i=function(){function e(e,t){var r=this;(0,s.assert)(t),this._queuedChunks=[];var a=e.initialData;if(a&&0<a.length){var n=new Uint8Array(a).buffer;this._queuedChunks.push(n)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){r._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e){r._onProgress({loaded:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){r._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.transportReady()}function t(e,t){this._stream=e,this._done=!1,this._filename=null,this._queuedChunks=t||[],this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}function r(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return e.prototype={_onReceiveData:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var r=this._rangeReaders.some(function(r){return r._begin===e.begin&&(r._enqueue(t),!0)});(0,s.assert)(r)}},_onProgress:function(e){if(0<this._rangeReaders.length){var t=this._rangeReaders[0];t.onProgress&&t.onProgress({loaded:e.loaded})}},_removeRangeReader:function(e){var t=this._rangeReaders.indexOf(e);0<=t&&this._rangeReaders.splice(t,1)},getFullReader:function(){(0,s.assert)(!this._fullRequestReader);var e=this._queuedChunks;return this._queuedChunks=null,new t(this,e)},getRangeReader:function(e,t){var a=new r(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(a),a},cancelAllRequests:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=this._rangeReaders.slice(0);t.forEach(function(t){t.cancel(e)}),this._pdfDataRangeTransport.abort()}},t.prototype={_enqueue:function(e){if(!this._done){if(0<this._requests.length){var t=this._requests.shift();return void t.resolve({value:e,done:!1})}this._queuedChunks.push(e)}},get headersReady(){return this._headersReady},get filename(){return this._filename},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){var e=n(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0<this._queuedChunks.length)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return r=(0,s.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 8:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),cancel:function(){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},r.prototype={_enqueue:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{var t=this._requests.shift();t.resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}this._done=!0,this._stream._removeRangeReader(this)}},get isStreamingSupported(){return!1},read:function(){var e=n(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return r=(0,s.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),cancel:function(){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},e}();t.PDFDataTransportStream=i},function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var s=r(1),i=function(){function e(t){var r=t.enable;a(this,e),this._enabled=!0===(void 0!==r&&r)}return o(e,[{key:"composeSMask",value:function(e){var t=e.layer,r=e.mask,a=e.properties;return l.composeSMask(t,r,a)}},{key:"drawFigures",value:function(e){var t=e.width,r=e.height,a=e.backgroundColor,n=e.figures,o=e.context;return l.drawFigures(t,r,a,n,o)}},{key:"clear",value:function(){l.cleanup()}},{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=l.tryInitGL()),(0,s.shadow)(this,"isEnabled",e)}}]),e}();t.WebGLContext=i;var l=function(){function e(e,t,r){var a=e.createShader(r);e.shaderSource(a,t),e.compileShader(a);var n=e.getShaderParameter(a,e.COMPILE_STATUS);if(!n){var o=e.getShaderInfoLog(a);throw new Error("Error during shader compilation: "+o)}return a}function t(t,r){return e(t,r,t.VERTEX_SHADER)}function r(t,r){return e(t,r,t.FRAGMENT_SHADER)}function a(e,t){for(var r=e.createProgram(),a=0,n=t.length;a<n;++a)e.attachShader(r,t[a]);e.linkProgram(r);var o=e.getProgramParameter(r,e.LINK_STATUS);if(!o){var s=e.getProgramInfoLog(r);throw new Error("Error during program linking: "+s)}return r}function n(e,t,r){e.activeTexture(r);var a=e.createTexture();return e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),a}function o(){p||(m=document.createElement("canvas"),p=m.getContext("webgl",{premultipliedalpha:!1}))}function s(){var e,n;o(),e=m,m=null,n=p,p=null;var s=t(n,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),i=r(n,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             "),l=a(n,[s,i]);n.useProgram(l);var d={gl:n,canvas:e,resolutionLocation:n.getUniformLocation(l,"u_resolution"),positionLocation:n.getAttribLocation(l,"a_position"),backdropLocation:n.getUniformLocation(l,"u_backdrop"),subtypeLocation:n.getUniformLocation(l,"u_subtype")},u=n.getAttribLocation(l,"a_texCoord"),g=n.getUniformLocation(l,"u_image"),_=n.getUniformLocation(l,"u_mask"),h=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,h),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),n.enableVertexAttribArray(u),n.vertexAttribPointer(u,2,n.FLOAT,!1,0,0),n.uniform1i(g,0),n.uniform1i(_,1),c=d}function i(e,t,r){var a=e.width,o=e.height;c||s();var i=c,l=i.canvas,d=i.gl;l.width=a,l.height=o,d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),d.uniform2f(i.resolutionLocation,a,o),r.backdrop?d.uniform4f(i.resolutionLocation,r.backdrop[0],r.backdrop[1],r.backdrop[2],1):d.uniform4f(i.resolutionLocation,0,0,0,0),d.uniform1i(i.subtypeLocation,"Luminosity"===r.subtype?1:0);var u=n(d,e,d.TEXTURE0),p=n(d,t,d.TEXTURE1),m=d.createBuffer();return d.bindBuffer(d.ARRAY_BUFFER,m),d.bufferData(d.ARRAY_BUFFER,new Float32Array([0,0,a,0,0,o,0,o,a,0,a,o]),d.STATIC_DRAW),d.enableVertexAttribArray(i.positionLocation),d.vertexAttribPointer(i.positionLocation,2,d.FLOAT,!1,0,0),d.clearColor(0,0,0,0),d.enable(d.BLEND),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA),d.clear(d.COLOR_BUFFER_BIT),d.drawArrays(d.TRIANGLES,0,6),d.flush(),d.deleteTexture(u),d.deleteTexture(p),d.deleteBuffer(m),l}function l(){var e,n;o(),e=m,m=null,n=p,p=null;var s=t(n,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),i=r(n,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             "),l=a(n,[s,i]);n.useProgram(l);var d={};d.gl=n,d.canvas=e,d.resolutionLocation=n.getUniformLocation(l,"u_resolution"),d.scaleLocation=n.getUniformLocation(l,"u_scale"),d.offsetLocation=n.getUniformLocation(l,"u_offset"),d.positionLocation=n.getAttribLocation(l,"a_position"),d.colorLocation=n.getAttribLocation(l,"a_color"),u=d}function d(e,t,r,a,n){u||l();var o=u,s=o.canvas,d=o.gl;s.width=e,s.height=t,d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),d.uniform2f(o.resolutionLocation,e,t);var c=0,p,m,g;for(p=0,m=a.length;p<m;p++)switch(a[p].type){case"lattice":g=0|a[p].coords.length/a[p].verticesPerRow,c+=6*((g-1)*(a[p].verticesPerRow-1));break;case"triangles":c+=a[p].coords.length;}var _=new Float32Array(2*c),h=new Uint8Array(3*c),f=n.coords,y=n.colors,b=0,A=0;for(p=0,m=a.length;p<m;p++){var S=a[p],v=S.coords,x=S.colors;switch(S.type){case"lattice":var k=S.verticesPerRow;g=0|v.length/k;for(var C=1,R;C<g;C++){R=C*k+1;for(var P=1;P<k;P++,R++)_[b]=f[v[R-k-1]],_[b+1]=f[v[R-k-1]+1],_[b+2]=f[v[R-k]],_[b+3]=f[v[R-k]+1],_[b+4]=f[v[R-1]],_[b+5]=f[v[R-1]+1],h[A]=y[x[R-k-1]],h[A+1]=y[x[R-k-1]+1],h[A+2]=y[x[R-k-1]+2],h[A+3]=y[x[R-k]],h[A+4]=y[x[R-k]+1],h[A+5]=y[x[R-k]+2],h[A+6]=y[x[R-1]],h[A+7]=y[x[R-1]+1],h[A+8]=y[x[R-1]+2],_[b+6]=_[b+2],_[b+7]=_[b+3],_[b+8]=_[b+4],_[b+9]=_[b+5],_[b+10]=f[v[R]],_[b+11]=f[v[R]+1],h[A+9]=h[A+3],h[A+10]=h[A+4],h[A+11]=h[A+5],h[A+12]=h[A+6],h[A+13]=h[A+7],h[A+14]=h[A+8],h[A+15]=y[x[R]],h[A+16]=y[x[R]+1],h[A+17]=y[x[R]+2],b+=12,A+=18}break;case"triangles":for(var T=0,E=v.length;T<E;T++)_[b]=f[v[T]],_[b+1]=f[v[T]+1],h[A]=y[x[T]],h[A+1]=y[x[T]+1],h[A+2]=y[x[T]+2],b+=2,A+=3;}}r?d.clearColor(r[0]/255,r[1]/255,r[2]/255,1):d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT);var w=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,w),d.bufferData(d.ARRAY_BUFFER,_,d.STATIC_DRAW),d.enableVertexAttribArray(o.positionLocation),d.vertexAttribPointer(o.positionLocation,2,d.FLOAT,!1,0,0);var I=d.createBuffer();return d.bindBuffer(d.ARRAY_BUFFER,I),d.bufferData(d.ARRAY_BUFFER,h,d.STATIC_DRAW),d.enableVertexAttribArray(o.colorLocation),d.vertexAttribPointer(o.colorLocation,3,d.UNSIGNED_BYTE,!1,0,0),d.uniform2f(o.scaleLocation,n.scaleX,n.scaleY),d.uniform2f(o.offsetLocation,n.offsetX,n.offsetY),d.drawArrays(d.TRIANGLES,0,c),d.flush(),d.deleteBuffer(w),d.deleteBuffer(I),s}var c=null,u=null,p,m;return{tryInitGL:function(){try{return o(),!!p}catch(e){}return!1},composeSMask:i,drawFigures:d,cleanup:function(){c&&c.canvas&&(c.canvas.width=0,c.canvas.height=0),u&&u.canvas&&(u.canvas.width=0,u.canvas.height=0),c=null,u=null}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var a=r(1),n=function(e){return e&&e.__esModule?e:{default:e}}(r(3)),o=function(){function e(e){return!u.test(e)}function t(t,r,n){var o=document.createElement("span"),s={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(o),e(r.str))return s.isWhitespace=!0,void t._textDivProperties.set(o,s);var i=a.Util.transform(t._viewport.transform,r.transform),l=Math.atan2(i[1],i[0]),d=n[r.fontName];d.vertical&&(l+=Math.PI/2);var c=Math.sqrt(i[2]*i[2]+i[3]*i[3]),u=c;d.ascent?u=d.ascent*u:d.descent&&(u=(1+d.descent)*u);var g,_;if(0===l?(g=i[4],_=i[5]-u):(g=i[4]+u*Math.sin(l),_=i[5]-u*Math.cos(l)),p[1]=g,p[3]=_,p[5]=c,p[7]=d.fontFamily,s.style=p.join(""),o.setAttribute("style",s.style),o.textContent=r.str,t._fontInspectorEnabled&&(o.dataset.fontName=r.fontName),0!==l&&(s.angle=l*(180/Math.PI)),1<r.str.length&&(d.vertical?s.canvasWidth=r.height*t._viewport.scale:s.canvasWidth=r.width*t._viewport.scale),t._textDivProperties.set(o,s),t._textContentStream&&t._layoutText(o),t._enhanceTextSelection){var h=1,f=0;0!==l&&(h=Math.cos(l),f=Math.sin(l));var y=(d.vertical?r.height:r.width)*t._viewport.scale,A=c,S,v;0===l?v=[g,_,g+y,_+A]:(S=[h,f,-f,h,g,_],v=a.Util.getAxialAlignedBoundingBox([0,0,y,A],S)),t._bounds.push({left:v[0],top:v[1],right:v[2],bottom:v[3],div:o,size:[y,A],m:S})}}function r(e){if(!e._canceled){var t=e._textDivs,r=e._capability,a=t.length;if(100000<a)return e._renderingDone=!0,void r.resolve();if(!e._textContentStream)for(var n=0;n<a;n++)e._layoutText(t[n]);e._renderingDone=!0,r.resolve()}}function o(t){for(var r=t._bounds,n=t._viewport,o=l(n.width,n.height,r),d=0;d<o.length;d++){var u=r[d].div,p=t._textDivProperties.get(u);if(0===p.angle){p.paddingLeft=r[d].left-o[d].left,p.paddingTop=r[d].top-o[d].top,p.paddingRight=o[d].right-r[d].right,p.paddingBottom=o[d].bottom-r[d].bottom,t._textDivProperties.set(u,p);continue}var g=o[d],e=r[d],_=e.m,m=_[0],c=_[1],s=[[0,0],[0,e.size[1]],[e.size[0],0],e.size],h=new Float64Array(64);s.forEach(function(e,r){var n=a.Util.applyTransform(e,_);h[r+0]=m&&(g.left-n[0])/m,h[r+4]=c&&(g.top-n[1])/c,h[r+8]=m&&(g.right-n[0])/m,h[r+12]=c&&(g.bottom-n[1])/c,h[r+16]=c&&(g.left-n[0])/-c,h[r+20]=m&&(g.top-n[1])/m,h[r+24]=c&&(g.right-n[0])/-c,h[r+28]=m&&(g.bottom-n[1])/m,h[r+32]=m&&(g.left-n[0])/-m,h[r+36]=c&&(g.top-n[1])/-c,h[r+40]=m&&(g.right-n[0])/-m,h[r+44]=c&&(g.bottom-n[1])/-c,h[r+48]=c&&(g.left-n[0])/c,h[r+52]=m&&(g.top-n[1])/-m,h[r+56]=c&&(g.right-n[0])/c,h[r+60]=m&&(g.bottom-n[1])/-m});var f=function(e,r,a){for(var n=0,o=0,s;o<a;o++)s=e[r++],0<s&&(n=n?Math.min(s,n):s);return n},y=1+Math.min(Math.abs(m),Math.abs(c));p.paddingLeft=f(h,32,16)/y,p.paddingTop=f(h,48,16)/y,p.paddingRight=f(h,0,16)/y,p.paddingBottom=f(h,16,16)/y,t._textDivProperties.set(u,p)}}function l(t,r,a){var n=a.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});d(t,n);var o=Array(a.length);return n.forEach(function(e){var t=e.index;o[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),a.map(function(r,a){var s=o[a],e=n[a];e.x1=r.top,e.y1=t-s.right,e.x2=r.bottom,e.y2=t-s.left,e.index=a,e.x1New=void 0,e.x2New=void 0}),d(r,n),n.forEach(function(e){var t=e.index;o[t].top=e.x1New,o[t].bottom=e.x2New}),o}function d(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var r={x1:-Infinity,y1:-Infinity,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},a=[{start:-Infinity,end:1/0,boundary:r}];t.forEach(function(e){for(var t=0;t<a.length&&a[t].end<=e.y1;)t++;for(var r=a.length-1;0<=r&&a[r].start>=e.y2;)r--;var n=-Infinity,o,s,l,d;for(l=t;l<=r;l++){o=a[l],s=o.boundary;var c;c=s.x2>e.x1?s.index>e.index?s.x1New:e.x1:void 0===s.x2New?(s.x2+e.x1)/2:s.x2New,c>n&&(n=c)}for(e.x1New=n,l=t;l<=r;l++)o=a[l],s=o.boundary,void 0===s.x2New?s.x2>e.x1?s.index>e.index&&(s.x2New=s.x2):s.x2New=n:s.x2New>n&&(s.x2New=Math.max(n,s.x2));var u=[],p=null;for(l=t;l<=r;l++){o=a[l],s=o.boundary;var m=s.x2>e.x2?s:e;p===m?u[u.length-1].end=o.end:(u.push({start:o.start,end:o.end,boundary:m}),p=m)}for(a[t].start<e.y1&&(u[0].start=e.y1,u.unshift({start:a[t].start,end:e.y1,boundary:a[t].boundary})),e.y2<a[r].end&&(u[u.length-1].end=e.y2,u.push({start:e.y2,end:a[r].end,boundary:a[r].boundary})),l=t;l<=r;l++)if(o=a[l],s=o.boundary,void 0===s.x2New){var g=!1;for(d=t-1;!g&&0<=d&&a[d].start>=s.y1;d--)g=a[d].boundary===s;for(d=r+1;!g&&d<a.length&&a[d].end<=s.y2;d++)g=a[d].boundary===s;for(d=0;!g&&d<u.length;d++)g=u[d].boundary===s;g||(s.x2New=n)}Array.prototype.splice.apply(a,[t,r-t+1].concat(u))}),a.forEach(function(t){var r=t.boundary;void 0===r.x2New&&(r.x2New=Math.max(e,r.x2))})}function c(e){var t=e.textContent,r=e.textContentStream,o=e.container,s=e.viewport,i=e.textDivs,l=e.textContentItemsStr,d=e.enhanceTextSelection;this._textContent=t,this._textContentStream=r,this._container=o,this._viewport=s,this._textDivs=i||[],this._textContentItemsStr=l||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!!(n.default.FontInspector&&n.default.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[]}var u=/\S/,p=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];return c.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new a.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(e,r){for(var a=0,n=e.length;a<n;a++)this._textContentItemsStr.push(e[a].str),t(this,e[a],r)},_layoutText:function(e){var t=this._container,r=this._textDivProperties.get(e);if(!r.isWhitespace){var a=e.style.fontSize,n=e.style.fontFamily;(a!==this._layoutTextLastFontSize||n!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=a+" "+n,this._layoutTextLastFontSize=a,this._layoutTextLastFontFamily=n);var o=this._layoutTextCtx.measureText(e.textContent).width,s="";0!==r.canvasWidth&&0<o&&(r.scale=r.canvasWidth/o,s="scaleX(".concat(r.scale,")")),0!==r.angle&&(s="rotate(".concat(r.angle,"deg) ").concat(s)),0<s.length&&(r.originalTransform=s,e.style.transform=s),this._textDivProperties.set(e,r),t.appendChild(e)}},_render:function(e){var t=this,n=(0,a.createPromiseCapability)(),o=Object.create(null),s=document.createElement("canvas");if(s.mozOpaque=!0,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent){var i=this._textContent.items,l=this._textContent.styles;this._processItems(i,l),n.resolve()}else if(this._textContentStream){var d=function e(){t._reader.read().then(function(r){var a=r.value,s=r.done;return s?void n.resolve():void(Object.assign(o,a.styles),t._processItems(a.items,o),e())},n.reject)};this._reader=this._textContentStream.getReader(),d()}else throw new Error("Neither \"textContent\" nor \"textContentStream\" parameters specified.");n.promise.then(function(){o=null,e?t._renderTimer=setTimeout(function(){r(t),t._renderTimer=null},e):r(t)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(o(this),this._bounds=null);for(var t=0,r=this._textDivs.length;t<r;t++){var a=this._textDivs[t],n=this._textDivProperties.get(a);if(!n.isWhitespace)if(e){var s="",l="";1!==n.scale&&(s="scaleX("+n.scale+")"),0!==n.angle&&(s="rotate("+n.angle+"deg) "+s),0!==n.paddingLeft&&(l+=" padding-left: "+n.paddingLeft/n.scale+"px;",s+=" translateX("+-n.paddingLeft/n.scale+"px)"),0!==n.paddingTop&&(l+=" padding-top: "+n.paddingTop+"px;",s+=" translateY("+-n.paddingTop+"px)"),0!==n.paddingRight&&(l+=" padding-right: "+n.paddingRight/n.scale+"px;"),0!==n.paddingBottom&&(l+=" padding-bottom: "+n.paddingBottom+"px;"),""!=l&&a.setAttribute("style",n.style+l),""!=s&&(a.style.transform=s)}else a.style.padding=0,a.style.transform=n.originalTransform||""}}}},function(e){var t=new c({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=o},function(e,t,r){"use strict";function a(e,t,r){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var a=n(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(r):o.value}},a(e,t,r||e)}function n(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=l(e),null!==e););return e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){return t&&("object"===o(t)||"function"==typeof t)?t:i(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function m(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var g=r(151),_=r(1),h=function(){function e(){u(this,e)}return m(e,null,[{key:"create",value:function(e){var t=e.data.annotationType;switch(t){case _.AnnotationType.LINK:return new y(e);case _.AnnotationType.TEXT:return new b(e);case _.AnnotationType.WIDGET:var r=e.data.fieldType;return"Tx"===r?new S(e):"Btn"===r?e.data.radioButton?new x(e):e.data.checkBox?new v(e):new k(e):"Ch"===r?new C(e):new A(e);case _.AnnotationType.POPUP:return new R(e);case _.AnnotationType.LINE:return new T(e);case _.AnnotationType.SQUARE:return new E(e);case _.AnnotationType.CIRCLE:return new w(e);case _.AnnotationType.POLYLINE:return new I(e);case _.AnnotationType.INK:return new F(e);case _.AnnotationType.POLYGON:return new L(e);case _.AnnotationType.HIGHLIGHT:return new O(e);case _.AnnotationType.UNDERLINE:return new D(e);case _.AnnotationType.SQUIGGLY:return new N(e);case _.AnnotationType.STRIKEOUT:return new M(e);case _.AnnotationType.STAMP:return new q(e);case _.AnnotationType.FILEATTACHMENT:return new j(e);default:return new f(e);}}}]),e}(),f=function(){function e(t){var r=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],a=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];u(this,e),this.isRenderable=r,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,r&&(this.container=this._createContainer(a))}return m(e,[{key:"_createContainer",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=this.data,r=this.page,a=this.viewport,n=document.createElement("section"),o=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];n.setAttribute("data-annotation-id",t.id);var i=_.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]);if(n.style.transform="matrix("+a.transform.join(",")+")",n.style.transformOrigin=-i[0]+"px "+-i[1]+"px",!e&&0<t.borderStyle.width){n.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==_.AnnotationBorderStyleType.UNDERLINE&&(o-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var l=t.borderStyle.horizontalCornerRadius,d=t.borderStyle.verticalCornerRadius;if(0<l||0<d){n.style.borderRadius=l+"px / "+d+"px"}switch(t.borderStyle.style){case _.AnnotationBorderStyleType.SOLID:n.style.borderStyle="solid";break;case _.AnnotationBorderStyleType.DASHED:n.style.borderStyle="dashed";break;case _.AnnotationBorderStyleType.BEVELED:(0,_.warn)("Unimplemented border style: beveled");break;case _.AnnotationBorderStyleType.INSET:(0,_.warn)("Unimplemented border style: inset");break;case _.AnnotationBorderStyleType.UNDERLINE:n.style.borderBottomStyle="solid";break;default:}t.color?n.style.borderColor=_.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):n.style.borderWidth=0}return n.style.left=i[0]+"px",n.style.top=i[1]+"px",n.style.width=o+"px",n.style.height=s+"px",n}},{key:"_createPopup",value:function(e,t,r){t||(t=document.createElement("div"),t.style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var a=new P({container:e,trigger:t,color:r.color,title:r.title,contents:r.contents,hideWrapper:!0}),n=a.render();n.style.left=e.style.width,e.appendChild(n)}},{key:"render",value:function(){(0,_.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),y=function(e){function t(e){u(this,t);var r=!!(e.data.url||e.data.dest||e.data.action);return s(this,l(t).call(this,e,r))}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="linkAnnotation";var e=this.data,t=this.linkService,r=document.createElement("a");return(0,g.addLinkAttributes)(r,{url:e.url,target:e.newWindow?g.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel}),e.url||(e.action?this._bindNamedAction(r,e.action):this._bindLink(r,e.dest)),this.container.appendChild(r),this.container}},{key:"_bindLink",value:function(e,t){var r=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&r.linkService.navigateTo(t),!1},t&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var r=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return r.linkService.executeNamedAction(t),!1},e.className="internalLink"}}]),t}(f),b=function(e){function t(e){u(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,l(t).call(this,e,r))}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}]),t}(f),A=function(e){function t(){return u(this,t),s(this,l(t).apply(this,arguments))}return d(t,e),m(t,[{key:"render",value:function(){return this.container}}]),t}(f),S=function(e){function t(e){u(this,t);var r=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return s(this,l(t).call(this,e,r))}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var e=null;if(!this.renderInteractiveForms){e=document.createElement("div"),e.textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";var t=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(t=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(e,t)}else if(this.data.multiLine?(e=document.createElement("textarea"),e.textContent=this.data.fieldValue):(e=document.createElement("input"),e.type="text",e.setAttribute("value",this.data.fieldValue)),e.disabled=this.data.readOnly,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){var r=this.data.rect[2]-this.data.rect[0],a=r/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing="calc("+a+"px - 1ch)"}return null!==this.data.textAlignment&&(e.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(e),this.container}},{key:"_setTextStyle",value:function(e,t){var r=e.style;if(r.fontSize=this.data.fontSize+"px",r.direction=0>this.data.fontDirection?"rtl":"ltr",!!t){r.fontWeight=t.black?t.bold?"900":"bold":t.bold?"bold":"normal",r.fontStyle=t.italic?"italic":"normal";var a=t.loadedName?"\""+t.loadedName+"\", ":"",n=t.fallbackName||"Helvetica, sans-serif";r.fontFamily=a+n}}}]),t}(A),v=function(e){function t(e){return u(this,t),s(this,l(t).call(this,e,e.renderInteractiveForms))}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),t}(A),x=function(e){function t(e){return u(this,t),s(this,l(t).call(this,e,e.renderInteractiveForms))}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),t}(A),k=function(e){function t(){return u(this,t),s(this,l(t).apply(this,arguments))}return d(t,e),m(t,[{key:"render",value:function(){var e=a(l(t.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",e}}]),t}(y),C=function(e){function t(e){return u(this,t),s(this,l(t).call(this,e,e.renderInteractiveForms))}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));for(var t=0,r=this.data.options.length;t<r;t++){var a=this.data.options[t],n=document.createElement("option");n.textContent=a.displayValue,n.value=a.exportValue,this.data.fieldValue.includes(a.displayValue)&&n.setAttribute("selected",!0),e.appendChild(n)}return this.container.appendChild(e),this.container}}]),t}(A),R=function(e){function t(e){u(this,t);var r=!!(e.data.title||e.data.contents);return s(this,l(t).call(this,e,r))}return d(t,e),m(t,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e="[data-annotation-id=\""+this.data.parentId+"\"]",t=this.layer.querySelector(e);if(!t)return this.container;var r=new P({container:this.container,trigger:t,color:this.data.color,title:this.data.title,contents:this.data.contents}),a=parseFloat(t.style.left),n=parseFloat(t.style.width);return this.container.style.transformOrigin=-(a+n)+"px -"+t.style.top,this.container.style.left=a+n+"px",this.container.appendChild(r.render()),this.container}}]),t}(f),P=function(){function e(t){u(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return m(e,[{key:"render",value:function(){var e=.7,t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.setAttribute("hidden",!0);var a=document.createElement("div");a.className="popup";var n=this.color;if(n){var o=e*(255-n[0])+n[0],r=e*(255-n[1])+n[1],s=e*(255-n[2])+n[2];a.style.backgroundColor=_.Util.makeCssRgb(0|o,0|r,0|s)}var i=this._formatContents(this.contents),l=document.createElement("h1");return l.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),a.addEventListener("click",this._hide.bind(this,!0)),a.appendChild(l),a.appendChild(i),t.appendChild(a),t}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),r=e.split(/(?:\r\n?|\n)/),a=0,n=r.length,o;a<n;++a)o=r[a],t.appendChild(document.createTextNode(o)),a<n-1&&t.appendChild(document.createElement("br"));return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),T=function(e){function t(e){u(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,l(t).call(this,e,r,!0))}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],a=this.svgFactory.create(t,r),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width),n.setAttribute("stroke","transparent"),a.appendChild(n),this.container.append(a),this._createPopup(this.container,n,e),this.container}}]),t}(f),E=function(e){function t(e){u(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,l(t).call(this,e,r,!0))}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],a=this.svgFactory.create(t,r),n=e.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",n/2),o.setAttribute("y",n/2),o.setAttribute("width",t-n),o.setAttribute("height",r-n),o.setAttribute("stroke-width",n),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),a.appendChild(o),this.container.append(a),this._createPopup(this.container,o,e),this.container}}]),t}(f),w=function(e){function t(e){u(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,l(t).call(this,e,r,!0))}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],a=this.svgFactory.create(t,r),n=e.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",r/2),o.setAttribute("rx",t/2-n/2),o.setAttribute("ry",r/2-n/2),o.setAttribute("stroke-width",n),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),a.appendChild(o),this.container.append(a),this._createPopup(this.container,o,e),this.container}}]),t}(f),I=function(e){function t(e){var r;u(this,t);var a=!!(e.data.hasPopup||e.data.title||e.data.contents);return r=s(this,l(t).call(this,e,a,!0)),r.containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return d(t,e),m(t,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],a=this.svgFactory.create(t,r),n=e.vertices,o=[],s=0,l=n.length;s<l;s++){var d=n[s].x-e.rect[0],c=e.rect[3]-n[s].y;o.push(d+","+c)}o=o.join(" ");var u=e.borderStyle.width,p=this.svgFactory.createElement(this.svgElementName);return p.setAttribute("points",o),p.setAttribute("stroke-width",u),p.setAttribute("stroke","transparent"),p.setAttribute("fill","none"),a.appendChild(p),this.container.append(a),this._createPopup(this.container,p,e),this.container}}]),t}(f),L=function(e){function t(e){var r;return u(this,t),r=s(this,l(t).call(this,e)),r.containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return d(t,e),t}(I),F=function(e){function t(e){var r;u(this,t);var a=!!(e.data.hasPopup||e.data.title||e.data.contents);return r=s(this,l(t).call(this,e,a,!0)),r.containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return d(t,e),m(t,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var e=this.data,t=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],a=this.svgFactory.create(t,r),n=e.inkLists,o=0,s=n.length;o<s;o++){for(var l=n[o],d=[],c=0,u=l.length;c<u;c++){var p=l[c].x-e.rect[0],m=e.rect[3]-l[c].y;d.push(p+","+m)}d=d.join(" ");var g=e.borderStyle.width,_=this.svgFactory.createElement(this.svgElementName);_.setAttribute("points",d),_.setAttribute("stroke-width",g),_.setAttribute("stroke","transparent"),_.setAttribute("fill","none"),this._createPopup(this.container,_,e),a.appendChild(_)}return this.container.append(a),this.container}}]),t}(f),O=function(e){function t(e){u(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,l(t).call(this,e,r,!0))}return d(t,e),m(t,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(f),D=function(e){function t(e){u(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,l(t).call(this,e,r,!0))}return d(t,e),m(t,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(f),N=function(e){function t(e){u(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,l(t).call(this,e,r,!0))}return d(t,e),m(t,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(f),M=function(e){function t(e){u(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,l(t).call(this,e,r,!0))}return d(t,e),m(t,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(f),q=function(e){function t(e){u(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,l(t).call(this,e,r,!0))}return d(t,e),m(t,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(f),j=function(e){function t(e){var r;u(this,t),r=s(this,l(t).call(this,e,!0));var a=r.data.file,n=a.filename,o=a.content;return r.filename=(0,g.getFilenameFromUrl)(n),r.content=o,r.linkService.eventBus&&r.linkService.eventBus.dispatch("fileattachmentannotation",{source:i(i(r)),id:(0,_.stringToPDFString)(n),filename:n,content:o}),r}return d(t,e),m(t,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){return this.downloadManager?void this.downloadManager.downloadData(this.content,this.filename,""):void(0,_.warn)("Download cannot be started due to unavailable download manager")}}]),t}(f),W=function(){function e(){u(this,e)}return m(e,null,[{key:"render",value:function(e){for(var t=0,r=e.annotations.length,a;t<r;t++)if(a=e.annotations[t],!!a){var n=h.create({data:a,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new g.DOMSVGFactory});n.isRenderable&&e.div.appendChild(n.render())}}},{key:"update",value:function(e){for(var t=0,r=e.annotations.length;t<r;t++){var a=e.annotations[t],n=e.div.querySelector("[data-annotation-id=\""+a.id+"\"]");n&&(n.style.transform="matrix("+e.viewport.transform.join(",")+")")}e.div.removeAttribute("hidden")}}]),e}();t.AnnotationLayer=W},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var o=r(1),s=r(151),i=function(e){return e&&e.__esModule?e:{default:e}}(r(4)),l=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=l;{var d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c=function(){function e(e,t,r){for(var n=-1,o=t;o<r;o++){var s=255&(n^e[o]),a=d[s];n=n>>>8^a}return-1^n}function t(t,r,a,n){var o=n,s=r.length;a[o]=255&s>>24,a[o+1]=255&s>>16,a[o+2]=255&s>>8,a[o+3]=255&s,o+=4,a[o]=255&t.charCodeAt(0),a[o+1]=255&t.charCodeAt(1),a[o+2]=255&t.charCodeAt(2),a[o+3]=255&t.charCodeAt(3),o+=4,a.set(r,o),o+=r.length;var i=e(a,n+4,o);a[o]=255&i>>24,a[o+1]=255&i>>16,a[o+2]=255&i>>8,a[o+3]=255&i}function r(e,t,r){for(var n=1,o=0,s=t;s<r;++s)n=(n+(255&e[s]))%65521,o=(o+n)%65521;return o<<16|n}function a(e){if(!(0,i.default)())return n(e);try{var t=8<=parseInt(process.versions.node)?e:new Buffer(e);var r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(t){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return n(e)}function n(e){var t=e.length,a=65535,n=Math.ceil(t/a),o=new Uint8Array(2+t+5*n+4),s=0;o[s++]=120,o[s++]=156;for(var i=0;t>a;)o[s++]=0,o[s++]=255,o[s++]=255,o[s++]=0,o[s++]=0,o.set(e.subarray(i,i+a),s),s+=a,i+=a,t-=a;o[s++]=1,o[s++]=255&t,o[s++]=255&t>>8,o[s++]=255&(65535&~t),o[s++]=255&(65535&~t)>>8,o.set(e.subarray(i),s),s+=e.length-i;var l=r(e,0,e.length);return o[s++]=255&l>>24,o[s++]=255&l>>16,o[s++]=255&l>>8,o[s++]=255&l,o}function s(e,r,n,s){var d=e.width,c=e.height,u=e.data,p,m,g;switch(r){case o.ImageKind.GRAYSCALE_1BPP:m=0,p=1,g=d+7>>3;break;case o.ImageKind.RGB_24BPP:m=2,p=8,g=3*d;break;case o.ImageKind.RGBA_32BPP:m=6,p=8,g=4*d;break;default:throw new Error("invalid format");}var _=new Uint8Array((1+g)*c),h=0,f=0,b,A;for(b=0;b<c;++b)_[h++]=0,_.set(u.subarray(f,f+g),h),f+=g,h+=g;if(r===o.ImageKind.GRAYSCALE_1BPP&&s)for(h=0,b=0;b<c;b++)for(h++,A=0;A<g;A++)_[h++]^=255;var S=new Uint8Array([255&d>>24,255&d>>16,255&d>>8,255&d,255&c>>24,255&c>>16,255&c>>8,255&c,p,m,0,0,0]),v=a(_),x=l.length+36+S.length+v.length,k=new Uint8Array(x),C=0;return k.set(l,C),C+=l.length,t("IHDR",S,k,C),C+=12+S.length,t("IDATA",v,k,C),C+=12+v.length,t("IEND",new Uint8Array(0),k,C),(0,o.createObjectURL)(k,"image/png",n)}for(var l=new Uint8Array([137,80,78,71,13,10,26,10]),d=new Int32Array(256),u=0,p;256>u;u++){p=u;for(var m=0;8>m;m++)p=1&p?3988292384^2147483647&p>>1:2147483647&p>>1;d[u]=p}return function(e,t,r){var a=e.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:e.kind;return s(e,a,t,r)}}(),u=function(){function e(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}();t.SVGGraphics=l=function(){function e(e){for(var t=[],r=[],a=e.length,n=0;n<a;n++){if("save"===e[n].fn){t.push({fnId:92,fn:"group",items:[]}),r.push(t),t=t[t.length-1].items;continue}"restore"===e[n].fn?t=r.pop():t.push(e[n])}return t}function t(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),r=t.length-1;if("0"!==t[r])return t;do r--;while("0"===t[r]);return t.substring(0,"."===t[r]?r:r+1)}function r(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale("+t(e[0])+" "+t(e[3])+")";if(e[0]===e[3]&&e[1]===-e[2]){var r=180*Math.acos(e[0])/Math.PI;return"rotate("+t(r)+")"}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate("+t(e[4])+" "+t(e[5])+")";return"matrix("+t(e[0])+" "+t(e[1])+" "+t(e[2])+" "+t(e[3])+" "+t(e[4])+" "+t(e[5])+")"}function a(e,t,r){this.svgFactory=new s.DOMSVGFactory,this.current=new u,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!r}var n="http://www.w3.org/1999/xlink",i=["butt","round","square"],l=["miter","round","bevel"],p=0,m=0;return a.prototype={save:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(e){this.save(),this.executeOpTree(e),this.restore()},loadDependencies:function(e){for(var t=this,r=e.fnArray,a=r.length,s=e.argsArray,l=0;l<a;l++)if(o.OPS.dependency===r[l])for(var d=s[l],c=0,u=d.length;c<u;c++){var p=d[c],m="g_"===p.substring(0,2),g;g=m?new Promise(function(e){t.commonObjs.get(p,e)}):new Promise(function(e){t.objs.get(p,e)}),this.current.dependencies.push(g)}return Promise.all(this.current.dependencies)},transform:function(t,r,a,n,s,e){this.transformMatrix=o.Util.transform(this.transformMatrix,[t,r,a,n,s,e]),this.tgrp=null},getSVG:function(e,t){var r=this;this.viewport=t;var a=this._initialize(t);return this.loadDependencies(e).then(function(){r.transformMatrix=o.IDENTITY_MATRIX;var t=r.convertOpList(e);return r.executeOpTree(t),a})},convertOpList:function(t){var r=t.argsArray,a=t.fnArray,n=a.length,s=[],i=[];for(var l in o.OPS)s[o.OPS[l]]=l;for(var d=0,c;d<n;d++)c=a[d],i.push({fnId:c,fn:s[c],args:r[d]});return e(i)},executeOpTree:function(e){for(var t=e.length,r=0;r<t;r++){var a=e[r].fn,n=e[r].fnId,s=e[r].args;switch(0|n){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(s);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case o.OPS.setFont:this.setFont(s);break;case o.OPS.showText:this.showText(s[0]);break;case o.OPS.showSpacedText:this.showText(s[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(s[0],s[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case o.OPS.setHScale:this.setHScale(s[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case o.OPS.setTextRise:this.setTextRise(s[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case o.OPS.setLineWidth:this.setLineWidth(s[0]);break;case o.OPS.setLineJoin:this.setLineJoin(s[0]);break;case o.OPS.setLineCap:this.setLineCap(s[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case o.OPS.setDash:this.setDash(s[0],s[1]);break;case o.OPS.setGState:this.setGState(s[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintJpegXObject:this.paintJpegXObject(s[0],s[1],s[2]);break;case o.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case o.OPS.constructPath:this.constructPath(s[0],s[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(e[r].items);break;default:(0,o.warn)("Unimplemented operator "+a);}}},setWordSpacing:function(e){this.current.wordSpacing=e},setCharSpacing:function(e){this.current.charSpacing=e},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(r,a,n,o,s,e){var i=this.current;this.current.textMatrix=this.current.lineMatrix=[r,a,n,o,s,e],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,i.xcoords=[],i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",t(i.fontSize)+"px"),i.tspan.setAttributeNS(null,"y",t(-i.y)),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtElement.appendChild(i.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=o.IDENTITY_MATRIX,this.current.lineMatrix=o.IDENTITY_MATRIX,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.txtElement=this.svgFactory.createElement("svg:text"),this.current.txtgrp=this.svgFactory.createElement("svg:g"),this.current.xcoords=[]},moveText:function(e,r){var a=this.current;this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r,a.xcoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",t(a.fontSize)+"px"),a.tspan.setAttributeNS(null,"y",t(-a.y))},showText:function(e){var a=this.current,n=a.font,s=a.fontSize;if(0!==s){var l=a.charSpacing,c=a.wordSpacing,u=a.fontDirection,p=a.textHScale*u,m=e.length,g=n.vertical,_=s*a.fontMatrix[0],h=0,f;for(f=0;f<m;++f){var y=e[f];if(null===y){h+=u*c;continue}else if((0,o.isNum)(y)){h+=.001*(-y*s);continue}var b=y.width,A=y.fontChar,S=(y.isSpace?c:0)+l,v=b*_+S*u;if(!y.isInFont&&!n.missingFile){h+=v;continue}a.xcoords.push(a.x+h*p),a.tspan.textContent+=A,h+=v}g?a.y-=h*p:a.x+=h*p,a.tspan.setAttributeNS(null,"x",a.xcoords.map(t).join(" ")),a.tspan.setAttributeNS(null,"y",t(-a.y)),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",t(a.fontSize)+"px"),a.fontStyle!==d.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==d.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);var k=a.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;k===o.TextRenderingMode.FILL||k===o.TextRenderingMode.FILL_STROKE?(a.fillColor!==d.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),1>a.fillAlpha&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?a.tspan.setAttributeNS(null,"fill","transparent"):a.tspan.setAttributeNS(null,"fill","none"),(k===o.TextRenderingMode.STROKE||k===o.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(a.tspan);var C=a.textMatrix;0!==a.textRise&&(C=C.slice(),C[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform",r(C)+" scale(1, -1)"),a.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),a.txtElement.appendChild(a.tspan),a.txtgrp.appendChild(a.txtElement),this._ensureTransformGroup().appendChild(a.txtElement)}},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},addFontStyle:function(e){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,o.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+="@font-face { font-family: \""+e.loadedName+"\"; src: url("+t+"); }\n"},setFont:function(e){var r=this.current,a=this.commonObjs.get(e[0]),n=e[1];this.current.font=a,this.embedFonts&&a.data&&!this.embeddedFonts[a.loadedName]&&(this.addFontStyle(a),this.embeddedFonts[a.loadedName]=a),r.fontMatrix=a.fontMatrix?a.fontMatrix:o.FONT_IDENTITY_MATRIX;var s=a.black?a.bold?"bolder":"bold":a.bold?"bold":"normal",i=a.italic?"italic":"normal";0>n?(n=-n,r.fontDirection=-1):r.fontDirection=1,r.fontSize=n,r.fontFamily=a.loadedName,r.fontWeight=s,r.fontStyle=i,r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"y",t(-r.y)),r.xcoords=[]},endText:function(){var e=this.current;e.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())},setLineWidth:function(e){0<e&&(this.current.lineWidth=e)},setLineCap:function(e){this.current.lineCap=i[e]},setLineJoin:function(e){this.current.lineJoin=l[e]},setMiterLimit:function(e){this.current.miterLimit=e},setStrokeAlpha:function(e){this.current.strokeAlpha=e},setStrokeRGBColor:function(e,t,r){var a=o.Util.makeCssRgb(e,t,r);this.current.strokeColor=a},setFillAlpha:function(e){this.current.fillAlpha=e},setFillRGBColor:function(e,t,r){var a=o.Util.makeCssRgb(e,t,r);this.current.fillColor=a,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]},setDash:function(e,t){this.current.dashArray=e,this.current.dashPhase=t},constructPath:function(e,r){var a=this.current,n=a.x,s=a.y;a.path=this.svgFactory.createElement("svg:path");for(var l=[],d=e.length,c=0,u=0;c<d;c++)switch(0|e[c]){case o.OPS.rectangle:n=r[u++],s=r[u++];var p=r[u++],m=r[u++],g=n+p,_=s+m;l.push("M",t(n),t(s),"L",t(g),t(s),"L",t(g),t(_),"L",t(n),t(_),"Z");break;case o.OPS.moveTo:n=r[u++],s=r[u++],l.push("M",t(n),t(s));break;case o.OPS.lineTo:n=r[u++],s=r[u++],l.push("L",t(n),t(s));break;case o.OPS.curveTo:n=r[u+4],s=r[u+5],l.push("C",t(r[u]),t(r[u+1]),t(r[u+2]),t(r[u+3]),t(n),t(s)),u+=6;break;case o.OPS.curveTo2:n=r[u+2],s=r[u+3],l.push("C",t(n),t(s),t(r[u]),t(r[u+1]),t(r[u+2]),t(r[u+3])),u+=4;break;case o.OPS.curveTo3:n=r[u+2],s=r[u+3],l.push("C",t(r[u]),t(r[u+1]),t(n),t(s),t(n),t(s)),u+=4;break;case o.OPS.closePath:l.push("Z");}a.path.setAttributeNS(null,"d",l.join(" ")),a.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(a.path),a.element=a.path,a.setCurrentPoint(n,s)},endPath:function(){if(this.pendingClip){var e=this.current,t="clippath"+p;p++;var a=this.svgFactory.createElement("svg:clipPath");a.setAttributeNS(null,"id",t),a.setAttributeNS(null,"transform",r(this.transformMatrix));var n=e.element.cloneNode(!0);"evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,a.appendChild(n),this.defs.appendChild(a),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null}),a.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#"+t+")",this.tgrp=null}},clip:function(e){this.pendingClip=e},closePath:function(){var e=this.current;if(e.path){var t=e.path.getAttributeNS(null,"d");t+="Z",e.path.setAttributeNS(null,"d",t)}},setLeading:function(e){this.current.leading=-e},setTextRise:function(e){this.current.textRise=e},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setHScale:function(e){this.current.textHScale=e/100},setGState:function(e){for(var t=0,r=e.length;t<r;t++){var a=e[t],n=a[0],s=a[1];"LW"===n?this.setLineWidth(s):"LC"===n?this.setLineCap(s):"LJ"===n?this.setLineJoin(s):"ML"===n?this.setMiterLimit(s):"D"===n?this.setDash(s[0],s[1]):"Font"===n?this.setFont(s):"CA"===n?this.setStrokeAlpha(s):"ca"===n?this.setFillAlpha(s):(0,o.warn)("Unimplemented graphic state "+n)}},fill:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())},stroke:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())},_setStrokeAttributes:function(e){var r=this.current;e.setAttributeNS(null,"stroke",r.strokeColor),e.setAttributeNS(null,"stroke-opacity",r.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",t(r.miterLimit)),e.setAttributeNS(null,"stroke-linecap",r.lineCap),e.setAttributeNS(null,"stroke-linejoin",r.lineJoin),e.setAttributeNS(null,"stroke-width",t(r.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.dashArray.map(t).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",t(r.dashPhase)+"px")},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.closePath(),this.eoFillStroke()},paintSolidColorImageMask:function(){var e=this.current,t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",e.fillColor),this._ensureTransformGroup().appendChild(t)},paintJpegXObject:function(e,r,a){var o=this.objs.get(e),s=this.svgFactory.createElement("svg:image");s.setAttributeNS(n,"xlink:href",o.src),s.setAttributeNS(null,"width",t(r)),s.setAttributeNS(null,"height",t(a)),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",t(-a)),s.setAttributeNS(null,"transform","scale("+t(1/r)+" "+t(-1/a)+")"),this._ensureTransformGroup().appendChild(s)},paintImageXObject:function(e){var t=this.objs.get(e);return t?void this.paintInlineImageXObject(t):void(0,o.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e,r){var a=e.width,o=e.height,s=c(e,this.forceDataSchema,!!r),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",t(a)),i.setAttributeNS(null,"height",t(o)),this.current.element=i,this.clip("nonzero");var l=this.svgFactory.createElement("svg:image");l.setAttributeNS(n,"xlink:href",s),l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y",t(-o)),l.setAttributeNS(null,"width",t(a)+"px"),l.setAttributeNS(null,"height",t(o)+"px"),l.setAttributeNS(null,"transform","scale("+t(1/a)+" "+t(-1/o)+")"),r?r.appendChild(l):this._ensureTransformGroup().appendChild(l)},paintImageMaskXObject:function(e){var r=this.current,a=e.width,n=e.height,o=r.fillColor;r.maskId="mask"+m++;var s=this.svgFactory.createElement("svg:mask");s.setAttributeNS(null,"id",r.maskId);var i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",t(a)),i.setAttributeNS(null,"height",t(n)),i.setAttributeNS(null,"fill",o),i.setAttributeNS(null,"mask","url(#"+r.maskId+")"),this.defs.appendChild(s),this._ensureTransformGroup().appendChild(i),this.paintInlineImageXObject(e,s)},paintFormXObjectBegin:function(e,r){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r){var a=r[2]-r[0],n=r[3]-r[1],o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x",r[0]),o.setAttributeNS(null,"y",r[1]),o.setAttributeNS(null,"width",t(a)),o.setAttributeNS(null,"height",t(n)),this.current.element=o,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(e){var t=this.svgFactory.create(e.width,e.height),a=this.svgFactory.createElement("svg:defs");t.appendChild(a),this.defs=a;var n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",r(e.transform)),t.appendChild(n),this.svg=n,t},_ensureClipGroup:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",r(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},a}()}},function(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e,t){return t&&("object"===a(t)||"function"==typeof t)?t:o(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e,t,r,a,n,o,s){try{var i=e[o](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(a,n)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){function o(e){d(i,a,n,o,s,"next",e)}function s(e){d(i,a,n,o,s,"throw",e)}var i=e.apply(t,r);o(void 0)})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function m(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function g(e){var t=v.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?v.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}function _(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var h=function(e){return e&&e.__esModule?e:{default:e}}(r(147)),f=r(1),y=r(166),b=require("fs"),A=require("http"),S=require("https"),v=require("url"),x=/^file:\/\/\/[a-zA-Z]:\//,k=function(){function e(t){u(this,e),this.source=t,this.url=g(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequest=null,this._rangeRequestReaders=[]}return m(e,[{key:"getFullReader",value:function(){return(0,f.assert)(!this._fullRequest),this._fullRequest=this.isFsUrl?new E(this):new P(this),this._fullRequest}},{key:"getRangeReader",value:function(e,t){var r=this.isFsUrl?new w(this,e,t):new T(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequest&&this._fullRequest.cancel(e);var t=this._rangeRequestReaders.slice(0);t.forEach(function(t){t.cancel(e)})}}]),e}();t.PDFNodeStream=k;var C=function(){function e(t){u(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var r=t.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._headersCapability=(0,f.createPromiseCapability)()}return m(e,[{key:"read",value:function(){var e=c(h.default.mark(function e(){var t,r;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),null!==t){e.next=10;break}return this._readCapability=(0,f.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){return this._readableStream?void this._readableStream.destroy(e):void this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),R=function(){function e(t){u(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)();var r=t.source;this._isStreamingSupported=!r.disableStream}return m(e,[{key:"read",value:function(){var e=c(h.default.mark(function e(){var t,r;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),null!==t){e.next=10;break}return this._readCapability=(0,f.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),r=new Uint8Array(t).buffer,e.abrupt("return",{value:r,done:!1});case 14:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){return this._readableStream?void this._readableStream.destroy(e):void this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),P=function(e){function t(e){var r;u(this,t),r=n(this,s(t).call(this,e));var a=function(t){if(404===t.statusCode){var a=new f.MissingPDFException("Missing PDF \"".concat(r._url,"\"."));return r._storedError=a,void r._headersCapability.reject(a)}r._headersCapability.resolve(),r._setReadableStream(t);var n=function(e){return r._readableStream.headers[e.toLowerCase()]},o=(0,y.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),s=o.allowRangeRequests,i=o.suggestedLength;r._isRangeSupported=s,r._contentLength=i||r._contentLength,r._filename=(0,y.extractFilenameFromHeader)(n)};return r._request=null,r._request="http:"===r._url.protocol?A.request(_(r._url,e.httpHeaders),a):S.request(_(r._url,e.httpHeaders),a),r._request.on("error",function(e){r._storedError=e,r._headersCapability.reject(e)}),r._request.end(),r}return i(t,e),t}(C),T=function(e){function t(e,r,a){var o;for(var i in u(this,t),o=n(this,s(t).call(this,e)),o._httpHeaders={},e.httpHeaders){var l=e.httpHeaders[i];"undefined"!=typeof l&&(o._httpHeaders[i]=l)}o._httpHeaders.Range="bytes=".concat(r,"-").concat(a-1);var d=function(e){if(404===e.statusCode){var t=new f.MissingPDFException("Missing PDF \"".concat(o._url,"\"."));return void(o._storedError=t)}o._setReadableStream(e)};return o._request=null,o._request="http:"===o._url.protocol?A.request(_(o._url,o._httpHeaders),d):S.request(_(o._url,o._httpHeaders),d),o._request.on("error",function(e){o._storedError=e}),o._request.end(),o}return i(t,e),t}(R),E=function(e){function t(e){var r;u(this,t),r=n(this,s(t).call(this,e));var a=decodeURIComponent(r._url.path);return x.test(r._url.href)&&(a=a.replace(/^\//,"")),b.lstat(a,function(e,t){return e?("ENOENT"===e.code&&(e=new f.MissingPDFException("Missing PDF \"".concat(a,"\"."))),r._storedError=e,void r._headersCapability.reject(e)):void(r._contentLength=t.size,r._setReadableStream(b.createReadStream(a)),r._headersCapability.resolve())}),r}return i(t,e),t}(C),w=function(e){function t(e,r,a){var o;u(this,t),o=n(this,s(t).call(this,e));var i=decodeURIComponent(o._url.path);return x.test(o._url.href)&&(i=i.replace(/^\//,"")),o._setReadableStream(b.createReadStream(i,{start:r,end:a-1})),o}return i(t,e),t}(R)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&/^file:/.test(t)?new a.MissingPDFException("Missing PDF \""+t+"\"."):new a.UnexpectedResponseException("Unexpected server response ("+e+") while retrieving PDF \""+t+"\".",e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var r=(0,n.getFilenameFromContentDispositionHeader)(t);if(/\.pdf$/i.test(r))return r}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,r=e.isHttp,n=e.rangeChunkSize,o=e.disableRange;(0,a.assert)(0<n,"Range chunk size must be larger than zero");var s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(t("Content-Length"),10);if(!Number.isInteger(i))return s;if(s.suggestedLength=i,i<=2*n)return s;if(o||!r)return s;if("bytes"!==t("Accept-Ranges"))return s;var l=t("Content-Encoding")||"identity";return"identity"===l?(s.allowRangeRequests=!0,s):s},t.validateResponseStatus=function(e){return 200===e||206===e};var a=r(1),n=r(167)},function(e,t){"use strict";function r(e,t){return o(e)||n(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var s=e[Symbol.iterator](),i;!(a=(i=s.next()).done)&&(r.push(i.value),!(t&&r.length===t));a=!0);}catch(e){n=!0,o=e}finally{try{a||null==s["return"]||s["return"]()}finally{if(n)throw o}}return r}function o(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){function t(e,t){return new RegExp("(?:^|;)\\s*"+e+"\\s*=\\s*([^\";\\s][^;\\s]*|\"(?:[^\"\\\\]|\\\\\"?)+\"?)",t)}function a(t,r){if(t){if(!/^[\x00-\xFF]+$/.test(r))return r;try{var a=new TextDecoder(t,{fatal:!0}),n=Array.from(r,function(e){return 255&e.charCodeAt(0)});r=a.decode(new Uint8Array(n)),d=!1}catch(a){if(/^utf-?8$/i.test(t))try{r=decodeURIComponent(escape(r)),d=!1}catch(e){}}}return r}function n(e){return d&&/[\x80-\xff]/.test(e)&&(e=a("utf-8",e),d&&(e=a("iso-8859-1",e))),e}function o(e){for(var a=[],o=t("filename\\*((?!0\\d)\\d+)(\\*?)","ig"),l;null!==(l=o.exec(e));){var d=l,c=r(d,4),u=c[1],p=c[2],m=c[3];if(u=parseInt(u,10),u in a){if(0===u)break;continue}a[u]=[p,m]}for(var g=[],u=0;u<a.length&&!!(u in a);++u){var _=r(a[u],2),p=_[0],m=_[1];m=s(m),p&&(m=unescape(m),0===u&&(m=i(m))),g.push(m)}return g.join("")}function s(e){if(e.startsWith("\"")){for(var t=e.slice(1).split("\\\""),r=0,a;r<t.length;++r)a=t[r].indexOf("\""),-1!==a&&(t[r]=t[r].slice(0,a),t.length=r+1),t[r]=t[r].replace(/\\(.)/g,"$1");e=t.join("\"")}return e}function i(e){var t=e.indexOf("'");if(-1===t)return e;var r=e.slice(0,t),n=e.slice(t+1),o=n.replace(/^[^']*'/,"");return a(r,o)}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,r,n){if("q"===r||"Q"===r)return n=n.replace(/_/g," "),n=n.replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),a(t,n);try{n=atob(n)}catch(t){}return a(t,n)})}var d=!0,c=t("filename\\*","i").exec(e);if(c){c=c[1];var u=s(c);return u=unescape(u),u=i(u),u=l(u),n(u)}if(c=o(e),c){var p=l(c);return n(p)}if(c=t("filename","i").exec(e),c){c=c[1];var m=s(c);return m=l(m),n(m)}return""}},function(e,t,r){"use strict";function a(e,t,r,a,n,o,s){try{var i=e[o](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){function s(e){a(l,n,o,s,i,"next",e)}function i(e){a(l,n,o,s,i,"throw",e)}var l=e.apply(t,r);s(void 0)})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0,a;r<t.length;r++)a=t[r],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function i(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function l(e,t,r){return{method:"GET",headers:e,signal:r&&r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var d=function(e){return e&&e.__esModule?e:{default:e}}(r(147)),c=r(1),u=r(166),p=function(){function e(t){o(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return i(e,[{key:"getFullReader",value:function(){return(0,c.assert)(!this._fullRequestReader),this._fullRequestReader=new m(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var r=new g(this,e,t);return this._rangeRequestReaders.push(r),r}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=this._rangeRequestReaders.slice(0);t.forEach(function(t){t.cancel(e)})}}]),e}();t.PDFFetchStream=p;var m=function(){function e(t){var r=this;o(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var a=t.source;for(var n in this._withCredentials=a.withCredentials,this._contentLength=a.length,this._headersCapability=(0,c.createPromiseCapability)(),this._disableRange=a.disableRange||!1,this._rangeChunkSize=a.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!a.disableStream,this._isRangeSupported=!a.disableRange,this._headers=new Headers,this._stream.httpHeaders){var s=this._stream.httpHeaders[n];"undefined"!=typeof s&&this._headers.append(n,s)}var i=a.url;fetch(i,l(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,u.validateResponseStatus)(e.status))throw(0,u.createResponseStatusError)(e.status,i);r._reader=e.body.getReader(),r._headersCapability.resolve();var t=function(t){return e.headers.get(t)},a=(0,u.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),n=a.allowRangeRequests,o=a.suggestedLength;r._isRangeSupported=n,r._contentLength=o||r._contentLength,r._filename=(0,u.extractFilenameFromHeader)(t),!r._isStreamingSupported&&r._isRangeSupported&&r.cancel(new c.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject),this.onProgress=null}return i(e,[{key:"read",value:function(){var e=n(d.default.mark(function e(){var t,r,a,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,a=t.done,!a){e.next=9;break}return e.abrupt("return",{value:r,done:a});case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(r).buffer,e.abrupt("return",{value:n,done:!1});case 13:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),g=function(){function e(t,r,a){var n=this;o(this,e),this._stream=t,this._reader=null,this._loaded=0;var s=t.source;for(var i in this._withCredentials=s.withCredentials,this._readCapability=(0,c.createPromiseCapability)(),this._isStreamingSupported=!s.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=new Headers,this._stream.httpHeaders){var d=this._stream.httpHeaders[i];"undefined"!=typeof d&&this._headers.append(i,d)}this._headers.append("Range","bytes="+(r+"-"+(a-1)));var p=s.url;fetch(p,l(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,u.validateResponseStatus)(e.status))throw(0,u.createResponseStatusError)(e.status,p);n._readCapability.resolve(),n._reader=e.body.getReader()}),this.onProgress=null}return i(e,[{key:"read",value:function(){var e=n(d.default.mark(function e(){var t,r,a,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,r=t.value,a=t.done,!a){e.next=9;break}return e.abrupt("return",{value:r,done:a});case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(r).buffer,e.abrupt("return",{value:n,done:!1});case 13:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}()},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r,a,n,o,s){try{var i=e[o](s),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(a,n)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){function s(e){n(l,a,o,s,i,"next",e)}function i(e){n(l,a,o,s,i,"throw",e)}var l=e.apply(t,r);s(void 0)})}}function s(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function i(e){var t=e.response;if("string"!=typeof t)return t;var r=(0,p.stringToBytes)(t);return r.buffer}function l(e){this._source=e,this._manager=new s(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function d(e,t){this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:t.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}function c(e,t,r){this._manager=e;var a={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,r,a),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=l,t.NetworkManager=s;var u=a(r(147)),p=r(1),m=r(166),g=a(r(3));var _=206,h=function(){try{var e=new XMLHttpRequest;return e.open("GET",g.default.location.href),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(t){return!1}}();s.prototype={requestRange:function(e,t,r){var a={begin:e,end:t};for(var n in r)a[n]=r[n];return this.request(a)},requestFull:function(e){return this.request(e)},request:function(e){var t=this.getXhr(),r=this.currXhrId++,a=this.pendingRequests[r]={xhr:t};for(var n in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[n];"undefined"!=typeof o&&t.setRequestHeader(n,o)}if(this.isHttp&&"begin"in e&&"end"in e){var s=e.begin+"-"+(e.end-1);t.setRequestHeader("Range","bytes="+s),a.expectedStatus=206}else a.expectedStatus=200;var i=h&&!!e.onProgressiveData;return i?(t.responseType="moz-chunked-arraybuffer",a.onProgressiveData=e.onProgressiveData,a.mozChunked=!0):t.responseType="arraybuffer",e.onError&&(t.onerror=function(){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),r},onProgress:function(e,t){var r=this.pendingRequests[e];if(r){if(r.mozChunked){var a=i(r.xhr);r.onProgressiveData(a)}var n=r.onProgress;n&&n(t)}},onStateChange:function(e){var t=this.pendingRequests[e];if(t){var r=t.xhr;if((2<=r.readyState&&t.onHeadersReceived&&(t.onHeadersReceived(),delete t.onHeadersReceived),4===r.readyState)&&e in this.pendingRequests){if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void(t.onError&&t.onError(r.status));var a=r.status||200,n=200===a&&t.expectedStatus===_;if(!n&&a!==t.expectedStatus)return void(t.onError&&t.onError(r.status));this.loadedRequests[e]=!0;var o=i(r);if(a===_){var s=r.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(s),d=parseInt(l[1],10);t.onDone({begin:d,chunk:o})}else t.onProgressiveData?t.onDone(null):o?t.onDone({begin:0,chunk:o}):t.onError&&t.onError(r.status)}}},hasPendingRequests:function(){for(var e in this.pendingRequests)return!0;return!1},getRequestXhr:function(e){return this.pendingRequests[e].xhr},isStreamingRequest:function(e){return!!this.pendingRequests[e].onProgressiveData},isPendingRequest:function(e){return e in this.pendingRequests},isLoadedRequest:function(e){return e in this.loadedRequests},abortAllRequests:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)},abortRequest:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},l.prototype={_onRangeRequestReaderClosed:function(e){var t=this._rangeRequestReaders.indexOf(e);0<=t&&this._rangeRequestReaders.splice(t,1)},getFullReader:function(){return(0,p.assert)(!this._fullRequestReader),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader},getRangeReader:function(e,t){var r=new c(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r},cancelAllRequests:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=this._rangeRequestReaders.slice(0);t.forEach(function(t){t.cancel(e)})}},d.prototype={_onHeadersReceived:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=function(e){return t.getResponseHeader(e)},a=(0,m.validateRangeRequestCapabilities)({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),n=a.allowRangeRequests,o=a.suggestedLength;n&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,m.extractFilenameFromHeader)(r);var s=this._manager;s.isStreamingRequest(e)?this._isStreamingSupported=!0:this._isRangeSupported&&s.abortRequest(e),this._headersReceivedCapability.resolve()},_onProgressiveData:function(e){if(0<this._requests.length){var t=this._requests.shift();t.resolve({value:e,done:!1})}else this._cachedChunks.push(e)},_onDone:function(e){e&&this._onProgressiveData(e.chunk),this._done=!0;0<this._cachedChunks.length||(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(e){var t=this._url,r=(0,m.createResponseStatusError)(e,t);this._storedError=r,this._headersReceivedCapability.reject(r),this._requests.forEach(function(e){e.reject(r)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){var e=o(u.default.mark(function e(){var t,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(0<this._cachedChunks.length)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return r=(0,p.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 10:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),cancel:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},c.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(e){var t=e.chunk;if(0<this._requests.length){var r=this._requests.shift();r.resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})},get isStreamingSupported(){return!1},read:function(){var e=o(u.default.mark(function e(){var t,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return r=(0,p.createPromiseCapability)(),this._requests.push(r),e.abrupt("return",r.promise);case 9:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),cancel:function(){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}])});